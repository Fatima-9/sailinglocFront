(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function cy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ud={exports:{}},ho={},dd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function uy(){if(Ff)return De;Ff=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=R&&H[R]||H["@@iterator"],typeof H=="function"?H:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,C={};function T(H,Y,ye){this.props=H,this.context=Y,this.refs=C,this.updater=ye||O}T.prototype.isReactComponent={},T.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=T.prototype;function F(H,Y,ye){this.props=H,this.context=Y,this.refs=C,this.updater=ye||O}var q=F.prototype=new M;q.constructor=F,B(q,T.prototype),q.isPureReactComponent=!0;var V=Array.isArray,ee=Object.prototype.hasOwnProperty,te={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function v(H,Y,ye){var Pe,Ie={},Le=null,Ae=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Ae=Y.ref),Y.key!==void 0&&(Le=""+Y.key),Y)ee.call(Y,Pe)&&!A.hasOwnProperty(Pe)&&(Ie[Pe]=Y[Pe]);var ze=arguments.length-2;if(ze===1)Ie.children=ye;else if(1<ze){for(var Re=Array(ze),nt=0;nt<ze;nt++)Re[nt]=arguments[nt+2];Ie.children=Re}if(H&&H.defaultProps)for(Pe in ze=H.defaultProps,ze)Ie[Pe]===void 0&&(Ie[Pe]=ze[Pe]);return{$$typeof:r,type:H,key:Le,ref:Ae,props:Ie,_owner:te.current}}function k(H,Y){return{$$typeof:r,type:H.type,key:Y,ref:H.ref,props:H.props,_owner:H._owner}}function P(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function U(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return Y[ye]})}var I=/\/+/g;function S(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):Y.toString(36)}function Q(H,Y,ye,Pe,Ie){var Le=typeof H;(Le==="undefined"||Le==="boolean")&&(H=null);var Ae=!1;if(H===null)Ae=!0;else switch(Le){case"string":case"number":Ae=!0;break;case"object":switch(H.$$typeof){case r:case n:Ae=!0}}if(Ae)return Ae=H,Ie=Ie(Ae),H=Pe===""?"."+S(Ae,0):Pe,V(Ie)?(ye="",H!=null&&(ye=H.replace(I,"$&/")+"/"),Q(Ie,Y,ye,"",function(nt){return nt})):Ie!=null&&(P(Ie)&&(Ie=k(Ie,ye+(!Ie.key||Ae&&Ae.key===Ie.key?"":(""+Ie.key).replace(I,"$&/")+"/")+H)),Y.push(Ie)),1;if(Ae=0,Pe=Pe===""?".":Pe+":",V(H))for(var ze=0;ze<H.length;ze++){Le=H[ze];var Re=Pe+S(Le,ze);Ae+=Q(Le,Y,ye,Re,Ie)}else if(Re=E(H),typeof Re=="function")for(H=Re.call(H),ze=0;!(Le=H.next()).done;)Le=Le.value,Re=Pe+S(Le,ze++),Ae+=Q(Le,Y,ye,Re,Ie);else if(Le==="object")throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ae}function fe(H,Y,ye){if(H==null)return H;var Pe=[],Ie=0;return Q(H,Pe,"","",function(Le){return Y.call(ye,Le,Ie++)}),Pe}function be(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var de={current:null},Z={transition:null},le={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Z,ReactCurrentOwner:te};function ne(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:fe,forEach:function(H,Y,ye){fe(H,function(){Y.apply(this,arguments)},ye)},count:function(H){var Y=0;return fe(H,function(){Y++}),Y},toArray:function(H){return fe(H,function(Y){return Y})||[]},only:function(H){if(!P(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},De.Component=T,De.Fragment=i,De.Profiler=c,De.PureComponent=F,De.StrictMode=o,De.Suspense=x,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,De.act=ne,De.cloneElement=function(H,Y,ye){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Pe=B({},H.props),Ie=H.key,Le=H.ref,Ae=H._owner;if(Y!=null){if(Y.ref!==void 0&&(Le=Y.ref,Ae=te.current),Y.key!==void 0&&(Ie=""+Y.key),H.type&&H.type.defaultProps)var ze=H.type.defaultProps;for(Re in Y)ee.call(Y,Re)&&!A.hasOwnProperty(Re)&&(Pe[Re]=Y[Re]===void 0&&ze!==void 0?ze[Re]:Y[Re])}var Re=arguments.length-2;if(Re===1)Pe.children=ye;else if(1<Re){ze=Array(Re);for(var nt=0;nt<Re;nt++)ze[nt]=arguments[nt+2];Pe.children=ze}return{$$typeof:r,type:H.type,key:Ie,ref:Le,props:Pe,_owner:Ae}},De.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:d,_context:H},H.Consumer=H},De.createElement=v,De.createFactory=function(H){var Y=v.bind(null,H);return Y.type=H,Y},De.createRef=function(){return{current:null}},De.forwardRef=function(H){return{$$typeof:y,render:H}},De.isValidElement=P,De.lazy=function(H){return{$$typeof:N,_payload:{_status:-1,_result:H},_init:be}},De.memo=function(H,Y){return{$$typeof:w,type:H,compare:Y===void 0?null:Y}},De.startTransition=function(H){var Y=Z.transition;Z.transition={};try{H()}finally{Z.transition=Y}},De.unstable_act=ne,De.useCallback=function(H,Y){return de.current.useCallback(H,Y)},De.useContext=function(H){return de.current.useContext(H)},De.useDebugValue=function(){},De.useDeferredValue=function(H){return de.current.useDeferredValue(H)},De.useEffect=function(H,Y){return de.current.useEffect(H,Y)},De.useId=function(){return de.current.useId()},De.useImperativeHandle=function(H,Y,ye){return de.current.useImperativeHandle(H,Y,ye)},De.useInsertionEffect=function(H,Y){return de.current.useInsertionEffect(H,Y)},De.useLayoutEffect=function(H,Y){return de.current.useLayoutEffect(H,Y)},De.useMemo=function(H,Y){return de.current.useMemo(H,Y)},De.useReducer=function(H,Y,ye){return de.current.useReducer(H,Y,ye)},De.useRef=function(H){return de.current.useRef(H)},De.useState=function(H){return de.current.useState(H)},De.useSyncExternalStore=function(H,Y,ye){return de.current.useSyncExternalStore(H,Y,ye)},De.useTransition=function(){return de.current.useTransition()},De.version="18.3.1",De}var Bf;function Yd(){return Bf||(Bf=1,dd.exports=uy()),dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function dy(){if($f)return ho;$f=1;var r=Yd(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(y,x,w){var N,R={},E=null,O=null;w!==void 0&&(E=""+w),x.key!==void 0&&(E=""+x.key),x.ref!==void 0&&(O=x.ref);for(N in x)o.call(x,N)&&!d.hasOwnProperty(N)&&(R[N]=x[N]);if(y&&y.defaultProps)for(N in x=y.defaultProps,x)R[N]===void 0&&(R[N]=x[N]);return{$$typeof:n,type:y,key:E,ref:O,props:R,_owner:c.current}}return ho.Fragment=i,ho.jsx=m,ho.jsxs=m,ho}var Vf;function hy(){return Vf||(Vf=1,ud.exports=dy()),ud.exports}var e=hy(),j=Yd();const qe=cy(j);var Zl={},hd={exports:{}},tn={},md={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function my(){return Hf||(Hf=1,function(r){function n(Z,le){var ne=Z.length;Z.push(le);e:for(;0<ne;){var H=ne-1>>>1,Y=Z[H];if(0<c(Y,le))Z[H]=le,Z[ne]=Y,ne=H;else break e}}function i(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var le=Z[0],ne=Z.pop();if(ne!==le){Z[0]=ne;e:for(var H=0,Y=Z.length,ye=Y>>>1;H<ye;){var Pe=2*(H+1)-1,Ie=Z[Pe],Le=Pe+1,Ae=Z[Le];if(0>c(Ie,ne))Le<Y&&0>c(Ae,Ie)?(Z[H]=Ae,Z[Le]=ne,H=Le):(Z[H]=Ie,Z[Pe]=ne,H=Pe);else if(Le<Y&&0>c(Ae,ne))Z[H]=Ae,Z[Le]=ne,H=Le;else break e}}return le}function c(Z,le){var ne=Z.sortIndex-le.sortIndex;return ne!==0?ne:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var x=[],w=[],N=1,R=null,E=3,O=!1,B=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(Z){for(var le=i(w);le!==null;){if(le.callback===null)o(w);else if(le.startTime<=Z)o(w),le.sortIndex=le.expirationTime,n(x,le);else break;le=i(w)}}function V(Z){if(C=!1,q(Z),!B)if(i(x)!==null)B=!0,be(ee);else{var le=i(w);le!==null&&de(V,le.startTime-Z)}}function ee(Z,le){B=!1,C&&(C=!1,M(v),v=-1),O=!0;var ne=E;try{for(q(le),R=i(x);R!==null&&(!(R.expirationTime>le)||Z&&!U());){var H=R.callback;if(typeof H=="function"){R.callback=null,E=R.priorityLevel;var Y=H(R.expirationTime<=le);le=r.unstable_now(),typeof Y=="function"?R.callback=Y:R===i(x)&&o(x),q(le)}else o(x);R=i(x)}if(R!==null)var ye=!0;else{var Pe=i(w);Pe!==null&&de(V,Pe.startTime-le),ye=!1}return ye}finally{R=null,E=ne,O=!1}}var te=!1,A=null,v=-1,k=5,P=-1;function U(){return!(r.unstable_now()-P<k)}function I(){if(A!==null){var Z=r.unstable_now();P=Z;var le=!0;try{le=A(!0,Z)}finally{le?S():(te=!1,A=null)}}else te=!1}var S;if(typeof F=="function")S=function(){F(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,fe=Q.port2;Q.port1.onmessage=I,S=function(){fe.postMessage(null)}}else S=function(){T(I,0)};function be(Z){A=Z,te||(te=!0,S())}function de(Z,le){v=T(function(){Z(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){B||O||(B=!0,be(ee))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return i(x)},r.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ne=E;E=le;try{return Z()}finally{E=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ne=E;E=Z;try{return le()}finally{E=ne}},r.unstable_scheduleCallback=function(Z,le,ne){var H=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,Z={id:N++,callback:le,priorityLevel:Z,startTime:ne,expirationTime:Y,sortIndex:-1},ne>H?(Z.sortIndex=ne,n(w,Z),i(x)===null&&Z===i(w)&&(C?(M(v),v=-1):C=!0,de(V,ne-H))):(Z.sortIndex=Y,n(x,Z),B||O||(B=!0,be(ee))),Z},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(Z){var le=E;return function(){var ne=E;E=le;try{return Z.apply(this,arguments)}finally{E=ne}}}}(fd)),fd}var qf;function fy(){return qf||(qf=1,md.exports=my()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function py(){if(Wf)return tn;Wf=1;var r=Yd(),n=fy();function i(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function d(t,s){m(t,s),m(t+"Capture",s)}function m(t,s){for(c[t]=s,t=0;t<s.length;t++)o.add(s[t])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},R={};function E(t){return x.call(R,t)?!0:x.call(N,t)?!1:w.test(t)?R[t]=!0:(N[t]=!0,!1)}function O(t,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B(t,s,a,u){if(s===null||typeof s>"u"||O(t,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(t,s,a,u,h,p,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=p,this.removeEmptyString=b}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new C(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];T[s]=new C(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new C(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new C(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new C(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new C(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function F(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(M,F);T[s]=new C(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(M,F);T[s]=new C(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(M,F);T[s]=new C(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)});function q(t,s,a,u){var h=T.hasOwnProperty(s)?T[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(B(s,a,h,u)&&(a=null),u||h===null?E(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,u=h.attributeNamespace,a===null?t.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,u?t.setAttributeNS(u,s,a):t.setAttribute(s,a))))}var V=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),te=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),U=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Z=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,H;function Y(t){if(H===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+t}var ye=!1;function Pe(t,s){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var u=X}Reflect.construct(t,[],s)}else{try{s.call()}catch(X){u=X}t.call(s.prototype)}else{try{throw Error()}catch(X){u=X}t()}}catch(X){if(X&&u&&typeof X.stack=="string"){for(var h=X.stack.split(`
`),p=u.stack.split(`
`),b=h.length-1,D=p.length-1;1<=b&&0<=D&&h[b]!==p[D];)D--;for(;1<=b&&0<=D;b--,D--)if(h[b]!==p[D]){if(b!==1||D!==1)do if(b--,D--,0>D||h[b]!==p[D]){var z=`
`+h[b].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=b&&0<=D);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Y(t):""}function Ie(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Pe(t.type,!1),t;case 11:return t=Pe(t.type.render,!1),t;case 1:return t=Pe(t.type,!0),t;default:return""}}function Le(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case te:return"Portal";case k:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case Q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case I:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fe:return s=t.displayName||null,s!==null?s:Le(t.type)||"Memo";case be:s=t._payload,t=t._init;try{return Le(t(s))}catch{}}return null}function Ae(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nt(t){var s=Re(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function En(t){t._valueTracker||(t._valueTracker=nt(t))}function Cn(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return t&&(u=Re(t)?t.checked?"true":"false":t.value),t=u,t!==a?(s.setValue(t),!0):!1}function es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ts(t,s){var a=s.checked;return ne({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Ss(t,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),t._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ns(t,s){s=s.checked,s!=null&&q(t,"checked",s,!1)}function tr(t,s){ns(t,s);var a=ze(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Cs(t,s.type,a):s.hasOwnProperty("defaultValue")&&Cs(t,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Es(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Cs(t,s,a){(s!=="number"||es(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Oe=Array.isArray;function Tn(t,s,a,u){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&u&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Wr(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(i(91));return ne({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function In(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(i(92));if(Oe(a)){if(1<a.length)throw Error(i(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:ze(a)}}function nr(t,s){var a=ze(s.value),u=ze(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),u!=null&&(t.defaultValue=""+u)}function sr(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fn,ss=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,h){MSApp.execUnsafeLocalFunction(function(){return t(s,a,u,h)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(Me).forEach(function(t){rs.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Me[s]=Me[t]})});function Lt(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Me.hasOwnProperty(t)&&Me[t]?(""+s).trim():s+"px"}function Rn(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,h=Lt(a,s[a],u);a==="float"&&(a="cssFloat"),u?t.setProperty(a,h):t[a]=h}}var Gr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(t,s){if(s){if(Gr[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(i(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(i(61))}if(s.style!=null&&typeof s.style!="object")throw Error(i(62))}}function rr(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function Ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kr=null,Ht=null,pn=null;function ir(t){if(t=Ja(t)){if(typeof Kr!="function")throw Error(i(280));var s=t.stateNode;s&&(s=fl(s),Kr(t.stateNode,t.type,s))}}function An(t){Ht?pn?pn.push(t):pn=[t]:Ht=t}function ar(){if(Ht){var t=Ht,s=pn;if(pn=Ht=null,ir(t),s)for(t=0;t<s.length;t++)ir(s[t])}}function or(t,s){return t(s)}function Xr(){}var Dn=!1;function Jr(t,s,a){if(Dn)return t(s,a);Dn=!0;try{return or(t,s,a)}finally{Dn=!1,(Ht!==null||pn!==null)&&(Xr(),ar())}}function st(t,s){var a=t.stateNode;if(a===null)return null;var u=fl(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var lr=!1;if(y)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){lr=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{lr=!1}function gn(t,s,a,u,h,p,b,D,z){var X=Array.prototype.slice.call(arguments,3);try{s.apply(a,X)}catch(re){this.onError(re)}}var is=!1,xn=null,an=!1,L=null,he={onError:function(t){is=!0,xn=t}};function ae(t,s,a,u,h,p,b,D,z){is=!1,xn=null,gn.apply(he,arguments)}function oe(t,s,a,u,h,p,b,D,z){if(ae.apply(this,arguments),is){if(is){var X=xn;is=!1,xn=null}else throw Error(i(198));an||(an=!0,L=X)}}function Ne(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function qt(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Wt(t){if(Ne(t)!==t)throw Error(i(188))}function Is(t){var s=t.alternate;if(!s){if(s=Ne(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,u=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return Wt(h),t;if(p===u)return Wt(h),s;p=p.sibling}throw Error(i(188))}if(a.return!==u.return)a=h,u=p;else{for(var b=!1,D=h.child;D;){if(D===a){b=!0,a=h,u=p;break}if(D===u){b=!0,u=h,a=p;break}D=D.sibling}if(!b){for(D=p.child;D;){if(D===a){b=!0,a=p,u=h;break}if(D===u){b=!0,u=p,a=h;break}D=D.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function Yr(t){return t=Is(t),t!==null?cr(t):null}function cr(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=cr(t);if(s!==null)return s;t=t.sibling}return null}var Ee=n.unstable_scheduleCallback,yn=n.unstable_cancelCallback,Ra=n.unstable_shouldYield,Qr=n.unstable_requestPaint,Je=n.unstable_now,$o=n.unstable_getCurrentPriorityLevel,Zr=n.unstable_ImmediatePriority,ur=n.unstable_UserBlockingPriority,vn=n.unstable_NormalPriority,Aa=n.unstable_LowPriority,Vo=n.unstable_IdlePriority,ei=null,on=null;function Ho(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Wo,Da=Math.log,qo=Math.LN2;function Wo(t){return t>>>=0,t===0?32:31-(Da(t)/qo|0)|0}var Ui=64,zi=4194304;function dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,s){var a=t.pendingLanes;if(a===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,b=a&268435455;if(b!==0){var D=b&~h;D!==0?u=dr(D):(p&=b,p!==0&&(u=dr(p)))}else b=a&~h,b!==0?u=dr(b):p!==0&&(u=dr(p));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,p=s&-s,h>=p||h===16&&(p&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=u;0<s;)a=31-Ot(s),h=1<<a,u|=t[a],s&=~h;return u}function Fc(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(t,s){for(var a=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var b=31-Ot(p),D=1<<b,z=h[b];z===-1?((D&a)===0||(D&u)!==0)&&(h[b]=Fc(D,s)):z<=s&&(t.expiredLanes|=D),p&=~D}}function ln(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ni(){var t=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),t}function hr(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function mr(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Ot(s),t[s]=a}function Xe(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-Ot(a),p=1<<h;s[h]=0,u[h]=-1,t[h]=-1,a&=~p}}function fr(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var u=31-Ot(a),h=1<<u;h&s|t[u]&s&&(t[u]|=s),a&=~h}}var Ue=0;function pr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Go,Fi,Ko,Xo,Jo,La=!1,as=[],kt=null,Ln=null,On=null,gr=new Map,bn=new Map,os=[],Bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yo(t,s){switch(t){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":gr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(s.pointerId)}}function Gt(t,s,a,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Ja(s),s!==null&&Fi(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function $c(t,s,a,u,h){switch(s){case"focusin":return kt=Gt(kt,t,s,a,u,h),!0;case"dragenter":return Ln=Gt(Ln,t,s,a,u,h),!0;case"mouseover":return On=Gt(On,t,s,a,u,h),!0;case"pointerover":var p=h.pointerId;return gr.set(p,Gt(gr.get(p)||null,t,s,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,bn.set(p,Gt(bn.get(p)||null,t,s,a,u,h)),!0}return!1}function Qo(t){var s=ai(t.target);if(s!==null){var a=Ne(s);if(a!==null){if(s=a.tag,s===13){if(s=qt(a),s!==null){t.blockedOn=s,Jo(t.priority,function(){Ko(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rs(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Bi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);sn=u,a.target.dispatchEvent(u),sn=null}else return s=Ja(a),s!==null&&Fi(s),t.blockedOn=a,!1;s.shift()}return!0}function si(t,s,a){Rs(t)&&a.delete(s)}function Zo(){La=!1,kt!==null&&Rs(kt)&&(kt=null),Ln!==null&&Rs(Ln)&&(Ln=null),On!==null&&Rs(On)&&(On=null),gr.forEach(si),bn.forEach(si)}function Mn(t,s){t.blockedOn===s&&(t.blockedOn=null,La||(La=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zo)))}function Un(t){function s(h){return Mn(h,t)}if(0<as.length){Mn(as[0],t);for(var a=1;a<as.length;a++){var u=as[a];u.blockedOn===t&&(u.blockedOn=null)}}for(kt!==null&&Mn(kt,t),Ln!==null&&Mn(Ln,t),On!==null&&Mn(On,t),gr.forEach(s),bn.forEach(s),a=0;a<os.length;a++)u=os[a],u.blockedOn===t&&(u.blockedOn=null);for(;0<os.length&&(a=os[0],a.blockedOn===null);)Qo(a),a.blockedOn===null&&os.shift()}var As=V.ReactCurrentBatchConfig,xr=!0;function rt(t,s,a,u){var h=Ue,p=As.transition;As.transition=null;try{Ue=1,Oa(t,s,a,u)}finally{Ue=h,As.transition=p}}function Vc(t,s,a,u){var h=Ue,p=As.transition;As.transition=null;try{Ue=4,Oa(t,s,a,u)}finally{Ue=h,As.transition=p}}function Oa(t,s,a,u){if(xr){var h=Bi(t,s,a,u);if(h===null)eu(t,s,u,ri,a),Yo(t,u);else if($c(h,t,s,a,u))u.stopPropagation();else if(Yo(t,u),s&4&&-1<Bc.indexOf(t)){for(;h!==null;){var p=Ja(h);if(p!==null&&Go(p),p=Bi(t,s,a,u),p===null&&eu(t,s,u,ri,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else eu(t,s,u,null,a)}}var ri=null;function Bi(t,s,a,u){if(ri=null,t=Ts(u),t=ai(t),t!==null)if(s=Ne(t),s===null)t=null;else if(a=s.tag,a===13){if(t=qt(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ri=t,null}function Ma(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($o()){case Zr:return 1;case ur:return 4;case vn:case Aa:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var cn=null,$i=null,Kt=null;function Ua(){if(Kt)return Kt;var t,s=$i,a=s.length,u,h="value"in cn?cn.value:cn.textContent,p=h.length;for(t=0;t<a&&s[t]===h[t];t++);var b=a-t;for(u=1;u<=b&&s[a-u]===h[p-u];u++);return Kt=h.slice(t,1<u?1-u:void 0)}function Vi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function za(){return!1}function St(t){function s(a,u,h,p,b){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(a=t[D],this[D]=a?a(p):p[D]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:za,this.isPropagationStopped=za,this}return ne(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),s}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=St(zn),cs=ne({},zn,{view:0,detail:0}),Hc=St(cs),qi,Ds,yr,ii=ne({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yr&&(yr&&t.type==="mousemove"?(qi=t.screenX-yr.screenX,Ds=t.screenY-yr.screenY):Ds=qi=0,yr=t),qi)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Wi=St(ii),Fa=ne({},ii,{dataTransfer:0}),el=St(Fa),Gi=ne({},cs,{relatedTarget:0}),Ki=St(Gi),tl=ne({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=St(tl),nl=ne({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sl=St(nl),rl=ne({},zn,{data:0}),Ba=St(rl),Xt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vr(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=al[t])?!!s[t]:!1}function l(){return vr}var f=ne({},cs,{key:function(t){if(t.key){var s=Xt[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?il[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g=St(f),_=ne({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=St(_),J=ne({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l}),ue=St(J),Ke=ne({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=St(Ke),Fe=ne({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bt=St(Fe),wt=[9,13,27,32],us=y&&"CompositionEvent"in window,Et=null;y&&"documentMode"in document&&(Et=document.documentMode);var Xi=y&&"TextEvent"in window&&!Et,Ji=y&&(!us||Et&&8<Et&&11>=Et),Rh=" ",Ah=!1;function Dh(t,s){switch(t){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function a0(t,s){switch(t){case"compositionend":return Lh(s);case"keypress":return s.which!==32?null:(Ah=!0,Rh);case"textInput":return t=s.data,t===Rh&&Ah?null:t;default:return null}}function o0(t,s){if(Yi)return t==="compositionend"||!us&&Dh(t,s)?(t=Ua(),Kt=$i=cn=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!l0[t.type]:s==="textarea"}function Mh(t,s,a,u){An(u),s=dl(s,"onChange"),0<s.length&&(a=new Hi("onChange","change",null,a,u),t.push({event:a,listeners:s}))}var $a=null,Va=null;function c0(t){tm(t,0)}function ol(t){var s=na(t);if(Cn(s))return t}function u0(t,s){if(t==="change")return s}var Uh=!1;if(y){var qc;if(y){var Wc="oninput"in document;if(!Wc){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),Wc=typeof zh.oninput=="function"}qc=Wc}else qc=!1;Uh=qc&&(!document.documentMode||9<document.documentMode)}function Fh(){$a&&($a.detachEvent("onpropertychange",Bh),Va=$a=null)}function Bh(t){if(t.propertyName==="value"&&ol(Va)){var s=[];Mh(s,Va,t,Ts(t)),Jr(c0,s)}}function d0(t,s,a){t==="focusin"?(Fh(),$a=s,Va=a,$a.attachEvent("onpropertychange",Bh)):t==="focusout"&&Fh()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ol(Va)}function m0(t,s){if(t==="click")return ol(s)}function f0(t,s){if(t==="input"||t==="change")return ol(s)}function p0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Fn=typeof Object.is=="function"?Object.is:p0;function Ha(t,s){if(Fn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!x.call(s,h)||!Fn(t[h],s[h]))return!1}return!0}function $h(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vh(t,s){var a=$h(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=s&&u>=s)return{node:a,offset:s-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$h(a)}}function Hh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Hh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function qh(){for(var t=window,s=es();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=es(t.document)}return s}function Gc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function g0(t){var s=qh(),a=t.focusedElem,u=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&Hh(a.ownerDocument.documentElement,a)){if(u!==null&&Gc(a)){if(s=u.start,t=u.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Vh(a,p);var b=Vh(a,u);h&&b&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==b.node||t.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(s),t.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x0=y&&"documentMode"in document&&11>=document.documentMode,Qi=null,Kc=null,qa=null,Xc=!1;function Wh(t,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xc||Qi==null||Qi!==es(u)||(u=Qi,"selectionStart"in u&&Gc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qa&&Ha(qa,u)||(qa=u,u=dl(Kc,"onSelect"),0<u.length&&(s=new Hi("onSelect","select",null,s,a),t.push({event:s,listeners:u}),s.target=Qi)))}function ll(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Zi={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Jc={},Gh={};y&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function cl(t){if(Jc[t])return Jc[t];if(!Zi[t])return t;var s=Zi[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gh)return Jc[t]=s[a];return t}var Kh=cl("animationend"),Xh=cl("animationiteration"),Jh=cl("animationstart"),Yh=cl("transitionend"),Qh=new Map,Zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,s){Qh.set(t,s),d(s,[t])}for(var Yc=0;Yc<Zh.length;Yc++){var Qc=Zh[Yc],y0=Qc.toLowerCase(),v0=Qc[0].toUpperCase()+Qc.slice(1);br(y0,"on"+v0)}br(Kh,"onAnimationEnd"),br(Xh,"onAnimationIteration"),br(Jh,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Yh,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function em(t,s,a){var u=t.type||"unknown-event";t.currentTarget=a,oe(u,s,void 0,t),t.currentTarget=null}function tm(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var b=u.length-1;0<=b;b--){var D=u[b],z=D.instance,X=D.currentTarget;if(D=D.listener,z!==p&&h.isPropagationStopped())break e;em(h,D,X),p=z}else for(b=0;b<u.length;b++){if(D=u[b],z=D.instance,X=D.currentTarget,D=D.listener,z!==p&&h.isPropagationStopped())break e;em(h,D,X),p=z}}}if(an)throw t=L,an=!1,L=null,t}function Qe(t,s){var a=s[au];a===void 0&&(a=s[au]=new Set);var u=t+"__bubble";a.has(u)||(nm(s,t,2,!1),a.add(u))}function Zc(t,s,a){var u=0;s&&(u|=4),nm(a,t,u,s)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[ul]){t[ul]=!0,o.forEach(function(a){a!=="selectionchange"&&(b0.has(a)||Zc(a,!1,t),Zc(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ul]||(s[ul]=!0,Zc("selectionchange",!1,s))}}function nm(t,s,a,u){switch(Ma(s)){case 1:var h=rt;break;case 4:h=Vc;break;default:h=Oa}a=h.bind(null,s,a,t),h=void 0,!lr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function eu(t,s,a,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var D=u.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(b===4)for(b=u.return;b!==null;){var z=b.tag;if((z===3||z===4)&&(z=b.stateNode.containerInfo,z===h||z.nodeType===8&&z.parentNode===h))return;b=b.return}for(;D!==null;){if(b=ai(D),b===null)return;if(z=b.tag,z===5||z===6){u=p=b;continue e}D=D.parentNode}}u=u.return}Jr(function(){var X=p,re=Ts(a),ie=[];e:{var se=Qh.get(t);if(se!==void 0){var ge=Hi,ve=t;switch(t){case"keypress":if(Vi(a)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":ve="focus",ge=Ki;break;case"focusout":ve="blur",ge=Ki;break;case"beforeblur":case"afterblur":ge=Ki;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=ue;break;case Kh:case Xh:case Jh:ge=Ls;break;case Yh:ge=xt;break;case"scroll":ge=Hc;break;case"wheel":ge=bt;break;case"copy":case"cut":case"paste":ge=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=W}var we=(s&4)!==0,mt=!we&&t==="scroll",G=we?se!==null?se+"Capture":null:se;we=[];for(var $=X,K;$!==null;){K=$;var ce=K.stateNode;if(K.tag===5&&ce!==null&&(K=ce,G!==null&&(ce=st($,G),ce!=null&&we.push(Ka($,ce,K)))),mt)break;$=$.return}0<we.length&&(se=new ge(se,ve,null,a,re),ie.push({event:se,listeners:we}))}}if((s&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",se&&a!==sn&&(ve=a.relatedTarget||a.fromElement)&&(ai(ve)||ve[Os]))break e;if((ge||se)&&(se=re.window===re?re:(se=re.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(ve=a.relatedTarget||a.toElement,ge=X,ve=ve?ai(ve):null,ve!==null&&(mt=Ne(ve),ve!==mt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(ge=null,ve=X),ge!==ve)){if(we=Wi,ce="onMouseLeave",G="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(we=W,ce="onPointerLeave",G="onPointerEnter",$="pointer"),mt=ge==null?se:na(ge),K=ve==null?se:na(ve),se=new we(ce,$+"leave",ge,a,re),se.target=mt,se.relatedTarget=K,ce=null,ai(re)===X&&(we=new we(G,$+"enter",ve,a,re),we.target=K,we.relatedTarget=mt,ce=we),mt=ce,ge&&ve)t:{for(we=ge,G=ve,$=0,K=we;K;K=ea(K))$++;for(K=0,ce=G;ce;ce=ea(ce))K++;for(;0<$-K;)we=ea(we),$--;for(;0<K-$;)G=ea(G),K--;for(;$--;){if(we===G||G!==null&&we===G.alternate)break t;we=ea(we),G=ea(G)}we=null}else we=null;ge!==null&&sm(ie,se,ge,we,!1),ve!==null&&mt!==null&&sm(ie,mt,ve,we,!0)}}e:{if(se=X?na(X):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var je=u0;else if(Oh(se))if(Uh)je=f0;else{je=h0;var ke=d0}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(je=m0);if(je&&(je=je(t,X))){Mh(ie,je,a,re);break e}ke&&ke(t,se,X),t==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&Cs(se,"number",se.value)}switch(ke=X?na(X):window,t){case"focusin":(Oh(ke)||ke.contentEditable==="true")&&(Qi=ke,Kc=X,qa=null);break;case"focusout":qa=Kc=Qi=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Wh(ie,a,re);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":Wh(ie,a,re)}var Se;if(us)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Yi?Dh(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ji&&a.locale!=="ko"&&(Yi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Yi&&(Se=Ua()):(cn=re,$i="value"in cn?cn.value:cn.textContent,Yi=!0)),ke=dl(X,Ce),0<ke.length&&(Ce=new Ba(Ce,t,null,a,re),ie.push({event:Ce,listeners:ke}),Se?Ce.data=Se:(Se=Lh(a),Se!==null&&(Ce.data=Se)))),(Se=Xi?a0(t,a):o0(t,a))&&(X=dl(X,"onBeforeInput"),0<X.length&&(re=new Ba("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:X}),re.data=Se))}tm(ie,s)})}function Ka(t,s,a){return{instance:t,listener:s,currentTarget:a}}function dl(t,s){for(var a=s+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=st(t,a),p!=null&&u.unshift(Ka(t,p,h)),p=st(t,s),p!=null&&u.push(Ka(t,p,h))),t=t.return}return u}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sm(t,s,a,u,h){for(var p=s._reactName,b=[];a!==null&&a!==u;){var D=a,z=D.alternate,X=D.stateNode;if(z!==null&&z===u)break;D.tag===5&&X!==null&&(D=X,h?(z=st(a,p),z!=null&&b.unshift(Ka(a,z,D))):h||(z=st(a,p),z!=null&&b.push(Ka(a,z,D)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var w0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function rm(t){return(typeof t=="string"?t:""+t).replace(w0,`
`).replace(j0,"")}function hl(t,s,a){if(s=rm(s),rm(t)!==s&&a)throw Error(i(425))}function ml(){}var tu=null,nu=null;function su(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(t){return im.resolve(null).then(t).catch(k0)}:ru;function k0(t){setTimeout(function(){throw t})}function iu(t,s){var a=s,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){t.removeChild(h),Un(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);Un(s)}function wr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function am(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),ds="__reactFiber$"+ta,Xa="__reactProps$"+ta,Os="__reactContainer$"+ta,au="__reactEvents$"+ta,S0="__reactListeners$"+ta,E0="__reactHandles$"+ta;function ai(t){var s=t[ds];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Os]||a[ds]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=am(t);t!==null;){if(a=t[ds])return a;t=am(t)}return s}t=a,a=t.parentNode}return null}function Ja(t){return t=t[ds]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function fl(t){return t[Xa]||null}var ou=[],sa=-1;function jr(t){return{current:t}}function Ze(t){0>sa||(t.current=ou[sa],ou[sa]=null,sa--)}function Ye(t,s){sa++,ou[sa]=t.current,t.current=s}var Nr={},Pt=jr(Nr),Jt=jr(!1),oi=Nr;function ra(t,s){var a=t.type.contextTypes;if(!a)return Nr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=s[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=h),h}function Yt(t){return t=t.childContextTypes,t!=null}function pl(){Ze(Jt),Ze(Pt)}function om(t,s,a){if(Pt.current!==Nr)throw Error(i(168));Ye(Pt,s),Ye(Jt,a)}function lm(t,s,a){var u=t.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(i(108,Ae(t)||"Unknown",h));return ne({},a,u)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,oi=Pt.current,Ye(Pt,t),Ye(Jt,Jt.current),!0}function cm(t,s,a){var u=t.stateNode;if(!u)throw Error(i(169));a?(t=lm(t,s,oi),u.__reactInternalMemoizedMergedChildContext=t,Ze(Jt),Ze(Pt),Ye(Pt,t)):Ze(Jt),Ye(Jt,a)}var Ms=null,xl=!1,lu=!1;function um(t){Ms===null?Ms=[t]:Ms.push(t)}function C0(t){xl=!0,um(t)}function _r(){if(!lu&&Ms!==null){lu=!0;var t=0,s=Ue;try{var a=Ms;for(Ue=1;t<a.length;t++){var u=a[t];do u=u(!0);while(u!==null)}Ms=null,xl=!1}catch(h){throw Ms!==null&&(Ms=Ms.slice(t+1)),Ee(Zr,_r),h}finally{Ue=s,lu=!1}}return null}var ia=[],aa=0,yl=null,vl=0,wn=[],jn=0,li=null,Us=1,zs="";function ci(t,s){ia[aa++]=vl,ia[aa++]=yl,yl=t,vl=s}function dm(t,s,a){wn[jn++]=Us,wn[jn++]=zs,wn[jn++]=li,li=t;var u=Us;t=zs;var h=32-Ot(u)-1;u&=~(1<<h),a+=1;var p=32-Ot(s)+h;if(30<p){var b=h-h%5;p=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Us=1<<32-Ot(s)+h|a<<h|u,zs=p+t}else Us=1<<p|a<<h|u,zs=t}function cu(t){t.return!==null&&(ci(t,1),dm(t,1,0))}function uu(t){for(;t===yl;)yl=ia[--aa],ia[aa]=null,vl=ia[--aa],ia[aa]=null;for(;t===li;)li=wn[--jn],wn[jn]=null,zs=wn[--jn],wn[jn]=null,Us=wn[--jn],wn[jn]=null}var un=null,dn=null,tt=!1,Bn=null;function hm(t,s){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function mm(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,un=t,dn=wr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,un=t,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=li!==null?{id:Us,overflow:zs}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,un=t,dn=null,!0):!1;default:return!1}}function du(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hu(t){if(tt){var s=dn;if(s){var a=s;if(!mm(t,s)){if(du(t))throw Error(i(418));s=wr(a.nextSibling);var u=un;s&&mm(t,s)?hm(u,a):(t.flags=t.flags&-4097|2,tt=!1,un=t)}}else{if(du(t))throw Error(i(418));t.flags=t.flags&-4097|2,tt=!1,un=t}}}function fm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function bl(t){if(t!==un)return!1;if(!tt)return fm(t),tt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!su(t.type,t.memoizedProps)),s&&(s=dn)){if(du(t))throw pm(),Error(i(418));for(;s;)hm(t,s),s=wr(s.nextSibling)}if(fm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){dn=wr(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}dn=null}}else dn=un?wr(t.stateNode.nextSibling):null;return!0}function pm(){for(var t=dn;t;)t=wr(t.nextSibling)}function oa(){dn=un=null,tt=!1}function mu(t){Bn===null?Bn=[t]:Bn.push(t)}var T0=V.ReactCurrentBatchConfig;function Ya(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var u=a.stateNode}if(!u)throw Error(i(147,t));var h=u,p=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(b){var D=h.refs;b===null?delete D[p]:D[p]=b},s._stringRef=p,s)}if(typeof t!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,t))}return t}function wl(t,s){throw t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function gm(t){var s=t._init;return s(t._payload)}function xm(t){function s(G,$){if(t){var K=G.deletions;K===null?(G.deletions=[$],G.flags|=16):K.push($)}}function a(G,$){if(!t)return null;for(;$!==null;)s(G,$),$=$.sibling;return null}function u(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function h(G,$){return G=Rr(G,$),G.index=0,G.sibling=null,G}function p(G,$,K){return G.index=K,t?(K=G.alternate,K!==null?(K=K.index,K<$?(G.flags|=2,$):K):(G.flags|=2,$)):(G.flags|=1048576,$)}function b(G){return t&&G.alternate===null&&(G.flags|=2),G}function D(G,$,K,ce){return $===null||$.tag!==6?($=rd(K,G.mode,ce),$.return=G,$):($=h($,K),$.return=G,$)}function z(G,$,K,ce){var je=K.type;return je===A?re(G,$,K.props.children,ce,K.key):$!==null&&($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===be&&gm(je)===$.type)?(ce=h($,K.props),ce.ref=Ya(G,$,K),ce.return=G,ce):(ce=ql(K.type,K.key,K.props,null,G.mode,ce),ce.ref=Ya(G,$,K),ce.return=G,ce)}function X(G,$,K,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=id(K,G.mode,ce),$.return=G,$):($=h($,K.children||[]),$.return=G,$)}function re(G,$,K,ce,je){return $===null||$.tag!==7?($=xi(K,G.mode,ce,je),$.return=G,$):($=h($,K),$.return=G,$)}function ie(G,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=rd(""+$,G.mode,K),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ee:return K=ql($.type,$.key,$.props,null,G.mode,K),K.ref=Ya(G,null,$),K.return=G,K;case te:return $=id($,G.mode,K),$.return=G,$;case be:var ce=$._init;return ie(G,ce($._payload),K)}if(Oe($)||le($))return $=xi($,G.mode,K,null),$.return=G,$;wl(G,$)}return null}function se(G,$,K,ce){var je=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return je!==null?null:D(G,$,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:return K.key===je?z(G,$,K,ce):null;case te:return K.key===je?X(G,$,K,ce):null;case be:return je=K._init,se(G,$,je(K._payload),ce)}if(Oe(K)||le(K))return je!==null?null:re(G,$,K,ce,null);wl(G,K)}return null}function ge(G,$,K,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return G=G.get(K)||null,D($,G,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ee:return G=G.get(ce.key===null?K:ce.key)||null,z($,G,ce,je);case te:return G=G.get(ce.key===null?K:ce.key)||null,X($,G,ce,je);case be:var ke=ce._init;return ge(G,$,K,ke(ce._payload),je)}if(Oe(ce)||le(ce))return G=G.get(K)||null,re($,G,ce,je,null);wl($,ce)}return null}function ve(G,$,K,ce){for(var je=null,ke=null,Se=$,Ce=$=0,_t=null;Se!==null&&Ce<K.length;Ce++){Se.index>Ce?(_t=Se,Se=null):_t=Se.sibling;var We=se(G,Se,K[Ce],ce);if(We===null){Se===null&&(Se=_t);break}t&&Se&&We.alternate===null&&s(G,Se),$=p(We,$,Ce),ke===null?je=We:ke.sibling=We,ke=We,Se=_t}if(Ce===K.length)return a(G,Se),tt&&ci(G,Ce),je;if(Se===null){for(;Ce<K.length;Ce++)Se=ie(G,K[Ce],ce),Se!==null&&($=p(Se,$,Ce),ke===null?je=Se:ke.sibling=Se,ke=Se);return tt&&ci(G,Ce),je}for(Se=u(G,Se);Ce<K.length;Ce++)_t=ge(Se,G,Ce,K[Ce],ce),_t!==null&&(t&&_t.alternate!==null&&Se.delete(_t.key===null?Ce:_t.key),$=p(_t,$,Ce),ke===null?je=_t:ke.sibling=_t,ke=_t);return t&&Se.forEach(function(Ar){return s(G,Ar)}),tt&&ci(G,Ce),je}function we(G,$,K,ce){var je=le(K);if(typeof je!="function")throw Error(i(150));if(K=je.call(K),K==null)throw Error(i(151));for(var ke=je=null,Se=$,Ce=$=0,_t=null,We=K.next();Se!==null&&!We.done;Ce++,We=K.next()){Se.index>Ce?(_t=Se,Se=null):_t=Se.sibling;var Ar=se(G,Se,We.value,ce);if(Ar===null){Se===null&&(Se=_t);break}t&&Se&&Ar.alternate===null&&s(G,Se),$=p(Ar,$,Ce),ke===null?je=Ar:ke.sibling=Ar,ke=Ar,Se=_t}if(We.done)return a(G,Se),tt&&ci(G,Ce),je;if(Se===null){for(;!We.done;Ce++,We=K.next())We=ie(G,We.value,ce),We!==null&&($=p(We,$,Ce),ke===null?je=We:ke.sibling=We,ke=We);return tt&&ci(G,Ce),je}for(Se=u(G,Se);!We.done;Ce++,We=K.next())We=ge(Se,G,Ce,We.value,ce),We!==null&&(t&&We.alternate!==null&&Se.delete(We.key===null?Ce:We.key),$=p(We,$,Ce),ke===null?je=We:ke.sibling=We,ke=We);return t&&Se.forEach(function(ly){return s(G,ly)}),tt&&ci(G,Ce),je}function mt(G,$,K,ce){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:e:{for(var je=K.key,ke=$;ke!==null;){if(ke.key===je){if(je=K.type,je===A){if(ke.tag===7){a(G,ke.sibling),$=h(ke,K.props.children),$.return=G,G=$;break e}}else if(ke.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===be&&gm(je)===ke.type){a(G,ke.sibling),$=h(ke,K.props),$.ref=Ya(G,ke,K),$.return=G,G=$;break e}a(G,ke);break}else s(G,ke);ke=ke.sibling}K.type===A?($=xi(K.props.children,G.mode,ce,K.key),$.return=G,G=$):(ce=ql(K.type,K.key,K.props,null,G.mode,ce),ce.ref=Ya(G,$,K),ce.return=G,G=ce)}return b(G);case te:e:{for(ke=K.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){a(G,$.sibling),$=h($,K.children||[]),$.return=G,G=$;break e}else{a(G,$);break}else s(G,$);$=$.sibling}$=id(K,G.mode,ce),$.return=G,G=$}return b(G);case be:return ke=K._init,mt(G,$,ke(K._payload),ce)}if(Oe(K))return ve(G,$,K,ce);if(le(K))return we(G,$,K,ce);wl(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(a(G,$.sibling),$=h($,K),$.return=G,G=$):(a(G,$),$=rd(K,G.mode,ce),$.return=G,G=$),b(G)):a(G,$)}return mt}var la=xm(!0),ym=xm(!1),jl=jr(null),Nl=null,ca=null,fu=null;function pu(){fu=ca=Nl=null}function gu(t){var s=jl.current;Ze(jl),t._currentValue=s}function xu(t,s,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===a)break;t=t.return}}function ua(t,s){Nl=t,fu=ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Qt=!0),t.firstContext=null)}function Nn(t){var s=t._currentValue;if(fu!==t)if(t={context:t,memoizedValue:s,next:null},ca===null){if(Nl===null)throw Error(i(308));ca=t,Nl.dependencies={lanes:0,firstContext:t}}else ca=ca.next=t;return s}var ui=null;function yu(t){ui===null?ui=[t]:ui.push(t)}function vm(t,s,a,u){var h=s.interleaved;return h===null?(a.next=a,yu(s)):(a.next=h.next,h.next=a),s.interleaved=a,Fs(t,u)}function Fs(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var kr=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Sr(t,s,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,Fs(t,a)}return h=u.interleaved,h===null?(s.next=s,yu(u)):(s.next=h.next,h.next=s),u.interleaved=s,Fs(t,a)}function _l(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=t.pendingLanes,a|=u,s.lanes=a,fr(t,a)}}function wm(t,s){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function kl(t,s,a,u){var h=t.updateQueue;kr=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var z=D,X=z.next;z.next=null,b===null?p=X:b.next=X,b=z;var re=t.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==b&&(D===null?re.firstBaseUpdate=X:D.next=X,re.lastBaseUpdate=z))}if(p!==null){var ie=h.baseState;b=0,re=X=z=null,D=p;do{var se=D.lane,ge=D.eventTime;if((u&se)===se){re!==null&&(re=re.next={eventTime:ge,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ve=t,we=D;switch(se=s,ge=a,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ie=ve.call(ge,ie,se);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,se=typeof ve=="function"?ve.call(ge,ie,se):ve,se==null)break e;ie=ne({},ie,se);break e;case 2:kr=!0}}D.callback!==null&&D.lane!==0&&(t.flags|=64,se=h.effects,se===null?h.effects=[D]:se.push(D))}else ge={eventTime:ge,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(X=re=ge,z=ie):re=re.next=ge,b|=se;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;se=D,D=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);if(re===null&&(z=ie),h.baseState=z,h.firstBaseUpdate=X,h.lastBaseUpdate=re,s=h.shared.interleaved,s!==null){h=s;do b|=h.lane,h=h.next;while(h!==s)}else p===null&&(h.shared.lanes=0);mi|=b,t.lanes=b,t.memoizedState=ie}}function jm(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var u=t[s],h=u.callback;if(h!==null){if(u.callback=null,u=a,typeof h!="function")throw Error(i(191,h));h.call(u)}}}var Qa={},hs=jr(Qa),Za=jr(Qa),eo=jr(Qa);function di(t){if(t===Qa)throw Error(i(174));return t}function bu(t,s){switch(Ye(eo,s),Ye(Za,t),Ye(hs,Qa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:et(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=et(s,t)}Ze(hs),Ye(hs,s)}function da(){Ze(hs),Ze(Za),Ze(eo)}function Nm(t){di(eo.current);var s=di(hs.current),a=et(s,t.type);s!==a&&(Ye(Za,t),Ye(hs,a))}function wu(t){Za.current===t&&(Ze(hs),Ze(Za))}var it=jr(0);function Sl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ju=[];function Nu(){for(var t=0;t<ju.length;t++)ju[t]._workInProgressVersionPrimary=null;ju.length=0}var El=V.ReactCurrentDispatcher,_u=V.ReactCurrentBatchConfig,hi=0,at=null,yt=null,jt=null,Cl=!1,to=!1,no=0,I0=0;function Rt(){throw Error(i(321))}function ku(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Fn(t[a],s[a]))return!1;return!0}function Su(t,s,a,u,h,p){if(hi=p,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,El.current=t===null||t.memoizedState===null?D0:L0,t=a(u,h),to){p=0;do{if(to=!1,no=0,25<=p)throw Error(i(301));p+=1,jt=yt=null,s.updateQueue=null,El.current=O0,t=a(u,h)}while(to)}if(El.current=Pl,s=yt!==null&&yt.next!==null,hi=0,jt=yt=at=null,Cl=!1,s)throw Error(i(300));return t}function Eu(){var t=no!==0;return no=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?at.memoizedState=jt=t:jt=jt.next=t,jt}function _n(){if(yt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=jt===null?at.memoizedState:jt.next;if(s!==null)jt=s,yt=t;else{if(t===null)throw Error(i(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},jt===null?at.memoizedState=jt=t:jt=jt.next=t}return jt}function so(t,s){return typeof s=="function"?s(t):s}function Cu(t){var s=_n(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var u=yt,h=u.baseQueue,p=a.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}u.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,u=u.baseState;var D=b=null,z=null,X=p;do{var re=X.lane;if((hi&re)===re)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),u=X.hasEagerState?X.eagerState:t(u,X.action);else{var ie={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(D=z=ie,b=u):z=z.next=ie,at.lanes|=re,mi|=re}X=X.next}while(X!==null&&X!==p);z===null?b=u:z.next=D,Fn(u,s.memoizedState)||(Qt=!0),s.memoizedState=u,s.baseState=b,s.baseQueue=z,a.lastRenderedState=u}if(t=a.interleaved,t!==null){h=t;do p=h.lane,at.lanes|=p,mi|=p,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Tu(t){var s=_n(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var u=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do p=t(p,b.action),b=b.next;while(b!==h);Fn(p,s.memoizedState)||(Qt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,u]}function _m(){}function km(t,s){var a=at,u=_n(),h=s(),p=!Fn(u.memoizedState,h);if(p&&(u.memoizedState=h,Qt=!0),u=u.queue,Iu(Cm.bind(null,a,u,t),[t]),u.getSnapshot!==s||p||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,ro(9,Em.bind(null,a,u,h,s),void 0,null),Nt===null)throw Error(i(349));(hi&30)!==0||Sm(a,s,h)}return h}function Sm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Em(t,s,a,u){s.value=a,s.getSnapshot=u,Tm(s)&&Im(t)}function Cm(t,s,a){return a(function(){Tm(s)&&Im(t)})}function Tm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Fn(t,a)}catch{return!0}}function Im(t){var s=Fs(t,1);s!==null&&qn(s,t,1,-1)}function Pm(t){var s=ms();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},s.queue=t,t=t.dispatch=A0.bind(null,at,t),[s.memoizedState,t]}function ro(t,s,a,u){return t={tag:t,create:s,destroy:a,deps:u,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,s.lastEffect=t)),t}function Rm(){return _n().memoizedState}function Tl(t,s,a,u){var h=ms();at.flags|=t,h.memoizedState=ro(1|s,a,void 0,u===void 0?null:u)}function Il(t,s,a,u){var h=_n();u=u===void 0?null:u;var p=void 0;if(yt!==null){var b=yt.memoizedState;if(p=b.destroy,u!==null&&ku(u,b.deps)){h.memoizedState=ro(s,a,p,u);return}}at.flags|=t,h.memoizedState=ro(1|s,a,p,u)}function Am(t,s){return Tl(8390656,8,t,s)}function Iu(t,s){return Il(2048,8,t,s)}function Dm(t,s){return Il(4,2,t,s)}function Lm(t,s){return Il(4,4,t,s)}function Om(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Mm(t,s,a){return a=a!=null?a.concat([t]):null,Il(4,4,Om.bind(null,s,t),a)}function Pu(){}function Um(t,s){var a=_n();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&ku(s,u[1])?u[0]:(a.memoizedState=[t,s],t)}function zm(t,s){var a=_n();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&ku(s,u[1])?u[0]:(t=t(),a.memoizedState=[t,s],t)}function Fm(t,s,a){return(hi&21)===0?(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=a):(Fn(a,s)||(a=ni(),at.lanes|=a,mi|=a,t.baseState=!0),s)}function P0(t,s){var a=Ue;Ue=a!==0&&4>a?a:4,t(!0);var u=_u.transition;_u.transition={};try{t(!1),s()}finally{Ue=a,_u.transition=u}}function Bm(){return _n().memoizedState}function R0(t,s,a){var u=Ir(t);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},$m(t))Vm(s,a);else if(a=vm(t,s,a,u),a!==null){var h=Ut();qn(a,t,u,h),Hm(a,s,u)}}function A0(t,s,a){var u=Ir(t),h={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if($m(t))Vm(s,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,D=p(b,a);if(h.hasEagerState=!0,h.eagerState=D,Fn(D,b)){var z=s.interleaved;z===null?(h.next=h,yu(s)):(h.next=z.next,z.next=h),s.interleaved=h;return}}catch{}finally{}a=vm(t,s,h,u),a!==null&&(h=Ut(),qn(a,t,u,h),Hm(a,s,u))}}function $m(t){var s=t.alternate;return t===at||s!==null&&s===at}function Vm(t,s){to=Cl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Hm(t,s,a){if((a&4194240)!==0){var u=s.lanes;u&=t.pendingLanes,a|=u,s.lanes=a,fr(t,a)}}var Pl={readContext:Nn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},D0={readContext:Nn,useCallback:function(t,s){return ms().memoizedState=[t,s===void 0?null:s],t},useContext:Nn,useEffect:Am,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,Tl(4194308,4,Om.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Tl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Tl(4,2,t,s)},useMemo:function(t,s){var a=ms();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var u=ms();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},u.queue=t,t=t.dispatch=R0.bind(null,at,t),[u.memoizedState,t]},useRef:function(t){var s=ms();return t={current:t},s.memoizedState=t},useState:Pm,useDebugValue:Pu,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=Pm(!1),s=t[0];return t=P0.bind(null,t[1]),ms().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var u=at,h=ms();if(tt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Nt===null)throw Error(i(349));(hi&30)!==0||Sm(u,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,Am(Cm.bind(null,u,p,t),[t]),u.flags|=2048,ro(9,Em.bind(null,u,p,a,s),void 0,null),a},useId:function(){var t=ms(),s=Nt.identifierPrefix;if(tt){var a=zs,u=Us;a=(u&~(1<<32-Ot(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=no++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=I0++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},L0={readContext:Nn,useCallback:Um,useContext:Nn,useEffect:Iu,useImperativeHandle:Mm,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:zm,useReducer:Cu,useRef:Rm,useState:function(){return Cu(so)},useDebugValue:Pu,useDeferredValue:function(t){var s=_n();return Fm(s,yt.memoizedState,t)},useTransition:function(){var t=Cu(so)[0],s=_n().memoizedState;return[t,s]},useMutableSource:_m,useSyncExternalStore:km,useId:Bm,unstable_isNewReconciler:!1},O0={readContext:Nn,useCallback:Um,useContext:Nn,useEffect:Iu,useImperativeHandle:Mm,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:zm,useReducer:Tu,useRef:Rm,useState:function(){return Tu(so)},useDebugValue:Pu,useDeferredValue:function(t){var s=_n();return yt===null?s.memoizedState=t:Fm(s,yt.memoizedState,t)},useTransition:function(){var t=Tu(so)[0],s=_n().memoizedState;return[t,s]},useMutableSource:_m,useSyncExternalStore:km,useId:Bm,unstable_isNewReconciler:!1};function $n(t,s){if(t&&t.defaultProps){s=ne({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function Ru(t,s,a,u){s=t.memoizedState,a=a(u,s),a=a==null?s:ne({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rl={isMounted:function(t){return(t=t._reactInternals)?Ne(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var u=Ut(),h=Ir(t),p=Bs(u,h);p.payload=s,a!=null&&(p.callback=a),s=Sr(t,p,h),s!==null&&(qn(s,t,h,u),_l(s,t,h))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var u=Ut(),h=Ir(t),p=Bs(u,h);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Sr(t,p,h),s!==null&&(qn(s,t,h,u),_l(s,t,h))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ut(),u=Ir(t),h=Bs(a,u);h.tag=2,s!=null&&(h.callback=s),s=Sr(t,h,u),s!==null&&(qn(s,t,u,a),_l(s,t,u))}};function qm(t,s,a,u,h,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,b):s.prototype&&s.prototype.isPureReactComponent?!Ha(a,u)||!Ha(h,p):!0}function Wm(t,s,a){var u=!1,h=Nr,p=s.contextType;return typeof p=="object"&&p!==null?p=Nn(p):(h=Yt(s)?oi:Pt.current,u=s.contextTypes,p=(u=u!=null)?ra(t,h):Nr),s=new s(a,p),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rl,t.stateNode=s,s._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),s}function Gm(t,s,a,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==t&&Rl.enqueueReplaceState(s,s.state,null)}function Au(t,s,a,u){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},vu(t);var p=s.contextType;typeof p=="object"&&p!==null?h.context=Nn(p):(p=Yt(s)?oi:Pt.current,h.context=ra(t,p)),h.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ru(t,s,p,a),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Rl.enqueueReplaceState(h,h.state,null),kl(t,a,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,s){try{var a="",u=s;do a+=Ie(u),u=u.return;while(u);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:s,stack:h,digest:null}}function Du(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function Lu(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var M0=typeof WeakMap=="function"?WeakMap:Map;function Km(t,s,a){a=Bs(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){zl||(zl=!0,Ju=u),Lu(t,s)},a}function Xm(t,s,a){a=Bs(-1,a),a.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;a.payload=function(){return u(h)},a.callback=function(){Lu(t,s)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Lu(t,s),typeof u!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),a}function Jm(t,s,a){var u=t.pingCache;if(u===null){u=t.pingCache=new M0;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(a)||(h.add(a),t=Y0.bind(null,t,s,a),s.then(t,t))}function Ym(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Qm(t,s,a,u,h){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Bs(-1,1),s.tag=2,Sr(a,s,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var U0=V.ReactCurrentOwner,Qt=!1;function Mt(t,s,a,u){s.child=t===null?ym(s,null,a,u):la(s,t.child,a,u)}function Zm(t,s,a,u,h){a=a.render;var p=s.ref;return ua(s,h),u=Su(t,s,a,u,p,h),a=Eu(),t!==null&&!Qt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,$s(t,s,h)):(tt&&a&&cu(s),s.flags|=1,Mt(t,s,u,h),s.child)}function ef(t,s,a,u,h){if(t===null){var p=a.type;return typeof p=="function"&&!sd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,tf(t,s,p,u,h)):(t=ql(a.type,null,u,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,(t.lanes&h)===0){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ha,a(b,u)&&t.ref===s.ref)return $s(t,s,h)}return s.flags|=1,t=Rr(p,u),t.ref=s.ref,t.return=s,s.child=t}function tf(t,s,a,u,h){if(t!==null){var p=t.memoizedProps;if(Ha(p,u)&&t.ref===s.ref)if(Qt=!1,s.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Qt=!0);else return s.lanes=t.lanes,$s(t,s,h)}return Ou(t,s,a,u,h)}function nf(t,s,a){var u=s.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(fa,hn),hn|=a;else{if((a&1073741824)===0)return t=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ye(fa,hn),hn|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,Ye(fa,hn),hn|=u}else p!==null?(u=p.baseLanes|a,s.memoizedState=null):u=a,Ye(fa,hn),hn|=u;return Mt(t,s,h,a),s.child}function sf(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ou(t,s,a,u,h){var p=Yt(a)?oi:Pt.current;return p=ra(s,p),ua(s,h),a=Su(t,s,a,u,p,h),u=Eu(),t!==null&&!Qt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,$s(t,s,h)):(tt&&u&&cu(s),s.flags|=1,Mt(t,s,a,h),s.child)}function rf(t,s,a,u,h){if(Yt(a)){var p=!0;gl(s)}else p=!1;if(ua(s,h),s.stateNode===null)Dl(t,s),Wm(s,a,u),Au(s,a,u,h),u=!0;else if(t===null){var b=s.stateNode,D=s.memoizedProps;b.props=D;var z=b.context,X=a.contextType;typeof X=="object"&&X!==null?X=Nn(X):(X=Yt(a)?oi:Pt.current,X=ra(s,X));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==u||z!==X)&&Gm(s,b,u,X),kr=!1;var se=s.memoizedState;b.state=se,kl(s,u,b,h),z=s.memoizedState,D!==u||se!==z||Jt.current||kr?(typeof re=="function"&&(Ru(s,a,re,u),z=s.memoizedState),(D=kr||qm(s,a,D,u,se,z,X))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),b.props=u,b.state=z,b.context=X,u=D):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,bm(t,s),D=s.memoizedProps,X=s.type===s.elementType?D:$n(s.type,D),b.props=X,ie=s.pendingProps,se=b.context,z=a.contextType,typeof z=="object"&&z!==null?z=Nn(z):(z=Yt(a)?oi:Pt.current,z=ra(s,z));var ge=a.getDerivedStateFromProps;(re=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==ie||se!==z)&&Gm(s,b,u,z),kr=!1,se=s.memoizedState,b.state=se,kl(s,u,b,h);var ve=s.memoizedState;D!==ie||se!==ve||Jt.current||kr?(typeof ge=="function"&&(Ru(s,a,ge,u),ve=s.memoizedState),(X=kr||qm(s,a,X,u,se,ve,z)||!1)?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,ve,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,ve,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ve),b.props=u,b.state=ve,b.context=z,u=X):(typeof b.componentDidUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(s.flags|=1024),u=!1)}return Mu(t,s,a,u,p,h)}function Mu(t,s,a,u,h,p){sf(t,s);var b=(s.flags&128)!==0;if(!u&&!b)return h&&cm(s,a,!1),$s(t,s,p);u=s.stateNode,U0.current=s;var D=b&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,t!==null&&b?(s.child=la(s,t.child,null,p),s.child=la(s,null,D,p)):Mt(t,s,D,p),s.memoizedState=u.state,h&&cm(s,a,!0),s.child}function af(t){var s=t.stateNode;s.pendingContext?om(t,s.pendingContext,s.pendingContext!==s.context):s.context&&om(t,s.context,!1),bu(t,s.containerInfo)}function of(t,s,a,u,h){return oa(),mu(h),s.flags|=256,Mt(t,s,a,u),s.child}var Uu={dehydrated:null,treeContext:null,retryLane:0};function zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function lf(t,s,a){var u=s.pendingProps,h=it.current,p=!1,b=(s.flags&128)!==0,D;if((D=b)||(D=t!==null&&t.memoizedState===null?!1:(h&2)!==0),D?(p=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ye(it,h&1),t===null)return hu(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=u.children,t=u.fallback,p?(u=s.mode,p=s.child,b={mode:"hidden",children:b},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=Wl(b,u,0,null),t=xi(t,u,a,null),p.return=s,t.return=s,p.sibling=t,s.child=p,s.child.memoizedState=zu(a),s.memoizedState=Uu,t):Fu(s,b));if(h=t.memoizedState,h!==null&&(D=h.dehydrated,D!==null))return z0(t,s,b,u,D,h,a);if(p){p=u.fallback,b=s.mode,h=t.child,D=h.sibling;var z={mode:"hidden",children:u.children};return(b&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=z,s.deletions=null):(u=Rr(h,z),u.subtreeFlags=h.subtreeFlags&14680064),D!==null?p=Rr(D,p):(p=xi(p,b,a,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,b=t.child.memoizedState,b=b===null?zu(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=t.childLanes&~a,s.memoizedState=Uu,u}return p=t.child,t=p.sibling,u=Rr(p,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=u,s.memoizedState=null,u}function Fu(t,s){return s=Wl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Al(t,s,a,u){return u!==null&&mu(u),la(s,t.child,null,a),t=Fu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function z0(t,s,a,u,h,p,b){if(a)return s.flags&256?(s.flags&=-257,u=Du(Error(i(422))),Al(t,s,b,u)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(p=u.fallback,h=s.mode,u=Wl({mode:"visible",children:u.children},h,0,null),p=xi(p,h,b,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,(s.mode&1)!==0&&la(s,t.child,null,b),s.child.memoizedState=zu(b),s.memoizedState=Uu,p);if((s.mode&1)===0)return Al(t,s,b,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var D=u.dgst;return u=D,p=Error(i(419)),u=Du(p,u,void 0),Al(t,s,b,u)}if(D=(b&t.childLanes)!==0,Qt||D){if(u=Nt,u!==null){switch(b&-b){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|b))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Fs(t,h),qn(u,t,h,-1))}return nd(),u=Du(Error(i(421))),Al(t,s,b,u)}return h.data==="$?"?(s.flags|=128,s.child=t.child,s=Q0.bind(null,t),h._reactRetry=s,null):(t=p.treeContext,dn=wr(h.nextSibling),un=s,tt=!0,Bn=null,t!==null&&(wn[jn++]=Us,wn[jn++]=zs,wn[jn++]=li,Us=t.id,zs=t.overflow,li=s),s=Fu(s,u.children),s.flags|=4096,s)}function cf(t,s,a){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),xu(t.return,s,a)}function Bu(t,s,a,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function uf(t,s,a){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(Mt(t,s,u.children,a),u=it.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,a,s);else if(t.tag===19)cf(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ye(it,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Sl(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Bu(s,!1,h,a,p);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Sl(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bu(s,!0,a,null,p);break;case"together":Bu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Dl(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function $s(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),mi|=s.lanes,(a&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Rr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Rr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function F0(t,s,a){switch(s.tag){case 3:af(s),oa();break;case 5:Nm(s);break;case 1:Yt(s.type)&&gl(s);break;case 4:bu(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;Ye(jl,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?lf(t,s,a):(Ye(it,it.current&1),t=$s(t,s,a),t!==null?t.sibling:null);Ye(it,it.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(t.flags&128)!==0){if(u)return uf(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ye(it,it.current),u)break;return null;case 22:case 23:return s.lanes=0,nf(t,s,a)}return $s(t,s,a)}var df,$u,hf,mf;df=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$u=function(){},hf=function(t,s,a,u){var h=t.memoizedProps;if(h!==u){t=s.stateNode,di(hs.current);var p=null;switch(a){case"input":h=ts(t,h),u=ts(t,u),p=[];break;case"select":h=ne({},h,{value:void 0}),u=ne({},u,{value:void 0}),p=[];break;case"textarea":h=Wr(t,h),u=Wr(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ml)}nn(a,u);var b;a=null;for(X in h)if(!u.hasOwnProperty(X)&&h.hasOwnProperty(X)&&h[X]!=null)if(X==="style"){var D=h[X];for(b in D)D.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(c.hasOwnProperty(X)?p||(p=[]):(p=p||[]).push(X,null));for(X in u){var z=u[X];if(D=h?.[X],u.hasOwnProperty(X)&&z!==D&&(z!=null||D!=null))if(X==="style")if(D){for(b in D)!D.hasOwnProperty(b)||z&&z.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in z)z.hasOwnProperty(b)&&D[b]!==z[b]&&(a||(a={}),a[b]=z[b])}else a||(p||(p=[]),p.push(X,a)),a=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,D=D?D.__html:void 0,z!=null&&D!==z&&(p=p||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(p=p||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(c.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&Qe("scroll",t),p||D===z||(p=[])):(p=p||[]).push(X,z))}a&&(p=p||[]).push("style",a);var X=p;(s.updateQueue=X)&&(s.flags|=4)}},mf=function(t,s,a,u){a!==u&&(s.flags|=4)};function io(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function At(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=a,s}function B0(t,s,a){var u=s.pendingProps;switch(uu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return Yt(s.type)&&pl(),At(s),null;case 3:return u=s.stateNode,da(),Ze(Jt),Ze(Pt),Nu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(bl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bn!==null&&(Zu(Bn),Bn=null))),$u(t,s),At(s),null;case 5:wu(s);var h=di(eo.current);if(a=s.type,t!==null&&s.stateNode!=null)hf(t,s,a,u,h),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(t=di(hs.current),bl(s)){u=s.stateNode,a=s.type;var p=s.memoizedProps;switch(u[ds]=s,u[Xa]=p,t=(s.mode&1)!==0,a){case"dialog":Qe("cancel",u),Qe("close",u);break;case"iframe":case"object":case"embed":Qe("load",u);break;case"video":case"audio":for(h=0;h<Wa.length;h++)Qe(Wa[h],u);break;case"source":Qe("error",u);break;case"img":case"image":case"link":Qe("error",u),Qe("load",u);break;case"details":Qe("toggle",u);break;case"input":Ss(u,p),Qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Qe("invalid",u);break;case"textarea":In(u,p),Qe("invalid",u)}nn(a,p),h=null;for(var b in p)if(p.hasOwnProperty(b)){var D=p[b];b==="children"?typeof D=="string"?u.textContent!==D&&(p.suppressHydrationWarning!==!0&&hl(u.textContent,D,t),h=["children",D]):typeof D=="number"&&u.textContent!==""+D&&(p.suppressHydrationWarning!==!0&&hl(u.textContent,D,t),h=["children",""+D]):c.hasOwnProperty(b)&&D!=null&&b==="onScroll"&&Qe("scroll",u)}switch(a){case"input":En(u),Es(u,p,!0);break;case"textarea":En(u),sr(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=ml)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{b=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=b.createElement(a,{is:u.is}):(t=b.createElement(a),a==="select"&&(b=t,u.multiple?b.multiple=!0:u.size&&(b.size=u.size))):t=b.createElementNS(t,a),t[ds]=s,t[Xa]=u,df(t,s,!1,!1),s.stateNode=t;e:{switch(b=rr(a,u),a){case"dialog":Qe("cancel",t),Qe("close",t),h=u;break;case"iframe":case"object":case"embed":Qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Wa.length;h++)Qe(Wa[h],t);h=u;break;case"source":Qe("error",t),h=u;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),h=u;break;case"details":Qe("toggle",t),h=u;break;case"input":Ss(t,u),h=ts(t,u),Qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ne({},u,{value:void 0}),Qe("invalid",t);break;case"textarea":In(t,u),h=Wr(t,u),Qe("invalid",t);break;default:h=u}nn(a,h),D=h;for(p in D)if(D.hasOwnProperty(p)){var z=D[p];p==="style"?Rn(t,z):p==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&ss(t,z)):p==="children"?typeof z=="string"?(a!=="textarea"||z!=="")&&Pn(t,z):typeof z=="number"&&Pn(t,""+z):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?z!=null&&p==="onScroll"&&Qe("scroll",t):z!=null&&q(t,p,z,b))}switch(a){case"input":En(t),Es(t,u,!1);break;case"textarea":En(t),sr(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ze(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Tn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Tn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=ml)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return At(s),null;case 6:if(t&&s.stateNode!=null)mf(t,s,t.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(a=di(eo.current),di(hs.current),bl(s)){if(u=s.stateNode,a=s.memoizedProps,u[ds]=s,(p=u.nodeValue!==a)&&(t=un,t!==null))switch(t.tag){case 3:hl(u.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(u.nodeValue,a,(t.mode&1)!==0)}p&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[ds]=s,s.stateNode=u}return At(s),null;case 13:if(Ze(it),u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)pm(),oa(),s.flags|=98560,p=!1;else if(p=bl(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[ds]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),p=!1}else Bn!==null&&(Zu(Bn),Bn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(it.current&1)!==0?vt===0&&(vt=3):nd())),s.updateQueue!==null&&(s.flags|=4),At(s),null);case 4:return da(),$u(t,s),t===null&&Ga(s.stateNode.containerInfo),At(s),null;case 10:return gu(s.type._context),At(s),null;case 17:return Yt(s.type)&&pl(),At(s),null;case 19:if(Ze(it),p=s.memoizedState,p===null)return At(s),null;if(u=(s.flags&128)!==0,b=p.rendering,b===null)if(u)io(p,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(b=Sl(t),b!==null){for(s.flags|=128,io(p,!1),u=b.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)p=a,t=u,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,t=b.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),s.child}t=t.sibling}p.tail!==null&&Je()>pa&&(s.flags|=128,u=!0,io(p,!1),s.lanes=4194304)}else{if(!u)if(t=Sl(b),t!==null){if(s.flags|=128,u=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),io(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!tt)return At(s),null}else 2*Je()-p.renderingStartTime>pa&&a!==1073741824&&(s.flags|=128,u=!0,io(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(a=p.last,a!==null?a.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Je(),s.sibling=null,a=it.current,Ye(it,u?a&1|2:a&1),s):(At(s),null);case 22:case 23:return td(),u=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(hn&1073741824)!==0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),null;case 24:return null;case 25:return null}throw Error(i(156,s.tag))}function $0(t,s){switch(uu(s),s.tag){case 1:return Yt(s.type)&&pl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return da(),Ze(Jt),Ze(Pt),Nu(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return wu(s),null;case 13:if(Ze(it),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));oa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ze(it),null;case 4:return da(),null;case 10:return gu(s.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var Ll=!1,Dt=!1,V0=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ma(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){ut(t,s,u)}else a.current=null}function Vu(t,s,a){try{a()}catch(u){ut(t,s,u)}}var ff=!1;function H0(t,s){if(tu=xr,t=qh(),Gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,D=-1,z=-1,X=0,re=0,ie=t,se=null;t:for(;;){for(var ge;ie!==a||h!==0&&ie.nodeType!==3||(D=b+h),ie!==p||u!==0&&ie.nodeType!==3||(z=b+u),ie.nodeType===3&&(b+=ie.nodeValue.length),(ge=ie.firstChild)!==null;)se=ie,ie=ge;for(;;){if(ie===t)break t;if(se===a&&++X===h&&(D=b),se===p&&++re===u&&(z=b),(ge=ie.nextSibling)!==null)break;ie=se,se=ie.parentNode}ie=ge}a=D===-1||z===-1?null:{start:D,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(nu={focusedElem:t,selectionRange:a},xr=!1,xe=s;xe!==null;)if(s=xe,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,xe=t;else for(;xe!==null;){s=xe;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,mt=ve.memoizedState,G=s.stateNode,$=G.getSnapshotBeforeUpdate(s.elementType===s.type?we:$n(s.type,we),mt);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ce){ut(s,s.return,ce)}if(t=s.sibling,t!==null){t.return=s.return,xe=t;break}xe=s.return}return ve=ff,ff=!1,ve}function ao(t,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Vu(s,a,p)}h=h.next}while(h!==u)}}function Ol(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function Hu(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function pf(t){var s=t.alternate;s!==null&&(t.alternate=null,pf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ds],delete s[Xa],delete s[au],delete s[S0],delete s[E0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gf(t){return t.tag===5||t.tag===3||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,s,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ml));else if(u!==4&&(t=t.child,t!==null))for(qu(t,s,a),t=t.sibling;t!==null;)qu(t,s,a),t=t.sibling}function Wu(t,s,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Wu(t,s,a),t=t.sibling;t!==null;)Wu(t,s,a),t=t.sibling}var Ct=null,Vn=!1;function Er(t,s,a){for(a=a.child;a!==null;)yf(t,s,a),a=a.sibling}function yf(t,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 5:Dt||ma(a,s);case 6:var u=Ct,h=Vn;Ct=null,Er(t,s,a),Ct=u,Vn=h,Ct!==null&&(Vn?(t=Ct,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(Vn?(t=Ct,a=a.stateNode,t.nodeType===8?iu(t.parentNode,a):t.nodeType===1&&iu(t,a),Un(t)):iu(Ct,a.stateNode));break;case 4:u=Ct,h=Vn,Ct=a.stateNode.containerInfo,Vn=!0,Er(t,s,a),Ct=u,Vn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&Vu(a,s,b),h=h.next}while(h!==u)}Er(t,s,a);break;case 1:if(!Dt&&(ma(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(D){ut(a,s,D)}Er(t,s,a);break;case 21:Er(t,s,a);break;case 22:a.mode&1?(Dt=(u=Dt)||a.memoizedState!==null,Er(t,s,a),Dt=u):Er(t,s,a);break;default:Er(t,s,a)}}function vf(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new V0),s.forEach(function(u){var h=Z0.bind(null,t,u);a.has(u)||(a.add(u),u.then(h,h))})}}function Hn(t,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];try{var p=t,b=s,D=b;e:for(;D!==null;){switch(D.tag){case 5:Ct=D.stateNode,Vn=!1;break e;case 3:Ct=D.stateNode.containerInfo,Vn=!0;break e;case 4:Ct=D.stateNode.containerInfo,Vn=!0;break e}D=D.return}if(Ct===null)throw Error(i(160));yf(p,b,h),Ct=null,Vn=!1;var z=h.alternate;z!==null&&(z.return=null),h.return=null}catch(X){ut(h,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bf(s,t),s=s.sibling}function bf(t,s){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(s,t),fs(t),u&4){try{ao(3,t,t.return),Ol(3,t)}catch(we){ut(t,t.return,we)}try{ao(5,t,t.return)}catch(we){ut(t,t.return,we)}}break;case 1:Hn(s,t),fs(t),u&512&&a!==null&&ma(a,a.return);break;case 5:if(Hn(s,t),fs(t),u&512&&a!==null&&ma(a,a.return),t.flags&32){var h=t.stateNode;try{Pn(h,"")}catch(we){ut(t,t.return,we)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,b=a!==null?a.memoizedProps:p,D=t.type,z=t.updateQueue;if(t.updateQueue=null,z!==null)try{D==="input"&&p.type==="radio"&&p.name!=null&&ns(h,p),rr(D,b);var X=rr(D,p);for(b=0;b<z.length;b+=2){var re=z[b],ie=z[b+1];re==="style"?Rn(h,ie):re==="dangerouslySetInnerHTML"?ss(h,ie):re==="children"?Pn(h,ie):q(h,re,ie,X)}switch(D){case"input":tr(h,p);break;case"textarea":nr(h,p);break;case"select":var se=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ge=p.value;ge!=null?Tn(h,!!p.multiple,ge,!1):se!==!!p.multiple&&(p.defaultValue!=null?Tn(h,!!p.multiple,p.defaultValue,!0):Tn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Xa]=p}catch(we){ut(t,t.return,we)}}break;case 6:if(Hn(s,t),fs(t),u&4){if(t.stateNode===null)throw Error(i(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(we){ut(t,t.return,we)}}break;case 3:if(Hn(s,t),fs(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(we){ut(t,t.return,we)}break;case 4:Hn(s,t),fs(t);break;case 13:Hn(s,t),fs(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Xu=Je())),u&4&&vf(t);break;case 22:if(re=a!==null&&a.memoizedState!==null,t.mode&1?(Dt=(X=Dt)||re,Hn(s,t),Dt=X):Hn(s,t),fs(t),u&8192){if(X=t.memoizedState!==null,(t.stateNode.isHidden=X)&&!re&&(t.mode&1)!==0)for(xe=t,re=t.child;re!==null;){for(ie=xe=re;xe!==null;){switch(se=xe,ge=se.child,se.tag){case 0:case 11:case 14:case 15:ao(4,se,se.return);break;case 1:ma(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){u=se,a=se.return;try{s=u,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){ut(u,a,we)}}break;case 5:ma(se,se.return);break;case 22:if(se.memoizedState!==null){Nf(ie);continue}}ge!==null?(ge.return=se,xe=ge):Nf(ie)}re=re.sibling}e:for(re=null,ie=t;;){if(ie.tag===5){if(re===null){re=ie;try{h=ie.stateNode,X?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(D=ie.stateNode,z=ie.memoizedProps.style,b=z!=null&&z.hasOwnProperty("display")?z.display:null,D.style.display=Lt("display",b))}catch(we){ut(t,t.return,we)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(we){ut(t,t.return,we)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===t)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===t)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===t)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Hn(s,t),fs(t),u&4&&vf(t);break;case 21:break;default:Hn(s,t),fs(t)}}function fs(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(gf(a)){var u=a;break e}a=a.return}throw Error(i(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Pn(h,""),u.flags&=-33);var p=xf(t);Wu(t,p,h);break;case 3:case 4:var b=u.stateNode.containerInfo,D=xf(t);qu(t,D,b);break;default:throw Error(i(161))}}catch(z){ut(t,t.return,z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function q0(t,s,a){xe=t,wf(t)}function wf(t,s,a){for(var u=(t.mode&1)!==0;xe!==null;){var h=xe,p=h.child;if(h.tag===22&&u){var b=h.memoizedState!==null||Ll;if(!b){var D=h.alternate,z=D!==null&&D.memoizedState!==null||Dt;D=Ll;var X=Dt;if(Ll=b,(Dt=z)&&!X)for(xe=h;xe!==null;)b=xe,z=b.child,b.tag===22&&b.memoizedState!==null?_f(h):z!==null?(z.return=b,xe=z):_f(h);for(;p!==null;)xe=p,wf(p),p=p.sibling;xe=h,Ll=D,Dt=X}jf(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,xe=p):jf(t)}}function jf(t){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Dt||Ol(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Dt)if(a===null)u.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:$n(s.type,a.memoizedProps);u.componentDidUpdate(h,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&jm(s,p,u);break;case 3:var b=s.updateQueue;if(b!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}jm(s,b,a)}break;case 5:var D=s.stateNode;if(a===null&&s.flags&4){a=D;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&a.focus();break;case"img":z.src&&(a.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Un(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Dt||s.flags&512&&Hu(s)}catch(se){ut(s,s.return,se)}}if(s===t){xe=null;break}if(a=s.sibling,a!==null){a.return=s.return,xe=a;break}xe=s.return}}function Nf(t){for(;xe!==null;){var s=xe;if(s===t){xe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,xe=a;break}xe=s.return}}function _f(t){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ol(4,s)}catch(z){ut(s,a,z)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(z){ut(s,h,z)}}var p=s.return;try{Hu(s)}catch(z){ut(s,p,z)}break;case 5:var b=s.return;try{Hu(s)}catch(z){ut(s,b,z)}}}catch(z){ut(s,s.return,z)}if(s===t){xe=null;break}var D=s.sibling;if(D!==null){D.return=s.return,xe=D;break}xe=s.return}}var W0=Math.ceil,Ml=V.ReactCurrentDispatcher,Gu=V.ReactCurrentOwner,kn=V.ReactCurrentBatchConfig,He=0,Nt=null,pt=null,Tt=0,hn=0,fa=jr(0),vt=0,oo=null,mi=0,Ul=0,Ku=0,lo=null,Zt=null,Xu=0,pa=1/0,Vs=null,zl=!1,Ju=null,Cr=null,Fl=!1,Tr=null,Bl=0,co=0,Yu=null,$l=-1,Vl=0;function Ut(){return(He&6)!==0?Je():$l!==-1?$l:$l=Je()}function Ir(t){return(t.mode&1)===0?1:(He&2)!==0&&Tt!==0?Tt&-Tt:T0.transition!==null?(Vl===0&&(Vl=ni()),Vl):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:Ma(t.type)),t)}function qn(t,s,a,u){if(50<co)throw co=0,Yu=null,Error(i(185));mr(t,a,u),((He&2)===0||t!==Nt)&&(t===Nt&&((He&2)===0&&(Ul|=a),vt===4&&Pr(t,Tt)),en(t,u),a===1&&He===0&&(s.mode&1)===0&&(pa=Je()+500,xl&&_r()))}function en(t,s){var a=t.callbackNode;Ps(t,s);var u=ti(t,t===Nt?Tt:0);if(u===0)a!==null&&yn(a),t.callbackNode=null,t.callbackPriority=0;else if(s=u&-u,t.callbackPriority!==s){if(a!=null&&yn(a),s===1)t.tag===0?C0(Sf.bind(null,t)):um(Sf.bind(null,t)),_0(function(){(He&6)===0&&_r()}),a=null;else{switch(pr(u)){case 1:a=Zr;break;case 4:a=ur;break;case 16:a=vn;break;case 536870912:a=Vo;break;default:a=vn}a=Df(a,kf.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function kf(t,s){if($l=-1,Vl=0,(He&6)!==0)throw Error(i(327));var a=t.callbackNode;if(ga()&&t.callbackNode!==a)return null;var u=ti(t,t===Nt?Tt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||s)s=Hl(t,u);else{s=u;var h=He;He|=2;var p=Cf();(Nt!==t||Tt!==s)&&(Vs=null,pa=Je()+500,pi(t,s));do try{X0();break}catch(D){Ef(t,D)}while(!0);pu(),Ml.current=p,He=h,pt!==null?s=0:(Nt=null,Tt=0,s=vt)}if(s!==0){if(s===2&&(h=ln(t),h!==0&&(u=h,s=Qu(t,h))),s===1)throw a=oo,pi(t,0),Pr(t,u),en(t,Je()),a;if(s===6)Pr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!G0(h)&&(s=Hl(t,u),s===2&&(p=ln(t),p!==0&&(u=p,s=Qu(t,p))),s===1))throw a=oo,pi(t,0),Pr(t,u),en(t,Je()),a;switch(t.finishedWork=h,t.finishedLanes=u,s){case 0:case 1:throw Error(i(345));case 2:gi(t,Zt,Vs);break;case 3:if(Pr(t,u),(u&130023424)===u&&(s=Xu+500-Je(),10<s)){if(ti(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=ru(gi.bind(null,t,Zt,Vs),s);break}gi(t,Zt,Vs);break;case 4:if(Pr(t,u),(u&4194240)===u)break;for(s=t.eventTimes,h=-1;0<u;){var b=31-Ot(u);p=1<<b,b=s[b],b>h&&(h=b),u&=~p}if(u=h,u=Je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*W0(u/1960))-u,10<u){t.timeoutHandle=ru(gi.bind(null,t,Zt,Vs),u);break}gi(t,Zt,Vs);break;case 5:gi(t,Zt,Vs);break;default:throw Error(i(329))}}}return en(t,Je()),t.callbackNode===a?kf.bind(null,t):null}function Qu(t,s){var a=lo;return t.current.memoizedState.isDehydrated&&(pi(t,s).flags|=256),t=Hl(t,s),t!==2&&(s=Zt,Zt=a,s!==null&&Zu(s)),t}function Zu(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function G0(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!Fn(p(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pr(t,s){for(s&=~Ku,s&=~Ul,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-Ot(s),u=1<<a;t[a]=-1,s&=~u}}function Sf(t){if((He&6)!==0)throw Error(i(327));ga();var s=ti(t,0);if((s&1)===0)return en(t,Je()),null;var a=Hl(t,s);if(t.tag!==0&&a===2){var u=ln(t);u!==0&&(s=u,a=Qu(t,u))}if(a===1)throw a=oo,pi(t,0),Pr(t,s),en(t,Je()),a;if(a===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,gi(t,Zt,Vs),en(t,Je()),null}function ed(t,s){var a=He;He|=1;try{return t(s)}finally{He=a,He===0&&(pa=Je()+500,xl&&_r())}}function fi(t){Tr!==null&&Tr.tag===0&&(He&6)===0&&ga();var s=He;He|=1;var a=kn.transition,u=Ue;try{if(kn.transition=null,Ue=1,t)return t()}finally{Ue=u,kn.transition=a,He=s,(He&6)===0&&_r()}}function td(){hn=fa.current,Ze(fa)}function pi(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,N0(a)),pt!==null)for(a=pt.return;a!==null;){var u=a;switch(uu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&pl();break;case 3:da(),Ze(Jt),Ze(Pt),Nu();break;case 5:wu(u);break;case 4:da();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:gu(u.type._context);break;case 22:case 23:td()}a=a.return}if(Nt=t,pt=t=Rr(t.current,null),Tt=hn=s,vt=0,oo=null,Ku=Ul=mi=0,Zt=lo=null,ui!==null){for(s=0;s<ui.length;s++)if(a=ui[s],u=a.interleaved,u!==null){a.interleaved=null;var h=u.next,p=a.pending;if(p!==null){var b=p.next;p.next=h,u.next=b}a.pending=u}ui=null}return t}function Ef(t,s){do{var a=pt;try{if(pu(),El.current=Pl,Cl){for(var u=at.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Cl=!1}if(hi=0,jt=yt=at=null,to=!1,no=0,Gu.current=null,a===null||a.return===null){vt=1,oo=s,pt=null;break}e:{var p=t,b=a.return,D=a,z=s;if(s=Tt,D.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,re=D,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var se=re.alternate;se?(re.updateQueue=se.updateQueue,re.memoizedState=se.memoizedState,re.lanes=se.lanes):(re.updateQueue=null,re.memoizedState=null)}var ge=Ym(b);if(ge!==null){ge.flags&=-257,Qm(ge,b,D,p,s),ge.mode&1&&Jm(p,X,s),s=ge,z=X;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(z),s.updateQueue=we}else ve.add(z);break e}else{if((s&1)===0){Jm(p,X,s),nd();break e}z=Error(i(426))}}else if(tt&&D.mode&1){var mt=Ym(b);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Qm(mt,b,D,p,s),mu(ha(z,D));break e}}p=z=ha(z,D),vt!==4&&(vt=2),lo===null?lo=[p]:lo.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var G=Km(p,z,s);wm(p,G);break e;case 1:D=z;var $=p.type,K=p.stateNode;if((p.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Cr===null||!Cr.has(K)))){p.flags|=65536,s&=-s,p.lanes|=s;var ce=Xm(p,D,s);wm(p,ce);break e}}p=p.return}while(p!==null)}If(a)}catch(je){s=je,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function Cf(){var t=Ml.current;return Ml.current=Pl,t===null?Pl:t}function nd(){(vt===0||vt===3||vt===2)&&(vt=4),Nt===null||(mi&268435455)===0&&(Ul&268435455)===0||Pr(Nt,Tt)}function Hl(t,s){var a=He;He|=2;var u=Cf();(Nt!==t||Tt!==s)&&(Vs=null,pi(t,s));do try{K0();break}catch(h){Ef(t,h)}while(!0);if(pu(),He=a,Ml.current=u,pt!==null)throw Error(i(261));return Nt=null,Tt=0,vt}function K0(){for(;pt!==null;)Tf(pt)}function X0(){for(;pt!==null&&!Ra();)Tf(pt)}function Tf(t){var s=Af(t.alternate,t,hn);t.memoizedProps=t.pendingProps,s===null?If(t):pt=s,Gu.current=null}function If(t){var s=t;do{var a=s.alternate;if(t=s.return,(s.flags&32768)===0){if(a=B0(a,s,hn),a!==null){pt=a;return}}else{if(a=$0(a,s),a!==null){a.flags&=32767,pt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=t}while(s!==null);vt===0&&(vt=5)}function gi(t,s,a){var u=Ue,h=kn.transition;try{kn.transition=null,Ue=1,J0(t,s,a,u)}finally{kn.transition=h,Ue=u}return null}function J0(t,s,a,u){do ga();while(Tr!==null);if((He&6)!==0)throw Error(i(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var p=a.lanes|a.childLanes;if(Xe(t,p),t===Nt&&(pt=Nt=null,Tt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Fl||(Fl=!0,Df(vn,function(){return ga(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=kn.transition,kn.transition=null;var b=Ue;Ue=1;var D=He;He|=4,Gu.current=null,H0(t,a),bf(a,t),g0(nu),xr=!!tu,nu=tu=null,t.current=a,q0(a),Qr(),He=D,Ue=b,kn.transition=p}else t.current=a;if(Fl&&(Fl=!1,Tr=t,Bl=h),p=t.pendingLanes,p===0&&(Cr=null),Ho(a.stateNode),en(t,Je()),s!==null)for(u=t.onRecoverableError,a=0;a<s.length;a++)h=s[a],u(h.value,{componentStack:h.stack,digest:h.digest});if(zl)throw zl=!1,t=Ju,Ju=null,t;return(Bl&1)!==0&&t.tag!==0&&ga(),p=t.pendingLanes,(p&1)!==0?t===Yu?co++:(co=0,Yu=t):co=0,_r(),null}function ga(){if(Tr!==null){var t=pr(Bl),s=kn.transition,a=Ue;try{if(kn.transition=null,Ue=16>t?16:t,Tr===null)var u=!1;else{if(t=Tr,Tr=null,Bl=0,(He&6)!==0)throw Error(i(331));var h=He;for(He|=4,xe=t.current;xe!==null;){var p=xe,b=p.child;if((xe.flags&16)!==0){var D=p.deletions;if(D!==null){for(var z=0;z<D.length;z++){var X=D[z];for(xe=X;xe!==null;){var re=xe;switch(re.tag){case 0:case 11:case 15:ao(8,re,p)}var ie=re.child;if(ie!==null)ie.return=re,xe=ie;else for(;xe!==null;){re=xe;var se=re.sibling,ge=re.return;if(pf(re),re===X){xe=null;break}if(se!==null){se.return=ge,xe=se;break}xe=ge}}}var ve=p.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var mt=we.sibling;we.sibling=null,we=mt}while(we!==null)}}xe=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,xe=b;else e:for(;xe!==null;){if(p=xe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ao(9,p,p.return)}var G=p.sibling;if(G!==null){G.return=p.return,xe=G;break e}xe=p.return}}var $=t.current;for(xe=$;xe!==null;){b=xe;var K=b.child;if((b.subtreeFlags&2064)!==0&&K!==null)K.return=b,xe=K;else e:for(b=$;xe!==null;){if(D=xe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Ol(9,D)}}catch(je){ut(D,D.return,je)}if(D===b){xe=null;break e}var ce=D.sibling;if(ce!==null){ce.return=D.return,xe=ce;break e}xe=D.return}}if(He=h,_r(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ei,t)}catch{}u=!0}return u}finally{Ue=a,kn.transition=s}}return!1}function Pf(t,s,a){s=ha(a,s),s=Km(t,s,1),t=Sr(t,s,1),s=Ut(),t!==null&&(mr(t,1,s),en(t,s))}function ut(t,s,a){if(t.tag===3)Pf(t,t,a);else for(;s!==null;){if(s.tag===3){Pf(s,t,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cr===null||!Cr.has(u))){t=ha(a,t),t=Xm(s,t,1),s=Sr(s,t,1),t=Ut(),s!==null&&(mr(s,1,t),en(s,t));break}}s=s.return}}function Y0(t,s,a){var u=t.pingCache;u!==null&&u.delete(s),s=Ut(),t.pingedLanes|=t.suspendedLanes&a,Nt===t&&(Tt&a)===a&&(vt===4||vt===3&&(Tt&130023424)===Tt&&500>Je()-Xu?pi(t,0):Ku|=a),en(t,s)}function Rf(t,s){s===0&&((t.mode&1)===0?s=1:(s=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var a=Ut();t=Fs(t,s),t!==null&&(mr(t,s,a),en(t,a))}function Q0(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Rf(t,a)}function Z0(t,s){var a=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(i(314))}u!==null&&u.delete(s),Rf(t,a)}var Af;Af=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||Jt.current)Qt=!0;else{if((t.lanes&a)===0&&(s.flags&128)===0)return Qt=!1,F0(t,s,a);Qt=(t.flags&131072)!==0}else Qt=!1,tt&&(s.flags&1048576)!==0&&dm(s,vl,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Dl(t,s),t=s.pendingProps;var h=ra(s,Pt.current);ua(s,a),h=Su(null,s,u,t,h,a);var p=Eu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(u)?(p=!0,gl(s)):p=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,vu(s),h.updater=Rl,s.stateNode=h,h._reactInternals=s,Au(s,u,t,a),s=Mu(null,s,u,!0,p,a)):(s.tag=0,tt&&p&&cu(s),Mt(null,s,h,a),s=s.child),s;case 16:u=s.elementType;e:{switch(Dl(t,s),t=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=ty(u),t=$n(u,t),h){case 0:s=Ou(null,s,u,t,a);break e;case 1:s=rf(null,s,u,t,a);break e;case 11:s=Zm(null,s,u,t,a);break e;case 14:s=ef(null,s,u,$n(u.type,t),a);break e}throw Error(i(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:$n(u,h),Ou(t,s,u,h,a);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:$n(u,h),rf(t,s,u,h,a);case 3:e:{if(af(s),t===null)throw Error(i(387));u=s.pendingProps,p=s.memoizedState,h=p.element,bm(t,s),kl(s,u,null,a);var b=s.memoizedState;if(u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){h=ha(Error(i(423)),s),s=of(t,s,u,a,h);break e}else if(u!==h){h=ha(Error(i(424)),s),s=of(t,s,u,a,h);break e}else for(dn=wr(s.stateNode.containerInfo.firstChild),un=s,tt=!0,Bn=null,a=ym(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oa(),u===h){s=$s(t,s,a);break e}Mt(t,s,u,a)}s=s.child}return s;case 5:return Nm(s),t===null&&hu(s),u=s.type,h=s.pendingProps,p=t!==null?t.memoizedProps:null,b=h.children,su(u,h)?b=null:p!==null&&su(u,p)&&(s.flags|=32),sf(t,s),Mt(t,s,b,a),s.child;case 6:return t===null&&hu(s),null;case 13:return lf(t,s,a);case 4:return bu(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=la(s,null,u,a):Mt(t,s,u,a),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:$n(u,h),Zm(t,s,u,h,a);case 7:return Mt(t,s,s.pendingProps,a),s.child;case 8:return Mt(t,s,s.pendingProps.children,a),s.child;case 12:return Mt(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,p=s.memoizedProps,b=h.value,Ye(jl,u._currentValue),u._currentValue=b,p!==null)if(Fn(p.value,b)){if(p.children===h.children&&!Jt.current){s=$s(t,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var D=p.dependencies;if(D!==null){b=p.child;for(var z=D.firstContext;z!==null;){if(z.context===u){if(p.tag===1){z=Bs(-1,a&-a),z.tag=2;var X=p.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?z.next=z:(z.next=re.next,re.next=z),X.pending=z}}p.lanes|=a,z=p.alternate,z!==null&&(z.lanes|=a),xu(p.return,a,s),D.lanes|=a;break}z=z.next}}else if(p.tag===10)b=p.type===s.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=a,D=b.alternate,D!==null&&(D.lanes|=a),xu(b,a,s),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===s){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Mt(t,s,h.children,a),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,ua(s,a),h=Nn(h),u=u(h),s.flags|=1,Mt(t,s,u,a),s.child;case 14:return u=s.type,h=$n(u,s.pendingProps),h=$n(u.type,h),ef(t,s,u,h,a);case 15:return tf(t,s,s.type,s.pendingProps,a);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:$n(u,h),Dl(t,s),s.tag=1,Yt(u)?(t=!0,gl(s)):t=!1,ua(s,a),Wm(s,u,h),Au(s,u,h,a),Mu(null,s,u,!0,t,a);case 19:return uf(t,s,a);case 22:return nf(t,s,a)}throw Error(i(156,s.tag))};function Df(t,s){return Ee(t,s)}function ey(t,s,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,s,a,u){return new ey(t,s,a,u)}function sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ty(t){if(typeof t=="function")return sd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I)return 11;if(t===fe)return 14}return 2}function Rr(t,s){var a=t.alternate;return a===null?(a=Sn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ql(t,s,a,u,h,p){var b=2;if(u=t,typeof t=="function")sd(t)&&(b=1);else if(typeof t=="string")b=5;else e:switch(t){case A:return xi(a.children,h,p,s);case v:b=8,h|=8;break;case k:return t=Sn(12,a,s,h|2),t.elementType=k,t.lanes=p,t;case S:return t=Sn(13,a,s,h),t.elementType=S,t.lanes=p,t;case Q:return t=Sn(19,a,s,h),t.elementType=Q,t.lanes=p,t;case de:return Wl(a,h,p,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:b=10;break e;case U:b=9;break e;case I:b=11;break e;case fe:b=14;break e;case be:b=16,u=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return s=Sn(b,a,s,h),s.elementType=t,s.type=u,s.lanes=p,s}function xi(t,s,a,u){return t=Sn(7,t,u,s),t.lanes=a,t}function Wl(t,s,a,u){return t=Sn(22,t,u,s),t.elementType=de,t.lanes=a,t.stateNode={isHidden:!1},t}function rd(t,s,a){return t=Sn(6,t,null,s),t.lanes=a,t}function id(t,s,a){return s=Sn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ny(t,s,a,u,h){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hr(0),this.expirationTimes=hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ad(t,s,a,u,h,p,b,D,z){return t=new ny(t,s,a,D,z),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Sn(3,null,null,s),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(p),t}function sy(t,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:u==null?null:""+u,children:t,containerInfo:s,implementation:a}}function Lf(t){if(!t)return Nr;t=t._reactInternals;e:{if(Ne(t)!==t||t.tag!==1)throw Error(i(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(i(171))}if(t.tag===1){var a=t.type;if(Yt(a))return lm(t,a,s)}return s}function Of(t,s,a,u,h,p,b,D,z){return t=ad(a,u,!0,t,h,p,b,D,z),t.context=Lf(null),a=t.current,u=Ut(),h=Ir(a),p=Bs(u,h),p.callback=s??null,Sr(a,p,h),t.current.lanes=h,mr(t,h,u),en(t,u),t}function Gl(t,s,a,u){var h=s.current,p=Ut(),b=Ir(h);return a=Lf(a),s.context===null?s.context=a:s.pendingContext=a,s=Bs(p,b),s.payload={element:t},u=u===void 0?null:u,u!==null&&(s.callback=u),t=Sr(h,s,b),t!==null&&(qn(t,h,b,p),_l(t,h,b)),b}function Kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mf(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function od(t,s){Mf(t,s),(t=t.alternate)&&Mf(t,s)}function ry(){return null}var Uf=typeof reportError=="function"?reportError:function(t){console.error(t)};function ld(t){this._internalRoot=t}Xl.prototype.render=ld.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));Gl(t,s,null,null)},Xl.prototype.unmount=ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;fi(function(){Gl(null,t,null,null)}),s[Os]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Xo();t={blockedOn:null,target:t,priority:s};for(var a=0;a<os.length&&s!==0&&s<os[a].priority;a++);os.splice(a,0,t),a===0&&Qo(t)}};function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zf(){}function iy(t,s,a,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var X=Kl(b);p.call(X)}}var b=Of(s,u,t,0,null,!1,!1,"",zf);return t._reactRootContainer=b,t[Os]=b.current,Ga(t.nodeType===8?t.parentNode:t),fi(),b}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var D=u;u=function(){var X=Kl(z);D.call(X)}}var z=ad(t,0,!1,null,null,!1,!1,"",zf);return t._reactRootContainer=z,t[Os]=z.current,Ga(t.nodeType===8?t.parentNode:t),fi(function(){Gl(s,z,a,u)}),z}function Yl(t,s,a,u,h){var p=a._reactRootContainer;if(p){var b=p;if(typeof h=="function"){var D=h;h=function(){var z=Kl(b);D.call(z)}}Gl(s,b,t,h)}else b=iy(a,s,t,h,u);return Kl(b)}Go=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=dr(s.pendingLanes);a!==0&&(fr(s,a|1),en(s,Je()),(He&6)===0&&(pa=Je()+500,_r()))}break;case 13:fi(function(){var u=Fs(t,1);if(u!==null){var h=Ut();qn(u,t,1,h)}}),od(t,1)}},Fi=function(t){if(t.tag===13){var s=Fs(t,134217728);if(s!==null){var a=Ut();qn(s,t,134217728,a)}od(t,134217728)}},Ko=function(t){if(t.tag===13){var s=Ir(t),a=Fs(t,s);if(a!==null){var u=Ut();qn(a,t,s,u)}od(t,s)}},Xo=function(){return Ue},Jo=function(t,s){var a=Ue;try{return Ue=t,s()}finally{Ue=a}},Kr=function(t,s,a){switch(s){case"input":if(tr(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==t&&u.form===t.form){var h=fl(u);if(!h)throw Error(i(90));Cn(u),tr(u,h)}}}break;case"textarea":nr(t,a);break;case"select":s=a.value,s!=null&&Tn(t,!!a.multiple,s,!1)}},or=ed,Xr=fi;var ay={usingClientEntryPoint:!1,Events:[Ja,na,fl,An,ar,ed]},uo={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oy={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yr(t),t===null?null:t.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||ry,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{ei=Ql.inject(oy),on=Ql}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ay,tn.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(s))throw Error(i(200));return sy(t,s,null,a)},tn.createRoot=function(t,s){if(!cd(t))throw Error(i(299));var a=!1,u="",h=Uf;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=ad(t,1,!1,null,null,a,!1,u,h),t[Os]=s.current,Ga(t.nodeType===8?t.parentNode:t),new ld(s)},tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Yr(s),t=t===null?null:t.stateNode,t},tn.flushSync=function(t){return fi(t)},tn.hydrate=function(t,s,a){if(!Jl(s))throw Error(i(200));return Yl(null,t,s,!0,a)},tn.hydrateRoot=function(t,s,a){if(!cd(t))throw Error(i(405));var u=a!=null&&a.hydratedSources||null,h=!1,p="",b=Uf;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),s=Of(s,null,t,1,a??null,h,!1,p,b),t[Os]=s.current,Ga(t),u)for(t=0;t<u.length;t++)a=u[t],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new Xl(s)},tn.render=function(t,s,a){if(!Jl(s))throw Error(i(200));return Yl(null,t,s,!1,a)},tn.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(i(40));return t._reactRootContainer?(fi(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1},tn.unstable_batchedUpdates=ed,tn.unstable_renderSubtreeIntoContainer=function(t,s,a,u){if(!Jl(a))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return Yl(t,s,a,!1,u)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Gf;function gy(){if(Gf)return hd.exports;Gf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),hd.exports=py(),hd.exports}var Kf;function xy(){if(Kf)return Zl;Kf=1;var r=gy();return Zl.createRoot=r.createRoot,Zl.hydrateRoot=r.hydrateRoot,Zl}var yy=xy();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xf="popstate";function vy(r={}){function n(o,c){let{pathname:d,search:m,hash:y}=o.location;return Id("",{pathname:d,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:wo(c)}return wy(n,i,null,r)}function lt(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Yn(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function by(){return Math.random().toString(36).substring(2,10)}function Jf(r,n){return{usr:r.state,key:r.key,idx:n}}function Id(r,n,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Ca(n):n,state:i,key:n&&n.key||o||by()}}function wo({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ca(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(n.search=r.substring(o),r=r.substring(0,o)),r&&(n.pathname=r)}return n}function wy(r,n,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,m=c.history,y="POP",x=null,w=N();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function N(){return(m.state||{idx:null}).idx}function R(){y="POP";let T=N(),M=T==null?null:T-w;w=T,x&&x({action:y,location:C.location,delta:M})}function E(T,M){y="PUSH";let F=Id(C.location,T,M);w=N()+1;let q=Jf(F,w),V=C.createHref(F);try{m.pushState(q,"",V)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;c.location.assign(V)}d&&x&&x({action:y,location:C.location,delta:1})}function O(T,M){y="REPLACE";let F=Id(C.location,T,M);w=N();let q=Jf(F,w),V=C.createHref(F);m.replaceState(q,"",V),d&&x&&x({action:y,location:C.location,delta:0})}function B(T){return jy(T)}let C={get action(){return y},get location(){return r(c,m)},listen(T){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Xf,R),x=T,()=>{c.removeEventListener(Xf,R),x=null}},createHref(T){return n(c,T)},createURL:B,encodeLocation(T){let M=B(T);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:O,go(T){return m.go(T)}};return C}function jy(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),lt(i,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:wo(r);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function sg(r,n,i="/"){return Ny(r,n,i,!1)}function Ny(r,n,i,o){let c=typeof n=="string"?Ca(n):n,d=Xs(c.pathname||"/",i);if(d==null)return null;let m=rg(r);_y(m);let y=null;for(let x=0;y==null&&x<m.length;++x){let w=Ly(d);y=Ay(m[x],w,o)}return y}function rg(r,n=[],i=[],o=""){let c=(d,m,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};x.relativePath.startsWith("/")&&(lt(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length));let w=Gs([o,x.relativePath]),N=i.concat(x);d.children&&d.children.length>0&&(lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),rg(d.children,n,N,w)),!(d.path==null&&!d.index)&&n.push({path:w,score:Py(w,d.index),routesMeta:N})};return r.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let y of ig(d.path))c(d,m,y)}),n}function ig(r){let n=r.split("/");if(n.length===0)return[];let[i,...o]=n,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let m=ig(o.join("/")),y=[];return y.push(...m.map(x=>x===""?d:[d,x].join("/"))),c&&y.push(...m),y.map(x=>r.startsWith("/")&&x===""?"/":x)}function _y(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:Ry(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var ky=/^:[\w-]+$/,Sy=3,Ey=2,Cy=1,Ty=10,Iy=-2,Yf=r=>r==="*";function Py(r,n){let i=r.split("/"),o=i.length;return i.some(Yf)&&(o+=Iy),n&&(o+=Ey),i.filter(c=>!Yf(c)).reduce((c,d)=>c+(ky.test(d)?Sy:d===""?Cy:Ty),o)}function Ry(r,n){return r.length===n.length&&r.slice(0,-1).every((o,c)=>o===n[c])?r[r.length-1]-n[n.length-1]:0}function Ay(r,n,i=!1){let{routesMeta:o}=r,c={},d="/",m=[];for(let y=0;y<o.length;++y){let x=o[y],w=y===o.length-1,N=d==="/"?n:n.slice(d.length)||"/",R=mc({path:x.relativePath,caseSensitive:x.caseSensitive,end:w},N),E=x.route;if(!R&&w&&i&&!o[o.length-1].route.index&&(R=mc({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},N)),!R)return null;Object.assign(c,R.params),m.push({params:c,pathname:Gs([d,R.pathname]),pathnameBase:zy(Gs([d,R.pathnameBase])),route:E}),R.pathnameBase!=="/"&&(d=Gs([d,R.pathnameBase]))}return m}function mc(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=Dy(r.path,r.caseSensitive,r.end),c=n.match(i);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:o.reduce((w,{paramName:N,isOptional:R},E)=>{if(N==="*"){let B=y[E]||"";m=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const O=y[E];return R&&!O?w[N]=void 0:w[N]=(O||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:m,pattern:r}}function Dy(r,n=!1,i=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,x)=>(o.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function Ly(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Xs(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function Oy(r,n="/"){let{pathname:i,search:o="",hash:c=""}=typeof r=="string"?Ca(r):r;return{pathname:i?i.startsWith("/")?i:My(i,n):n,search:Fy(o),hash:By(c)}}function My(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function pd(r,n,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uy(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ag(r){let n=Uy(r);return n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase)}function og(r,n,i,o=!1){let c;typeof r=="string"?c=Ca(r):(c={...r},lt(!c.pathname||!c.pathname.includes("?"),pd("?","pathname","search",c)),lt(!c.pathname||!c.pathname.includes("#"),pd("#","pathname","hash",c)),lt(!c.search||!c.search.includes("#"),pd("#","search","hash",c)));let d=r===""||c.pathname==="",m=d?"/":c.pathname,y;if(m==null)y=i;else{let R=n.length-1;if(!o&&m.startsWith("..")){let E=m.split("/");for(;E[0]==="..";)E.shift(),R-=1;c.pathname=E.join("/")}y=R>=0?n[R]:"/"}let x=Oy(c,y),w=m&&m!=="/"&&m.endsWith("/"),N=(d||m===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(w||N)&&(x.pathname+="/"),x}var Gs=r=>r.join("/").replace(/\/\/+/g,"/"),zy=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Fy=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,By=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $y(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var lg=["POST","PUT","PATCH","DELETE"];new Set(lg);var Vy=["GET",...lg];new Set(Vy);var Ta=j.createContext(null);Ta.displayName="DataRouter";var Tc=j.createContext(null);Tc.displayName="DataRouterState";j.createContext(!1);var cg=j.createContext({isTransitioning:!1});cg.displayName="ViewTransition";var Hy=j.createContext(new Map);Hy.displayName="Fetchers";var qy=j.createContext(null);qy.displayName="Await";var js=j.createContext(null);js.displayName="Navigation";var Io=j.createContext(null);Io.displayName="Location";var Ns=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var Qd=j.createContext(null);Qd.displayName="RouteError";function Wy(r,{relative:n}={}){lt(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=j.useContext(js),{hash:c,pathname:d,search:m}=Ro(r,{relative:n}),y=d;return i!=="/"&&(y=d==="/"?i:Gs([i,d])),o.createHref({pathname:y,search:m,hash:c})}function Po(){return j.useContext(Io)!=null}function Qn(){return lt(Po(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Io).location}var ug="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dg(r){j.useContext(js).static||j.useLayoutEffect(r)}function Zn(){let{isDataRoute:r}=j.useContext(Ns);return r?iv():Gy()}function Gy(){lt(Po(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Ta),{basename:n,navigator:i}=j.useContext(js),{matches:o}=j.useContext(Ns),{pathname:c}=Qn(),d=JSON.stringify(ag(o)),m=j.useRef(!1);return dg(()=>{m.current=!0}),j.useCallback((x,w={})=>{if(Yn(m.current,ug),!m.current)return;if(typeof x=="number"){i.go(x);return}let N=og(x,JSON.parse(d),c,w.relative==="path");r==null&&n!=="/"&&(N.pathname=N.pathname==="/"?n:Gs([n,N.pathname])),(w.replace?i.replace:i.push)(N,w.state,w)},[n,i,d,c,r])}j.createContext(null);function hg(){let{matches:r}=j.useContext(Ns),n=r[r.length-1];return n?n.params:{}}function Ro(r,{relative:n}={}){let{matches:i}=j.useContext(Ns),{pathname:o}=Qn(),c=JSON.stringify(ag(i));return j.useMemo(()=>og(r,JSON.parse(c),o,n==="path"),[r,c,o,n])}function Ky(r,n){return mg(r,n)}function mg(r,n,i,o){lt(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(js),{matches:d}=j.useContext(Ns),m=d[d.length-1],y=m?m.params:{},x=m?m.pathname:"/",w=m?m.pathnameBase:"/",N=m&&m.route;{let M=N&&N.path||"";fg(x,!N||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let R=Qn(),E;if(n){let M=typeof n=="string"?Ca(n):n;lt(w==="/"||M.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=R;let O=E.pathname||"/",B=O;if(w!=="/"){let M=w.replace(/^\//,"").split("/");B="/"+O.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=sg(r,{pathname:B});Yn(N||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Yn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Zy(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},y,M.params),pathname:Gs([w,c.encodeLocation?c.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?w:Gs([w,c.encodeLocation?c.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),d,i,o);return n&&T?j.createElement(Io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},T):T}function Xy(){let r=rv(),n=$y(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:d},"ErrorBoundary")," or"," ",j.createElement("code",{style:d},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),i?j.createElement("pre",{style:c},i):null,m)}var Jy=j.createElement(Xy,null),Yy=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?j.createElement(Ns.Provider,{value:this.props.routeContext},j.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qy({routeContext:r,match:n,children:i}){let o=j.useContext(Ta);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Ns.Provider,{value:r},i)}function Zy(r,n=[],i=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let x=c.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);lt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,y=-1;if(i)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=x),w.route.id){let{loaderData:N,errors:R}=i,E=w.route.loader&&!N.hasOwnProperty(w.route.id)&&(!R||R[w.route.id]===void 0);if(w.route.lazy||E){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((x,w,N)=>{let R,E=!1,O=null,B=null;i&&(R=d&&w.route.id?d[w.route.id]:void 0,O=w.route.errorElement||Jy,m&&(y<0&&N===0?(fg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,B=null):y===N&&(E=!0,B=w.route.hydrateFallbackElement||null)));let C=n.concat(c.slice(0,N+1)),T=()=>{let M;return R?M=O:E?M=B:w.route.Component?M=j.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=x,j.createElement(Qy,{match:w,routeContext:{outlet:x,matches:C,isDataRoute:i!=null},children:M})};return i&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?j.createElement(Yy,{location:i.location,revalidation:i.revalidation,component:O,error:R,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function Zd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ev(r){let n=j.useContext(Ta);return lt(n,Zd(r)),n}function tv(r){let n=j.useContext(Tc);return lt(n,Zd(r)),n}function nv(r){let n=j.useContext(Ns);return lt(n,Zd(r)),n}function eh(r){let n=nv(r),i=n.matches[n.matches.length-1];return lt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function sv(){return eh("useRouteId")}function rv(){let r=j.useContext(Qd),n=tv("useRouteError"),i=eh("useRouteError");return r!==void 0?r:n.errors?.[i]}function iv(){let{router:r}=ev("useNavigate"),n=eh("useNavigate"),i=j.useRef(!1);return dg(()=>{i.current=!0}),j.useCallback(async(c,d={})=>{Yn(i.current,ug),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:n,...d}))},[r,n])}var Qf={};function fg(r,n,i){!n&&!Qf[r]&&(Qf[r]=!0,Yn(!1,i))}j.memo(av);function av({routes:r,future:n,state:i}){return mg(r,void 0,i,n)}function ot(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ov({basename:r="/",children:n=null,location:i,navigationType:o="POP",navigator:c,static:d=!1}){lt(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof i=="string"&&(i=Ca(i));let{pathname:x="/",search:w="",hash:N="",state:R=null,key:E="default"}=i,O=j.useMemo(()=>{let B=Xs(x,m);return B==null?null:{location:{pathname:B,search:w,hash:N,state:R,key:E},navigationType:o}},[m,x,w,N,R,E,o]);return Yn(O!=null,`<Router basename="${m}"> is not able to match the URL "${x}${w}${N}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(js.Provider,{value:y},j.createElement(Io.Provider,{children:n,value:O}))}function lv({children:r,location:n}){return Ky(Pd(r),n)}function Pd(r,n=[]){let i=[];return j.Children.forEach(r,(o,c)=>{if(!j.isValidElement(o))return;let d=[...n,c];if(o.type===j.Fragment){i.push.apply(i,Pd(o.props.children,d));return}lt(o.type===ot,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Pd(o.props.children,d)),i.push(m)}),i}var ac="get",oc="application/x-www-form-urlencoded";function Ic(r){return r!=null&&typeof r.tagName=="string"}function cv(r){return Ic(r)&&r.tagName.toLowerCase()==="button"}function uv(r){return Ic(r)&&r.tagName.toLowerCase()==="form"}function dv(r){return Ic(r)&&r.tagName.toLowerCase()==="input"}function hv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mv(r,n){return r.button===0&&(!n||n==="_self")&&!hv(r)}function Rd(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((n,i)=>{let o=r[i];return n.concat(Array.isArray(o)?o.map(c=>[i,c]):[[i,o]])},[]))}function fv(r,n){let i=Rd(r);return n&&n.forEach((o,c)=>{i.has(c)||n.getAll(c).forEach(d=>{i.append(c,d)})}),i}var ec=null;function pv(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var gv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gd(r){return r!=null&&!gv.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):r}function xv(r,n){let i,o,c,d,m;if(uv(r)){let y=r.getAttribute("action");o=y?Xs(y,n):null,i=r.getAttribute("method")||ac,c=gd(r.getAttribute("enctype"))||oc,d=new FormData(r)}else if(cv(r)||dv(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=r.getAttribute("formaction")||y.getAttribute("action");if(o=x?Xs(x,n):null,i=r.getAttribute("formmethod")||y.getAttribute("method")||ac,c=gd(r.getAttribute("formenctype"))||gd(y.getAttribute("enctype"))||oc,d=new FormData(y,r),!pv()){let{name:w,type:N,value:R}=r;if(N==="image"){let E=w?`${w}.`:"";d.append(`${E}x`,"0"),d.append(`${E}y`,"0")}else w&&d.append(w,R)}}else{if(Ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ac,o=null,c=oc,m=r}return d&&c==="text/plain"&&(m=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function th(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function yv(r,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${i}`:n&&Xs(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function vv(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wv(r,n,i){let o=await Promise.all(r.map(async c=>{let d=n.routes[c.route.id];if(d){let m=await vv(d,i);return m.links?m.links():[]}return[]}));return kv(o.flat(1).filter(bv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Zf(r,n,i,o,c,d){let m=(x,w)=>i[w]?x.route.id!==i[w].route.id:!0,y=(x,w)=>i[w].pathname!==x.pathname||i[w].route.path?.endsWith("*")&&i[w].params["*"]!==x.params["*"];return d==="assets"?n.filter((x,w)=>m(x,w)||y(x,w)):d==="data"?n.filter((x,w)=>{let N=o.routes[x.route.id];if(!N||!N.hasLoader)return!1;if(m(x,w)||y(x,w))return!0;if(x.route.shouldRevalidate){let R=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function jv(r,n,{includeHydrateFallback:i}={}){return Nv(r.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Nv(r){return[...new Set(r)]}function _v(r){let n={},i=Object.keys(r).sort();for(let o of i)n[o]=r[o];return n}function kv(r,n){let i=new Set;return new Set(n),r.reduce((o,c)=>{let d=JSON.stringify(_v(c));return i.has(d)||(i.add(d),o.push({key:d,link:c})),o},[])}function pg(){let r=j.useContext(Ta);return th(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sv(){let r=j.useContext(Tc);return th(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var nh=j.createContext(void 0);nh.displayName="FrameworkContext";function gg(){let r=j.useContext(nh);return th(r,"You must render this element inside a <HydratedRouter> element"),r}function Ev(r,n){let i=j.useContext(nh),[o,c]=j.useState(!1),[d,m]=j.useState(!1),{onFocus:y,onBlur:x,onMouseEnter:w,onMouseLeave:N,onTouchStart:R}=n,E=j.useRef(null);j.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let C=M=>{M.forEach(F=>{m(F.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[r]),j.useEffect(()=>{if(o){let C=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(C)}}},[o]);let O=()=>{c(!0)},B=()=>{c(!1),m(!1)};return i?r!=="intent"?[d,E,{}]:[d,E,{onFocus:mo(y,O),onBlur:mo(x,B),onMouseEnter:mo(w,O),onMouseLeave:mo(N,B),onTouchStart:mo(R,O)}]:[!1,E,{}]}function mo(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function Cv({page:r,...n}){let{router:i}=pg(),o=j.useMemo(()=>sg(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?j.createElement(Iv,{page:r,matches:o,...n}):null}function Tv(r){let{manifest:n,routeModules:i}=gg(),[o,c]=j.useState([]);return j.useEffect(()=>{let d=!1;return wv(r,n,i).then(m=>{d||c(m)}),()=>{d=!0}},[r,n,i]),o}function Iv({page:r,matches:n,...i}){let o=Qn(),{manifest:c,routeModules:d}=gg(),{basename:m}=pg(),{loaderData:y,matches:x}=Sv(),w=j.useMemo(()=>Zf(r,n,x,c,o,"data"),[r,n,x,c,o]),N=j.useMemo(()=>Zf(r,n,x,c,o,"assets"),[r,n,x,c,o]),R=j.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let B=new Set,C=!1;if(n.forEach(M=>{let F=c.routes[M.route.id];!F||!F.hasLoader||(!w.some(q=>q.route.id===M.route.id)&&M.route.id in y&&d[M.route.id]?.shouldRevalidate||F.hasClientLoader?C=!0:B.add(M.route.id))}),B.size===0)return[];let T=yv(r,m,"data");return C&&B.size>0&&T.searchParams.set("_routes",n.filter(M=>B.has(M.route.id)).map(M=>M.route.id).join(",")),[T.pathname+T.search]},[m,y,o,c,w,n,r,d]),E=j.useMemo(()=>jv(N,c),[N,c]),O=Tv(N);return j.createElement(j.Fragment,null,R.map(B=>j.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),E.map(B=>j.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),O.map(({key:B,link:C})=>j.createElement("link",{key:B,...C})))}function Pv(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xg&&(window.__reactRouterVersion="7.7.0")}catch{}function Rv({basename:r,children:n,window:i}){let o=j.useRef();o.current==null&&(o.current=vy({window:i,v5Compat:!0}));let c=o.current,[d,m]=j.useState({action:c.action,location:c.location}),y=j.useCallback(x=>{j.startTransition(()=>m(x))},[m]);return j.useLayoutEffect(()=>c.listen(y),[c,y]),j.createElement(ov,{basename:r,children:n,location:d.location,navigationType:d.action,navigator:c})}var yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=j.forwardRef(function({onClick:n,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:m,state:y,target:x,to:w,preventScrollReset:N,viewTransition:R,...E},O){let{basename:B}=j.useContext(js),C=typeof w=="string"&&yg.test(w),T,M=!1;if(typeof w=="string"&&C&&(T=w,xg))try{let k=new URL(window.location.href),P=w.startsWith("//")?new URL(k.protocol+w):new URL(w),U=Xs(P.pathname,B);P.origin===k.origin&&U!=null?w=U+P.search+P.hash:M=!0}catch{Yn(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Wy(w,{relative:c}),[q,V,ee]=Ev(o,E),te=Ov(w,{replace:m,state:y,target:x,preventScrollReset:N,relative:c,viewTransition:R});function A(k){n&&n(k),k.defaultPrevented||te(k)}let v=j.createElement("a",{...E,...ee,href:T||F,onClick:M||d?n:A,ref:Pv(O,V),target:x,"data-discover":!C&&i==="render"?"true":void 0});return q&&!C?j.createElement(j.Fragment,null,v,j.createElement(Cv,{page:F})):v});me.displayName="Link";var Av=j.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:m,viewTransition:y,children:x,...w},N){let R=Ro(m,{relative:w.relative}),E=Qn(),O=j.useContext(Tc),{navigator:B,basename:C}=j.useContext(js),T=O!=null&&$v(R)&&y===!0,M=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,F=E.pathname,q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(F=F.toLowerCase(),q=q?q.toLowerCase():null,M=M.toLowerCase()),q&&C&&(q=Xs(q,C)||q);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ee=F===M||!c&&F.startsWith(M)&&F.charAt(V)==="/",te=q!=null&&(q===M||!c&&q.startsWith(M)&&q.charAt(M.length)==="/"),A={isActive:ee,isPending:te,isTransitioning:T},v=ee?n:void 0,k;typeof o=="function"?k=o(A):k=[o,ee?"active":null,te?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof d=="function"?d(A):d;return j.createElement(me,{...w,"aria-current":v,className:k,ref:N,style:P,to:m,viewTransition:y},typeof x=="function"?x(A):x)});Av.displayName="NavLink";var Dv=j.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:o,replace:c,state:d,method:m=ac,action:y,onSubmit:x,relative:w,preventScrollReset:N,viewTransition:R,...E},O)=>{let B=Fv(),C=Bv(y,{relative:w}),T=m.toLowerCase()==="get"?"get":"post",M=typeof y=="string"&&yg.test(y),F=q=>{if(x&&x(q),q.defaultPrevented)return;q.preventDefault();let V=q.nativeEvent.submitter,ee=V?.getAttribute("formmethod")||m;B(V||q.currentTarget,{fetcherKey:n,method:ee,navigate:i,replace:c,state:d,relative:w,preventScrollReset:N,viewTransition:R})};return j.createElement("form",{ref:O,method:T,action:C,onSubmit:o?x:F,...E,"data-discover":!M&&r==="render"?"true":void 0})});Dv.displayName="Form";function Lv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vg(r){let n=j.useContext(Ta);return lt(n,Lv(r)),n}function Ov(r,{target:n,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:m}={}){let y=Zn(),x=Qn(),w=Ro(r,{relative:d});return j.useCallback(N=>{if(mv(N,n)){N.preventDefault();let R=i!==void 0?i:wo(x)===wo(w);y(r,{replace:R,state:o,preventScrollReset:c,relative:d,viewTransition:m})}},[x,y,w,i,o,n,r,c,d,m])}function Mv(r){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=j.useRef(Rd(r)),i=j.useRef(!1),o=Qn(),c=j.useMemo(()=>fv(o.search,i.current?null:n.current),[o.search]),d=Zn(),m=j.useCallback((y,x)=>{const w=Rd(typeof y=="function"?y(new URLSearchParams(c)):y);i.current=!0,d("?"+w,x)},[d,c]);return[c,m]}var Uv=0,zv=()=>`__${String(++Uv)}__`;function Fv(){let{router:r}=vg("useSubmit"),{basename:n}=j.useContext(js),i=sv();return j.useCallback(async(o,c={})=>{let{action:d,method:m,encType:y,formData:x,body:w}=xv(o,n);if(c.navigate===!1){let N=c.fetcherKey||zv();await r.fetch(N,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:w,formMethod:c.method||m,formEncType:c.encType||y,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:w,formMethod:c.method||m,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,n,i])}function Bv(r,{relative:n}={}){let{basename:i}=j.useContext(js),o=j.useContext(Ns);lt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...Ro(r||".",{relative:n})},m=Qn();if(r==null){d.search=m.search;let y=new URLSearchParams(d.search),x=y.getAll("index");if(x.some(N=>N==="")){y.delete("index"),x.filter(R=>R).forEach(R=>y.append("index",R));let N=y.toString();d.search=N?`?${N}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Gs([i,d.pathname])),wo(d)}function $v(r,n={}){let i=j.useContext(cg);lt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vg("useViewTransitionState"),c=Ro(r,{relative:n.relative});if(!i.isTransitioning)return!1;let d=Xs(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=Xs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return mc(c.pathname,m)!=null||mc(c.pathname,d)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(r,n)=>{const i=j.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:y="",children:x,...w},N)=>j.createElement("svg",{ref:N,...Vv,width:c,height:c,stroke:o,strokeWidth:m?Number(d)*24/Number(c):d,className:["lucide",`lucide-${Hv(r)}`,y].join(" "),...w},[...n.map(([R,E])=>j.createElement(R,E)),...Array.isArray(x)?x:[x]]));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=_e("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=_e("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=_e("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=_e("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=_e("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=_e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=_e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=_e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=_e("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=_e("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=_e("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=_e("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=_e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),ab="/assets/Logo-DwvqwfSC.png";function Ia(){const[r,n]=j.useState(!1),i=Qn(),[o,c]=j.useState(!1),d=[{name:"Accueil",path:"/"},{name:"Bateaux",path:"/bateaux"},{name:"À propos",path:"/a-propos"},{name:"Contact",path:"/contact"}],m=R=>i.pathname===R,y=typeof window<"u"?localStorage.getItem("userPrenom"):null,x=typeof window<"u"?localStorage.getItem("userRole"):null,w=()=>{localStorage.removeItem("token"),localStorage.removeItem("userNom"),localStorage.removeItem("userPrenom"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("userTel"),window.location.href="/connexion"},N=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("header",{className:"bg-white shadow-sm fixed w-full top-0 z-50 border-b border-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(me,{to:"/",className:"flex items-center space-x-2",children:e.jsx("img",{src:ab,alt:"Logo SailingLoc",className:"h-9 w-auto"})}),e.jsx("nav",{className:"hidden md:flex space-x-8",children:d.map(R=>e.jsx(me,{to:R.path,onClick:N,className:`px-3 py-2 text-sm font-medium transition-colors ${m(R.path)?"text-blue-600 border-b-2 border-blue-600":"text-gray-700 hover:text-blue-600"}`,children:R.name},R.name))}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:y?e.jsxs(e.Fragment,{children:[e.jsx(me,{to:"/favoris",className:"text-blue-600 hover:text-blue-800 px-4 py-2 text-sm font-medium transition-colors flex items-center",children:e.jsx(No,{className:"h-5 w-5"})}),x==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsx(me,{to:"/gestion-bateaux",className:"text-blue-600 hover:text-blue-800 px-4 py-2 text-sm font-medium transition-colors flex items-center",children:"Gestion bateaux"}),e.jsx(me,{to:"/gestion-reservations",className:"text-blue-600 hover:text-blue-800 px-4 py-2 text-sm font-medium transition-colors flex items-center",children:"Gestion réservations"})]}),x==="admin"&&e.jsx(me,{to:"/admin",className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors shadow-sm flex items-center",children:"Dashboard Admin"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(R=>!R),className:"bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm flex items-center justify-center focus:outline-none",children:e.jsx(Br,{className:"h-5 w-5"})}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-4 z-50 border border-gray-100",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-700 text-sm mb-2",children:["Bienvenue ",e.jsx("span",{className:"font-bold text-blue-700",children:y})]}),x!=="proprietaire"&&x!=="admin"&&e.jsx(me,{to:"/mes-reservations",onClick:()=>c(!1),className:"block w-full text-left px-4 py-2 text-blue-600 hover:bg-blue-50 text-sm font-medium",children:"Mes Réservations"}),e.jsxs(me,{to:"/profil",onClick:()=>c(!1),className:"w-full text-left px-4 py-2 text-blue-600 hover:bg-blue-50 text-sm font-medium flex items-center gap-2 border-t border-gray-100 mt-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})}),"Settings"]}),e.jsx("button",{onClick:w,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 text-sm font-medium border-t border-gray-100 mt-2",children:"Déconnexion"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{to:"/connexion",className:"text-gray-700 hover:text-blue-600 px-4 py-2 text-sm font-medium transition-colors",onClick:N,children:"Connexion"}),e.jsx(me,{to:"/inscription",className:"bg-orange-500 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors shadow-sm",onClick:N,children:"Inscription"})]})}),e.jsx("button",{className:"md:hidden p-2",onClick:()=>n(!r),children:r?e.jsx(ft,{size:24}):e.jsx(tb,{size:24})})]}),r&&e.jsx("div",{className:"md:hidden border-t border-gray-100",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white",children:[d.map(R=>e.jsx(me,{to:R.path,className:`block px-3 py-2 text-base font-medium ${m(R.path)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>{n(!1),N()},children:R.name},R.name)),e.jsx("div",{className:"mt-4 space-y-2",children:y?e.jsxs(e.Fragment,{children:[x==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsx(me,{to:"/gestion-bateaux",className:"block w-full text-center border border-blue-600 text-blue-600 px-3 py-2 rounded-full text-base font-medium hover:bg-blue-50 transition-colors flex items-center justify-center",onClick:()=>{n(!1),N()},children:"Gestion bateaux"}),e.jsx(me,{to:"/gestion-reservations",className:"block w-full text-center border border-blue-600 text-blue-600 px-3 py-2 rounded-full text-base font-medium hover:bg-blue-50 transition-colors flex items-center justify-center",onClick:()=>{n(!1),N()},children:"Gestion réservations"})]}),x==="admin"&&e.jsx(me,{to:"/admin",className:"block w-full text-center bg-red-600 text-white px-3 py-2 rounded-lg text-base font-medium hover:bg-red-700 transition-colors",onClick:()=>{n(!1),N()},children:"Dashboard Admin"}),e.jsx(me,{to:"/favoris",className:"block w-full text-center border border-blue-600 text-blue-600 px-3 py-2 rounded-full text-base font-medium hover:bg-blue-50 transition-colors flex items-center justify-center",onClick:()=>{n(!1),N()},children:e.jsx(No,{className:"h-5 w-5"})}),x!=="proprietaire"&&x!=="admin"&&e.jsx(me,{to:"/mes-reservations",className:"block w-full text-center border border-blue-600 text-blue-600 px-3 py-2 rounded-full text-base font-medium hover:bg-blue-50 transition-colors flex items-center justify-center",onClick:()=>{n(!1),N()},children:"Mes Réservations"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(R=>!R),className:"block w-full text-center border border-blue-600 text-blue-600 px-3 py-2 rounded-full text-base font-medium hover:bg-blue-50 transition-colors flex items-center justify-center",children:e.jsx(Br,{className:"h-5 w-5"})}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-4 z-50 border border-gray-100",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-700 text-sm mb-2",children:["Bienvenue ",e.jsx("span",{className:"font-bold text-blue-700",children:y})]}),e.jsx("button",{onClick:w,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 text-sm font-medium",children:"Déconnexion"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{to:"/connexion",className:"block w-full text-center border border-orange-500 text-orange-500 px-3 py-2 rounded-full text-base font-medium hover:bg-orange-50 transition-colors",onClick:()=>{n(!1),N()},children:"Connexion"}),e.jsx(me,{to:"/inscription",className:"block w-full text-center bg-orange-500 text-white px-3 py-2 rounded-full text-base font-medium hover:bg-orange-600 transition-colors",onClick:()=>{n(!1),N()},children:"Inscription"})]})})]})})]})})}function Sg(){const[r,n]=j.useState("");typeof window<"u"&&localStorage.getItem("userPrenom");const i=typeof window<"u"?localStorage.getItem("userRole"):null,o=c=>{c.preventDefault(),console.log("Newsletter signup:",r),n(""),alert("Inscription réussie !")};return e.jsx("footer",{className:"bg-blue-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"MODE DE PAIEMENT"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white rounded flex items-center justify-center",children:e.jsx(bg,{className:"h-5 w-5 text-blue-900"})}),e.jsx("span",{children:"Carte bancaire"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"PLAN DU SITE"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide",children:"Pages principales"}),e.jsx(me,{to:"/",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Accueil"}),e.jsx(me,{to:"/bateaux",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Catalogue des bateaux"}),e.jsx(me,{to:"/a-propos",className:"block hover:text-blue-300 transition-colors text-sm",children:"• À propos de SailingLoc"}),e.jsx(me,{to:"/contact",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Contact et support"})]}),e.jsxs("div",{className:"space-y-2 pt-3",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide",children:"Espace utilisateur"}),e.jsx(me,{to:"/connexion",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Connexion"}),e.jsx(me,{to:"/inscription",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Inscription"}),e.jsx(me,{to:"/profil",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Mon profil"}),i!=="proprietaire"&&e.jsx(me,{to:"/mes-reservations",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Mes réservations"}),e.jsx(me,{to:"/favoris",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Mes favoris"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2 pt-3",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide",children:"Gestion des bateaux"}),e.jsx(me,{to:"/gestion-bateaux",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Gérer mes bateaux"}),e.jsx(me,{to:"/gestion-reservations",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Gérer mes réservations"}),e.jsx(me,{to:"/ajouter-bateau",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Ajouter un bateau"})]}),e.jsxs("div",{className:"space-y-2 pt-3",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide",children:"Administration"}),e.jsx(me,{to:"/admin",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Tableau de bord admin"})]}),e.jsxs("div",{className:"space-y-2 pt-3",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide",children:"Légal"}),e.jsx(me,{to:"/mentions-legales",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Mentions légales"}),e.jsx(me,{to:"/politique-confidentialite",className:"block hover:text-blue-300 transition-colors text-sm",children:"• Politique de confidentialité"}),e.jsx(me,{to:"/cgu-cgv",className:"block hover:text-blue-300 transition-colors text-sm",children:"• CGU / CGV"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"SUIVEZ-NOUS"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://www.facebook.com/profile.php?id=61579074677515",target:"_blank",rel:"noopener noreferrer","aria-label":"SailingLoc sur Facebook",className:"w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",title:"Facebook",children:e.jsx(Gv,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://www.instagram.com/salingloc/",target:"_blank",rel:"noopener noreferrer","aria-label":"SailingLoc sur Instagram",className:"w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",title:"Instagram",children:e.jsx(Yv,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",title:"YouTube",children:e.jsx(ib,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://www.linkedin.com/in/sailingloc-equipe-0a1a5937a/",target:"_blank",rel:"noopener noreferrer","aria-label":"SailingLoc sur LinkedIn",className:"w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",title:"LinkedIn",children:e.jsx(Qv,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("h4",{className:"font-semibold text-blue-200 text-sm uppercase tracking-wide mb-3",children:"Newsletter"}),e.jsxs("form",{onSubmit:o,className:"space-y-3",children:[e.jsx("input",{type:"email",value:r,onChange:c=>n(c.target.value),placeholder:"Votre email",className:"w-full px-3 py-2 bg-blue-800 border border-blue-700 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium",children:"S'abonner"})]})]})]})]})]}),e.jsxs("div",{className:"border-t border-blue-800 mt-12 pt-8 text-center",children:[e.jsxs("p",{className:"text-blue-300 text-sm",children:["© 2025 SailingLoc. Tous droits réservés. |",e.jsx(me,{to:"/mentions-legales",className:"hover:text-white transition-colors ml-2",children:"Mentions légales"})," ","|",e.jsx(me,{to:"/politique-confidentialite",className:"hover:text-white transition-colors ml-2",children:"Politique de confidentialité"})]}),e.jsx("p",{className:"text-blue-400 text-xs mt-2",children:"SailingLoc - Location de bateaux à La Rochelle et en Europe"})]})]})})}function _o({rating:r,maxRating:n=5,size:i=16,interactive:o=!1,onRatingChange:c}){const d=Array.from({length:n},(m,y)=>{const x=y+1,w=x<=r,N=x-.5<=r&&r<x;return e.jsx("button",{type:"button",onClick:()=>o&&c&&c(x),className:`${o?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!o,children:e.jsx(rh,{size:i,className:`${w||N?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},y)});return e.jsx("div",{className:"flex items-center space-x-1",children:d})}function Eg(r){var n,i,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var c=r.length;for(n=0;n<c;n++)r[n]&&(i=Eg(r[n]))&&(o&&(o+=" "),o+=i)}else for(i in r)r[i]&&(o&&(o+=" "),o+=i);return o}function _i(){for(var r,n,i=0,o="",c=arguments.length;i<c;i++)(r=arguments[i])&&(n=Eg(r))&&(o&&(o+=" "),o+=n);return o}function ob(r){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}ob(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ao=r=>typeof r=="number"&&!isNaN(r),Ii=r=>typeof r=="string",Ys=r=>typeof r=="function",lb=r=>Ii(r)||Ao(r),Od=r=>Ii(r)||Ys(r)?r:null,cb=(r,n)=>r===!1||Ao(r)&&r>0?r:n,Md=r=>j.isValidElement(r)||Ii(r)||Ys(r)||Ao(r);function ub(r,n,i=300){let{scrollHeight:o,style:c}=r;requestAnimationFrame(()=>{c.minHeight="initial",c.height=o+"px",c.transition=`all ${i}ms`,requestAnimationFrame(()=>{c.height="0",c.padding="0",c.margin="0",setTimeout(n,i)})})}function db({enter:r,exit:n,appendPosition:i=!1,collapse:o=!0,collapseDuration:c=300}){return function({children:d,position:m,preventExitTransition:y,done:x,nodeRef:w,isIn:N,playToast:R}){let E=i?`${r}--${m}`:r,O=i?`${n}--${m}`:n,B=j.useRef(0);return j.useLayoutEffect(()=>{let C=w.current,T=E.split(" "),M=F=>{F.target===w.current&&(R(),C.removeEventListener("animationend",M),C.removeEventListener("animationcancel",M),B.current===0&&F.type!=="animationcancel"&&C.classList.remove(...T))};C.classList.add(...T),C.addEventListener("animationend",M),C.addEventListener("animationcancel",M)},[]),j.useEffect(()=>{let C=w.current,T=()=>{C.removeEventListener("animationend",T),o?ub(C,x,c):x()};N||(y?T():(B.current=1,C.className+=` ${O}`,C.addEventListener("animationend",T)))},[N]),qe.createElement(qe.Fragment,null,d)}}function sp(r,n){return{content:Cg(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:n}}function Cg(r,n,i=!1){return j.isValidElement(r)&&!Ii(r.type)?j.cloneElement(r,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:i}):Ys(r)?r({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:i}):r}function hb({closeToast:r,theme:n,ariaLabel:i="close"}){return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:o=>{o.stopPropagation(),r(!0)},"aria-label":i},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mb({delay:r,isRunning:n,closeToast:i,type:o="default",hide:c,className:d,controlledProgress:m,progress:y,rtl:x,isIn:w,theme:N}){let R=c||m&&y===0,E={animationDuration:`${r}ms`,animationPlayState:n?"running":"paused"};m&&(E.transform=`scaleX(${y})`);let O=_i("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${N}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":x}),B=Ys(d)?d({rtl:x,type:o,defaultClassName:O}):_i(O,d),C={[m&&y>=1?"onTransitionEnd":"onAnimationEnd"]:m&&y<1?null:()=>{w&&i()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":R},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${N} Toastify__progress-bar--${o}`}),qe.createElement("div",{role:"progressbar","aria-hidden":R?"true":"false","aria-label":"notification timer",className:B,style:E,...C}))}var fb=1,Tg=()=>`${fb++}`;function pb(r,n,i){let o=1,c=0,d=[],m=[],y=n,x=new Map,w=new Set,N=F=>(w.add(F),()=>w.delete(F)),R=()=>{m=Array.from(x.values()),w.forEach(F=>F())},E=({containerId:F,toastId:q,updateId:V})=>{let ee=F?F!==r:r!==1,te=x.has(q)&&V==null;return ee||te},O=(F,q)=>{x.forEach(V=>{var ee;(q==null||q===V.props.toastId)&&((ee=V.toggle)==null||ee.call(V,F))})},B=F=>{var q,V;(V=(q=F.props)==null?void 0:q.onClose)==null||V.call(q,F.removalReason),F.isActive=!1},C=F=>{if(F==null)x.forEach(B);else{let q=x.get(F);q&&B(q)}R()},T=()=>{c-=d.length,d=[]},M=F=>{var q,V;let{toastId:ee,updateId:te}=F.props,A=te==null;F.staleId&&x.delete(F.staleId),F.isActive=!0,x.set(ee,F),R(),i(sp(F,A?"added":"updated")),A&&((V=(q=F.props).onOpen)==null||V.call(q))};return{id:r,props:y,observe:N,toggle:O,removeToast:C,toasts:x,clearQueue:T,buildToast:(F,q)=>{if(E(q))return;let{toastId:V,updateId:ee,data:te,staleId:A,delay:v}=q,k=ee==null;k&&c++;let P={...y,style:y.toastStyle,key:o++,...Object.fromEntries(Object.entries(q).filter(([I,S])=>S!=null)),toastId:V,updateId:ee,data:te,isIn:!1,className:Od(q.className||y.toastClassName),progressClassName:Od(q.progressClassName||y.progressClassName),autoClose:q.isLoading?!1:cb(q.autoClose,y.autoClose),closeToast(I){x.get(V).removalReason=I,C(V)},deleteToast(){let I=x.get(V);if(I!=null){if(i(sp(I,"removed")),x.delete(V),c--,c<0&&(c=0),d.length>0){M(d.shift());return}R()}}};P.closeButton=y.closeButton,q.closeButton===!1||Md(q.closeButton)?P.closeButton=q.closeButton:q.closeButton===!0&&(P.closeButton=Md(y.closeButton)?y.closeButton:!0);let U={content:F,props:P,staleId:A};y.limit&&y.limit>0&&c>y.limit&&k?d.push(U):Ao(v)?setTimeout(()=>{M(U)},v):M(U)},setProps(F){y=F},setToggle:(F,q)=>{let V=x.get(F);V&&(V.toggle=q)},isToastActive:F=>{var q;return(q=x.get(F))==null?void 0:q.isActive},getSnapshot:()=>m}}var Bt=new Map,ko=[],Ud=new Set,gb=r=>Ud.forEach(n=>n(r)),Ig=()=>Bt.size>0;function xb(){ko.forEach(r=>Rg(r.content,r.options)),ko=[]}var yb=(r,{containerId:n})=>{var i;return(i=Bt.get(n||1))==null?void 0:i.toasts.get(r)};function Pg(r,n){var i;if(n)return!!((i=Bt.get(n))!=null&&i.isToastActive(r));let o=!1;return Bt.forEach(c=>{c.isToastActive(r)&&(o=!0)}),o}function vb(r){if(!Ig()){ko=ko.filter(n=>r!=null&&n.options.toastId!==r);return}if(r==null||lb(r))Bt.forEach(n=>{n.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let n=Bt.get(r.containerId);n?n.removeToast(r.id):Bt.forEach(i=>{i.removeToast(r.id)})}}var bb=(r={})=>{Bt.forEach(n=>{n.props.limit&&(!r.containerId||n.id===r.containerId)&&n.clearQueue()})};function Rg(r,n){Md(r)&&(Ig()||ko.push({content:r,options:n}),Bt.forEach(i=>{i.buildToast(r,n)}))}function wb(r){var n;(n=Bt.get(r.containerId||1))==null||n.setToggle(r.id,r.fn)}function Ag(r,n){Bt.forEach(i=>{(n==null||!(n!=null&&n.containerId)||n?.containerId===i.id)&&i.toggle(r,n?.id)})}function jb(r){let n=r.containerId||1;return{subscribe(i){let o=pb(n,r,gb);Bt.set(n,o);let c=o.observe(i);return xb(),()=>{c(),Bt.delete(n)}},setProps(i){var o;(o=Bt.get(n))==null||o.setProps(i)},getSnapshot(){var i;return(i=Bt.get(n))==null?void 0:i.getSnapshot()}}}function Nb(r){return Ud.add(r),()=>{Ud.delete(r)}}function _b(r){return r&&(Ii(r.toastId)||Ao(r.toastId))?r.toastId:Tg()}function Do(r,n){return Rg(r,n),n.toastId}function Rc(r,n){return{...n,type:n&&n.type||r,toastId:_b(n)}}function Ac(r){return(n,i)=>Do(n,Rc(r,i))}function pe(r,n){return Do(r,Rc("default",n))}pe.loading=(r,n)=>Do(r,Rc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n}));function kb(r,{pending:n,error:i,success:o},c){let d;n&&(d=Ii(n)?pe.loading(n,c):pe.loading(n.render,{...c,...n}));let m={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(w,N,R)=>{if(N==null){pe.dismiss(d);return}let E={type:w,...m,...c,data:R},O=Ii(N)?{render:N}:N;return d?pe.update(d,{...E,...O}):pe(O.render,{...E,...O}),R},x=Ys(r)?r():r;return x.then(w=>y("success",o,w)).catch(w=>y("error",i,w)),x}pe.promise=kb;pe.success=Ac("success");pe.info=Ac("info");pe.error=Ac("error");pe.warning=Ac("warning");pe.warn=pe.warning;pe.dark=(r,n)=>Do(r,Rc("default",{theme:"dark",...n}));function Sb(r){vb(r)}pe.dismiss=Sb;pe.clearWaitingQueue=bb;pe.isActive=Pg;pe.update=(r,n={})=>{let i=yb(r,n);if(i){let{props:o,content:c}=i,d={delay:100,...o,...n,toastId:n.toastId||r,updateId:Tg()};d.toastId!==r&&(d.staleId=r);let m=d.render||c;delete d.render,Do(m,d)}};pe.done=r=>{pe.update(r,{progress:1})};pe.onChange=Nb;pe.play=r=>Ag(!0,r);pe.pause=r=>Ag(!1,r);function Eb(r){var n;let{subscribe:i,getSnapshot:o,setProps:c}=j.useRef(jb(r)).current;c(r);let d=(n=j.useSyncExternalStore(i,o,o))==null?void 0:n.slice();function m(y){if(!d)return[];let x=new Map;return r.newestOnTop&&d.reverse(),d.forEach(w=>{let{position:N}=w.props;x.has(N)||x.set(N,[]),x.get(N).push(w)}),Array.from(x,w=>y(w[0],w[1]))}return{getToastToRender:m,isToastActive:Pg,count:d?.length}}function Cb(r){let[n,i]=j.useState(!1),[o,c]=j.useState(!1),d=j.useRef(null),m=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:x,closeToast:w,onClick:N,closeOnClick:R}=r;wb({id:r.toastId,containerId:r.containerId,fn:i}),j.useEffect(()=>{if(r.pauseOnFocusLoss)return E(),()=>{O()}},[r.pauseOnFocusLoss]);function E(){document.hasFocus()||M(),window.addEventListener("focus",T),window.addEventListener("blur",M)}function O(){window.removeEventListener("focus",T),window.removeEventListener("blur",M)}function B(A){if(r.draggable===!0||r.draggable===A.pointerType){F();let v=d.current;m.canCloseOnClick=!0,m.canDrag=!0,v.style.transition="none",r.draggableDirection==="x"?(m.start=A.clientX,m.removalDistance=v.offsetWidth*(r.draggablePercent/100)):(m.start=A.clientY,m.removalDistance=v.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function C(A){let{top:v,bottom:k,left:P,right:U}=d.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&r.pauseOnHover&&A.clientX>=P&&A.clientX<=U&&A.clientY>=v&&A.clientY<=k?M():T()}function T(){i(!0)}function M(){i(!1)}function F(){m.didMove=!1,document.addEventListener("pointermove",V),document.addEventListener("pointerup",ee)}function q(){document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",ee)}function V(A){let v=d.current;if(m.canDrag&&v){m.didMove=!0,n&&M(),r.draggableDirection==="x"?m.delta=A.clientX-m.start:m.delta=A.clientY-m.start,m.start!==A.clientX&&(m.canCloseOnClick=!1);let k=r.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`;v.style.transform=`translate3d(${k},0)`,v.style.opacity=`${1-Math.abs(m.delta/m.removalDistance)}`}}function ee(){q();let A=d.current;if(m.canDrag&&m.didMove&&A){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance){c(!0),r.closeToast(!0),r.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let te={onPointerDown:B,onPointerUp:C};return y&&x&&(te.onMouseEnter=M,r.stacked||(te.onMouseLeave=T)),R&&(te.onClick=A=>{N&&N(A),m.canCloseOnClick&&w(!0)}),{playToast:T,pauseToast:M,isRunning:n,preventExitTransition:o,toastRef:d,eventHandlers:te}}var Tb=typeof window<"u"?j.useLayoutEffect:j.useEffect,Dc=({theme:r,type:n,isLoading:i,...o})=>qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...o});function Ib(r){return qe.createElement(Dc,{...r},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Pb(r){return qe.createElement(Dc,{...r},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Rb(r){return qe.createElement(Dc,{...r},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Ab(r){return qe.createElement(Dc,{...r},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Db(){return qe.createElement("div",{className:"Toastify__spinner"})}var zd={info:Pb,warning:Ib,success:Rb,error:Ab,spinner:Db},Lb=r=>r in zd;function Ob({theme:r,type:n,isLoading:i,icon:o}){let c=null,d={theme:r,type:n};return o===!1||(Ys(o)?c=o({...d,isLoading:i}):j.isValidElement(o)?c=j.cloneElement(o,d):i?c=zd.spinner():Lb(n)&&(c=zd[n](d))),c}var Mb=r=>{let{isRunning:n,preventExitTransition:i,toastRef:o,eventHandlers:c,playToast:d}=Cb(r),{closeButton:m,children:y,autoClose:x,onClick:w,type:N,hideProgressBar:R,closeToast:E,transition:O,position:B,className:C,style:T,progressClassName:M,updateId:F,role:q,progress:V,rtl:ee,toastId:te,deleteToast:A,isIn:v,isLoading:k,closeOnClick:P,theme:U,ariaLabel:I}=r,S=_i("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${N}`,{"Toastify__toast--rtl":ee},{"Toastify__toast--close-on-click":P}),Q=Ys(C)?C({rtl:ee,position:B,type:N,defaultClassName:S}):_i(S,C),fe=Ob(r),be=!!V||!x,de={closeToast:E,type:N,theme:U},Z=null;return m===!1||(Ys(m)?Z=m(de):j.isValidElement(m)?Z=j.cloneElement(m,de):Z=hb(de)),qe.createElement(O,{isIn:v,done:A,position:B,preventExitTransition:i,nodeRef:o,playToast:d},qe.createElement("div",{id:te,tabIndex:0,onClick:w,"data-in":v,className:Q,...c,style:T,ref:o,...v&&{role:q,"aria-label":I}},fe!=null&&qe.createElement("div",{className:_i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},fe),Cg(y,r,!n),Z,!r.customProgressBar&&qe.createElement(mb,{...F&&!be?{key:`p-${F}`}:{},rtl:ee,theme:U,delay:x,isRunning:n,isIn:v,closeToast:E,hide:R,type:N,className:M,controlledProgress:be,progress:V||0})))},Ub=(r,n=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:n}),zb=db(Ub("bounce",!0)),Fb={position:"top-right",transition:zb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function Lc(r){let n={...Fb,...r},i=r.stacked,[o,c]=j.useState(!0),d=j.useRef(null),{getToastToRender:m,isToastActive:y,count:x}=Eb(n),{className:w,style:N,rtl:R,containerId:E,hotKeys:O}=n;function B(T){let M=_i("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":R});return Ys(w)?w({position:T,rtl:R,defaultClassName:M}):_i(M,Od(w))}function C(){i&&(c(!0),pe.play())}return Tb(()=>{var T;if(i){let M=d.current.querySelectorAll('[data-in="true"]'),F=12,q=(T=n.position)==null?void 0:T.includes("top"),V=0,ee=0;Array.from(M).reverse().forEach((te,A)=>{let v=te;v.classList.add("Toastify__toast--stacked"),A>0&&(v.dataset.collapsed=`${o}`),v.dataset.pos||(v.dataset.pos=q?"top":"bot");let k=V*(o?.2:1)+(o?0:F*A);v.style.setProperty("--y",`${q?k:k*-1}px`),v.style.setProperty("--g",`${F}`),v.style.setProperty("--s",`${1-(o?ee:0)}`),V+=v.offsetHeight,ee+=.025})}},[o,x,i]),j.useEffect(()=>{function T(M){var F;let q=d.current;O(M)&&((F=q.querySelector('[tabIndex="0"]'))==null||F.focus(),c(!1),pe.pause()),M.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(c(!0),pe.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[O]),qe.createElement("section",{ref:d,className:"Toastify",id:E,onMouseEnter:()=>{i&&(c(!1),pe.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},m((T,M)=>{let F=M.length?{...N}:{...N,pointerEvents:"none"};return qe.createElement("div",{tabIndex:-1,className:B(T),"data-stacked":i,style:F,key:`c-${T}`},M.map(({content:q,props:V})=>qe.createElement(Mb,{...V,stacked:i,collapseAll:C,isIn:y(V.toastId,V.containerId),key:`t-${V.key}`},q)))}))}function Fd({boatId:r,className:n=""}){const[i,o]=j.useState(!1),[c,d]=j.useState(!1);j.useEffect(()=>{m()},[r]);const m=async()=>{try{const x=localStorage.getItem("token")||sessionStorage.getItem("token");if(!x)return;const w=await fetch(`http://localhost:3001/api/favorites/check/${r}`,{headers:{Authorization:`Bearer ${x}`}});if(w.ok){const N=await w.json();o(N.isFavorite)}}catch(x){console.error("Erreur vérification favori:",x)}},y=async()=>{try{d(!0);const x=localStorage.getItem("token")||sessionStorage.getItem("token");if(!x){pe.error("Vous devez être connecté pour ajouter des favoris");return}if(i)if((await fetch(`http://localhost:3001/api/favorites/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}})).ok)o(!1),pe.success("Bateau retiré des favoris");else throw new Error("Erreur lors de la suppression");else{const w=await fetch("http://localhost:3001/api/favorites",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({boatId:r})});if(w.ok)o(!0),pe.success("Bateau ajouté aux favoris !");else{const N=await w.json();throw new Error(N.message||"Erreur lors de l'ajout")}}}catch(x){pe.error(x.message||"Erreur lors de la gestion des favoris")}finally{d(!1)}};return e.jsx("button",{onClick:y,disabled:c,className:`absolute top-4 right-4 p-2 rounded-full transition-all duration-200 hover:scale-110 ${i?"bg-red-500 text-white shadow-lg":"bg-white/90 text-gray-600 hover:bg-white"} ${n}`,title:i?"Retirer des favoris":"Ajouter aux favoris",children:e.jsx(No,{size:20,className:`transition-all duration-200 ${i?"fill-current":""}`})})}function Oc({boat:r,viewMode:n="grid"}){return n==="list"?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{src:r.image,alt:r.nom,className:"w-32 h-24 object-cover rounded-lg"}),e.jsx(Fd,{boatId:r._id,className:"top-2 right-2"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:r.nom}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[e.jsx(_o,{rating:r.rating||0,size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",r.reviews||0,")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ks,{size:16}),e.jsx("span",{className:"capitalize",children:r.destination})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(sh,{size:16}),e.jsxs("span",{children:[r.longueur,"m"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ti,{size:16}),e.jsxs("span",{children:[r.capacite," pers."]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ks,{size:16}),e.jsx("span",{children:r.destination})]})]}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:r.description})]}),e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-3",children:[r.prix_jour,"€",e.jsx("span",{className:"text-base font-normal text-gray-600",children:"/jour"})]}),e.jsx(me,{to:`/bateaux/${r._id}`,className:"bg-orange-500 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors shadow-sm",children:"Réserver"})]})]})}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.image,alt:r.nom,className:"w-full h-56 object-cover"}),e.jsx("div",{className:"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:r.type}),e.jsx(Fd,{boatId:r._id})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:r.nom}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[e.jsx(_o,{rating:r.rating||0,size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",r.reviews||0,")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ks,{size:16}),e.jsx("span",{className:"capitalize",children:r.destination})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ti,{size:16}),e.jsxs("span",{children:[r.capacite," pers."]})]})]}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:r.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.prix_jour,"€",e.jsx("span",{className:"text-base font-normal text-gray-600",children:"/jour"})]}),e.jsx(me,{to:`/bateaux/${r._id}`,className:"bg-orange-500 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors shadow-sm",children:"Réserver"})]})]})]})}function Bb({boats:r,onReset:n,searchFilters:i}){const[o,c]=j.useState("nom"),[d,m]=j.useState("asc"),[y,x]=j.useState(!1),[w,N]=j.useState(!1);qe.useEffect(()=>{N(!0)},[]);const R=[...r].sort((T,M)=>{let F,q;switch(o){case"prix_jour":F=T.prix_jour,q=M.prix_jour;break;case"longueur":F=T.longueur,q=M.longueur;break;case"capacite":F=T.capacite,q=M.capacite;break;case"nom":default:F=T.nom.toLowerCase(),q=M.nom.toLowerCase();break}return d==="asc"?F>q?1:-1:F<q?1:-1}),E=T=>{o===T?m(d==="asc"?"desc":"asc"):(c(T),m("asc"))},O=T=>o!==T?null:d==="asc"?e.jsx(Wv,{size:16}):e.jsx(qv,{size:16}),B=(T,M)=>{if(!M)return"";switch(T){case"destination":return M.charAt(0).toUpperCase()+M.slice(1).replace("-"," ");case"type":return M.charAt(0).toUpperCase()+M.slice(1);case"dateDebut":case"dateFin":return new Date(M).toLocaleDateString("fr-FR");default:return M}},C=Object.entries(i).filter(([T,M])=>M);return e.jsx("section",{id:"search-results",className:`py-20 bg-white scroll-mt-20 transition-all duration-700 ease-out ${w?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,ref:T=>{T&&(T.scrollIntoView=M=>{const V=T.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:V,behavior:M?.behavior||"smooth"})})},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-12 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Résultats de votre recherche"}),e.jsxs("p",{className:"text-xl text-gray-600",children:[r.length," bateau",r.length>1?"x":""," trouvé",r.length>1?"s":""," pour vos critères"]})]})]}),e.jsxs("button",{onClick:n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[e.jsx(ft,{size:20}),e.jsx("span",{children:"Réinitialiser"})]})]}),C.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200 animate-pulse",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-3",children:"Filtres actifs :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(([T,M])=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[T==="destination"?"📍":T==="type"?"🚢":T.includes("date")?"📅":"🔍",B(T,M)]},T))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Ld,{size:16}),e.jsx("span",{children:"Filtres avancés"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Trier par :"}),e.jsx("div",{className:"flex gap-2",children:[{key:"nom",label:"Nom"},{key:"prix_jour",label:"Prix"},{key:"longueur",label:"Longueur"},{key:"capacite",label:"Capacité"}].map(({key:T,label:M})=>e.jsxs("button",{onClick:()=>E(T),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${o===T?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:[M,O(T)]},T))})]})]}),y&&e.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtres avancés"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix maximum par jour"}),e.jsx("input",{type:"number",placeholder:"€",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longueur minimum"}),e.jsx("input",{type:"number",placeholder:"mètres",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacité minimum"}),e.jsx("input",{type:"number",placeholder:"personnes",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),R.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:R.map(T=>e.jsx(Oc,{boat:T},T._id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Ld,{size:64})}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun résultat"}),e.jsx("p",{className:"text-gray-500",children:"Essayez de modifier vos critères de recherche"})]})]})})}const $b=new URL("/assets/Yacht-charter-M-Y-ELTON_9-DZQi4yIW.jpg",import.meta.url).href;function Vb(){const[r,n]=j.useState([]),[i,o]=j.useState([]),[c,d]=j.useState(!0),[m,y]=j.useState(""),[x,w]=j.useState([]),[N,R]=j.useState(!0),[E,O]=j.useState({destination:"",dateDebut:"",dateFin:"",type:""}),[B,C]=j.useState(!1);j.useEffect(()=>{T(),V()},[]);const T=async()=>{try{d(!0);const v=await fetch("http://localhost:3001/api/boats");if(!v.ok)throw new Error("Erreur lors de la récupération des bateaux");const k=await v.json();n(k)}catch(v){y(v.message)}finally{d(!1)}},M=async()=>{try{C(!0);let v=r.filter(k=>E.destination&&k.destination!==E.destination||E.type&&k.type!==E.type?!1:(E.dateDebut&&E.dateFin,!0));o(v),C(!1),v.length>0?setTimeout(()=>{const k=document.getElementById("search-results");k&&k.scrollIntoView?k.scrollIntoView({behavior:"smooth"}):k?.scrollIntoView({behavior:"smooth",block:"start"})},300):alert("Aucun bateau trouvé pour vos critères de recherche. Essayez de modifier vos filtres.")}catch(v){console.error("Erreur lors de la recherche:",v),C(!1)}},F=(v,k)=>{O(P=>({...P,[v]:k}))},q=()=>{O({destination:"",dateDebut:"",dateFin:"",type:""}),o([])},V=async()=>{try{R(!0),console.log("🔄 Récupération des avis 5 étoiles depuis la table reviews...");const v=await fetch("http://localhost:3001/api/reviews/five-stars?limit=3");if(console.log("📡 Réponse API avis 5 étoiles:",v.status,v.statusText),v.ok){const k=await v.json();console.log("✅ Données avis 5 étoiles reçues depuis la table reviews:",k),k.data&&k.data.length>0?(console.log(`📝 ${k.data.length} avis 5 étoiles trouvés dans la table reviews`),w(k.data)):(console.log("⚠️ Aucun avis 5 étoiles trouvé dans la table reviews"),w([]))}else console.error("❌ Erreur API avis 5 étoiles:",v.status,v.statusText),w([])}catch(v){console.error("💥 Erreur réseau lors de la récupération des avis 5 étoiles:",v),w([])}finally{R(!1)}},ee=r.slice(0,6),te=!!localStorage.getItem("userId"),A=[{id:1,name:"Saint-Malo",image:"https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=800",description:"La cité corsaire et ses îles sauvages"},{id:2,name:"Les Glénan",image:"https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Archipel breton aux eaux turquoise"},{id:3,name:"Marseille",image:"https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Calanques et îles du Frioul"}];return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("section",{className:"relative h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700",children:[e.jsx("img",{src:$b,alt:"","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/20 pointer-events-none"}),e.jsx("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:e.jsxs("div",{className:"text-center text-white max-w-4xl",children:[e.jsxs("h1",{className:"text-6xl md:text-8xl font-bold mb-8 tracking-wider",children:["SAILINGLOC",e.jsx("span",{className:"text-orange-500",children:"."})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-12 font-light max-w-3xl mx-auto leading-relaxed",children:"Découvrez les plus beaux bateaux pour vos aventures en mer"}),e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 max-w-5xl mx-auto shadow-2xl",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{className:"h-4 w-4 text-gray-500"}),e.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Destination"})]}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 mt-2",value:E.destination,onChange:v=>F("destination",v.target.value),children:[e.jsx("option",{value:"",children:"Destination"}),e.jsx("option",{value:"saint-malo",children:"Saint-Malo"}),e.jsx("option",{value:"les-glenan",children:"Les Glénan"}),e.jsx("option",{value:"crozon",children:"Crozon"}),e.jsx("option",{value:"la-rochelle",children:"La Rochelle"}),e.jsx("option",{value:"marseille",children:"Marseille"}),e.jsx("option",{value:"cannes",children:"Cannes"}),e.jsx("option",{value:"ajaccio",children:"Ajaccio"}),e.jsx("option",{value:"barcelone",children:"Barcelone"}),e.jsx("option",{value:"palma",children:"Palma de Majorque"}),e.jsx("option",{value:"athenes",children:"Athènes"}),e.jsx("option",{value:"venise",children:"Venise"}),e.jsx("option",{value:"amsterdam",children:"Amsterdam"}),e.jsx("option",{value:"split",children:"Split"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"h-4 w-4 text-gray-500"}),e.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Date de début"})]}),e.jsx("input",{type:"date",placeholder:"Date de début",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 mt-2",value:E.dateDebut,onChange:v=>F("dateDebut",v.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"h-4 w-4 text-gray-500"}),e.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Date de fin"})]}),e.jsx("input",{type:"date",placeholder:"Date de fin",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 mt-2",value:E.dateFin,onChange:v=>F("dateFin",v.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"h-4 w-4 text-gray-500"}),e.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Type de bateau"})]}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 mt-2 min-w-[140px]",value:E.type,onChange:v=>F("type",v.target.value),children:[e.jsx("option",{value:"",children:"Type"}),e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"catamaran",children:"Catamaran"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:M,disabled:B,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:B?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Recherche..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(np,{size:20}),e.jsx("span",{children:"Rechercher"})]})})})]})})]})})]}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Nos bateaux vedettes"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Découvrez notre sélection de bateaux les plus populaires pour vos escapades en mer"})]}),c?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des bateaux..."})]}):m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-500",children:m})]}):ee.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun bateau disponible"}),e.jsx("p",{className:"text-gray-500",children:"Revenez bientôt pour découvrir nos bateaux !"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ee.map(v=>e.jsx(Oc,{boat:v},v._id))}),r.length>6&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(me,{to:"/bateaux",className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-8 py-3 rounded-full font-medium hover:bg-blue-700 transition-colors",children:[e.jsx("span",{children:"Voir tous les bateaux"}),e.jsx(ep,{size:20})]})})]})}),i.length>0&&e.jsx(Bb,{boats:i,onReset:q,searchFilters:E}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Ce que disent nos"," ",e.jsx("span",{className:"text-blue-600",children:"navigateurs"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Découvrez les expériences exceptionnelles de nos clients les plus satisfaits"})]}),N?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des avis 5 étoiles depuis la table reviews..."})]}):x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun avis 5 étoiles disponible"}),e.jsx("p",{className:"text-gray-500",children:"Revenez bientôt pour découvrir les avis exceptionnels de nos navigateurs !"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(v=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-lg",children:v.userId?.nom?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[v.userId?.nom," ",v.userId?.prenom]}),e.jsx("p",{className:"text-sm text-gray-500",children:v.boatId?.nom||"Bateau"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"flex items-center space-x-1 mb-2",children:[...Array(5)].map((k,P)=>e.jsx(rh,{size:20,className:"text-yellow-400 fill-current"},P))}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Excellent"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ya,{className:"h-6 w-6 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("blockquote",{className:"text-gray-700 leading-relaxed italic text-lg",children:['"',v.comment,'"']})]})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-100",children:[e.jsx("span",{children:new Date(v.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}),v.boatId?.type&&e.jsx("span",{className:"capitalize bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:v.boatId.type})]})]},v._id))}),x.length>6&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(me,{to:"/avis",className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-8 py-3 rounded-full font-medium hover:bg-blue-700 transition-colors",children:[e.jsx("span",{children:"Voir tous les avis"}),e.jsx(ep,{size:20})]})})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Cap sur les ",e.jsx("span",{className:"text-blue-600",children:"destinations"})," ","les plus prisées par nos navigateurs !"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:A.map(v=>e.jsx("div",{className:"relative group cursor-pointer",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-xl",children:[e.jsx("img",{src:v.image,alt:v.name,className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-8 left-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:v.name}),e.jsx("p",{className:"text-lg opacity-90",children:v.description})]})]})},v.id))})]})}),e.jsx("section",{className:"py-20 bg-blue-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Prêt à vivre l'aventure ?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Rejoignez SailingLoc et commencez à explorer les mers du monde"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:te?e.jsxs(me,{to:"/bateaux",className:"inline-flex items-center space-x-2 bg-white text-blue-600 px-8 py-3 rounded-full font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(np,{size:20}),e.jsx("span",{children:"Rechercher un bateau"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(me,{to:"/inscription",className:"inline-flex items-center space-x-2 bg-white text-blue-600 px-8 py-3 rounded-full font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(rb,{size:20}),e.jsx("span",{children:"S'inscrire"})]}),e.jsx(me,{to:"/connexion",className:"inline-flex items-center space-x-2 border-2 border-white text-white px-8 py-3 rounded-full font-medium hover:bg-white hover:text-blue-600 transition-colors",children:e.jsx("span",{children:"Se connecter"})})]})})]})})]})}function Hb(){const[r,n]=j.useState([]),[i,o]=j.useState([]),[c,d]=j.useState(!0),[m,y]=j.useState(""),[x,w]=j.useState({type:"",priceRange:"",capacity:""}),[N,R]=j.useState("grid");j.useEffect(()=>{E()},[]);const E=async()=>{try{d(!0);const C=await fetch("http://localhost:3001/api/boats");if(!C.ok)throw new Error("Erreur lors de la récupération des bateaux");const T=await C.json();n(T),o(T)}catch(C){y(C.message)}finally{d(!1)}},O=(C,T)=>{const M={...x,[C]:T};w(M);let F=r;if(M.type&&(F=F.filter(q=>q.type.toLowerCase().includes(M.type.toLowerCase()))),M.priceRange){const[q,V]=M.priceRange.split("-").map(Number);F=F.filter(ee=>ee.prix_jour>=q&&(V?ee.prix_jour<=V:!0))}M.capacity&&(F=F.filter(q=>q.capacite>=parseInt(M.capacity))),o(F)},B=()=>{w({type:"",priceRange:"",capacity:""}),o(r)};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des bateaux..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(It,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-500",children:m})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4 sm:mb-0",children:"Nos bateaux"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," bateau",i.length>1?"x":""," trouvé",i.length>1?"s":""]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>R("grid"),className:`p-2 rounded-md ${N==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:e.jsx(Kv,{size:20})}),e.jsx("button",{onClick:()=>R("list"),className:`p-2 rounded-md ${N==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:e.jsx(Zv,{size:20})})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(Ld,{size:20}),e.jsx("span",{children:"Filtres"})]}),e.jsx("button",{onClick:B,className:"text-sm text-blue-600 hover:text-blue-700",children:"Effacer"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de bateau"}),e.jsxs("select",{value:x.type,onChange:C=>O("type",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Tous les types"}),e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"catamaran",children:"Catamaran"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fourchette de prix"}),e.jsxs("select",{value:x.priceRange,onChange:C=>O("priceRange",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Tous les prix"}),e.jsx("option",{value:"0-100",children:"0€ - 100€"}),e.jsx("option",{value:"100-200",children:"100€ - 200€"}),e.jsx("option",{value:"200-300",children:"200€ - 300€"}),e.jsx("option",{value:"300-500",children:"300€ - 500€"}),e.jsx("option",{value:"500-1000",children:"500€+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacité minimale"}),e.jsxs("select",{value:x.capacity,onChange:C=>O("capacity",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Toutes capacités"}),e.jsx("option",{value:"2",children:"2+ personnes"}),e.jsx("option",{value:"4",children:"4+ personnes"}),e.jsx("option",{value:"6",children:"6+ personnes"}),e.jsx("option",{value:"8",children:"8+ personnes"}),e.jsx("option",{value:"10",children:"10+ personnes"})]})]})]})]})}),e.jsx("div",{className:"lg:w-3/4",children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun bateau trouvé"}),e.jsx("p",{className:"text-gray-500",children:"Essayez de modifier vos filtres ou revenez plus tard."})]}):e.jsx("div",{className:N==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:i.map(C=>e.jsx(Oc,{boat:C,viewMode:N},C._id))})})]})})]})}const qb="/assets/apropos-Dvd8oeAQ.png";function Wb(){const r=[{icon:It,title:"Large choix de bateaux",description:"Une sélection rigoureuse de bateaux entretenus et vérifiés pour votre sécurité et votre confort."},{icon:Gn,title:"Réservation facile et rapide",description:"Réservez en quelques clics avec notre système de réservation en ligne simple et intuitif."},{icon:_g,title:"Paiements sécurisés et service fiable",description:"Transactions 100% sécurisées et équipe disponible 7j/7 pour vous accompagner."}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=1600)",opacity:.3}}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-8",children:"À propos"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Une question ? Écrivez-nous, nous vous répondons rapidement !"})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-blue-900 text-white p-8 rounded-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"À PROPOS"}),e.jsxs("p",{style:{fontSize:"1.1rem",color:"var(--color-gray-800)",marginBottom:"1.5rem"},children:["SailingLoc est une start-up innovante fondée par M. Voisin, spécialisée dans la mise en relation pour la location de voiliers et de yachts. Basée à La Rochelle (Charente-Maritime), SailingLoc propose une plateforme collaborative, sécurisée et centrée sur l’expérience utilisateur.",e.jsx("br",{}),e.jsx("br",{}),"Notre service s’adresse aussi bien aux passionnés de navigation qu’aux vacanciers occasionnels, en facilitant la location de bateaux auprès de particuliers ou de professionnels partout en Europe. Que ce soit pour une sortie en mer, une croisière en famille, entre amis ou en couple, SailingLoc vous invite à vivre des aventures maritimes authentiques et inoubliables."]}),e.jsx("h2",{className:"text-orange-500 text-[1.3rem] mb-4 font-bold",children:"Informations légales"}),e.jsxs("ul",{style:{fontSize:"1.08rem",color:"var(--color-gray-800)",listStyle:"none",padding:0,lineHeight:1.8},children:[e.jsxs("li",{children:[e.jsx("b",{children:"Dénomination sociale"})," : SailingLoc"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Date de création"})," : 15/03/2024"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Siège social"})," : 12 Quai Louis Durand, 17000 La Rochelle"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Statut juridique"})," : Société par Actions Simplifiée (SAS)"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Capital social"})," : 15 000 €"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Numéro RCS"})," : LA ROCHELLE B 923 456 789"]}),e.jsxs("li",{children:[e.jsx("b",{children:"SIREN"})," : 923 456 789"]}),e.jsxs("li",{children:[e.jsx("b",{children:"SIRET"})," : 923 456 789 00014"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Code APE/NAF"})," : 7990Z – Services de réservation et activités connexes"]}),e.jsxs("li",{children:[e.jsx("b",{children:"TVA intracommunautaire"})," : FR42923456789"]})]})]})}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:qb,alt:"À propos SailingLoc",className:"rounded-2xl shadow-2xl w-full"})})]})})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Notre ",e.jsx("strong",{children:"mission"})," est de rendre la navigation ",e.jsx("strong",{children:"accessible"}),", ",e.jsx("strong",{children:"simple"})," et ",e.jsx("strong",{children:"sécurisée"})," pour tous les passionnés de mer."]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Nos trois piliers"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((n,i)=>e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-6 group-hover:bg-blue-600 transition-colors",children:e.jsx(n.icon,{className:"h-10 w-10 text-blue-600 group-hover:text-white transition-colors"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:n.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},i))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-blue-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Prêt à naviguer avec nous ?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-10 max-w-2xl mx-auto",children:"Découvrez notre sélection de bateaux et réservez votre prochaine aventure"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(me,{to:"/bateaux",className:"bg-white text-blue-600 px-8 py-4 rounded-full font-medium hover:bg-gray-100 transition-colors text-center",children:"Voir les bateaux"}),e.jsx(me,{to:"/contact",className:"bg-orange-500 text-white px-8 py-4 rounded-full font-medium hover:bg-orange-600 transition-colors text-center",children:"Nous contacter"})]})]})})]})}function Gb(){const[r,n]=j.useState({nom:"",prenom:"",telephone:"",message:"",email:""}),[i,o]=j.useState({}),[c,d]=j.useState(!1),[m,y]=j.useState(!1),x=R=>{const{name:E,value:O}=R.target;n(B=>({...B,[E]:O})),i[E]&&o(B=>({...B,[E]:""}))},w=()=>{const R={};return r.nom.trim()||(R.nom="Le nom est requis"),r.prenom.trim()||(R.prenom="Le prénom est requis"),r.telephone.trim()||(R.telephone="Le téléphone est requis"),r.message.trim()||(R.message="Le message est requis"),o(R),Object.keys(R).length===0},N=async R=>{if(R.preventDefault(),!!w()){d(!0);try{const E=await fetch("http://localhost:3001/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:r.nom,prenom:r.prenom,telephone:r.telephone,message:r.message,email:r.email})}),O=await E.json();if(!E.ok)throw new Error(O.message||"Erreur lors de l'envoi du message.");y(!0),n({nom:"",prenom:"",telephone:"",message:"",email:""}),setTimeout(()=>{y(!1)},5e3)}catch(E){alert(E.message||"Erreur lors de l'envoi du message.")}finally{d(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[m&&e.jsx("div",{className:"fixed top-24 right-4 z-50 animate-slide-in-right",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center space-x-3 max-w-md border border-green-400",children:[e.jsx("div",{className:"animate-bounce-in",children:e.jsx(Na,{className:"h-7 w-7 text-green-100 flex-shrink-0"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Message envoyé ! 🎉"}),e.jsx("p",{className:"text-green-100 text-sm",children:"Nous vous répondrons dans les plus brefs délais."})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-green-100 hover:text-white transition-colors duration-200 hover:bg-green-400 hover:bg-opacity-20 rounded-full p-1",children:e.jsx(ft,{className:"h-5 w-5"})})]})}),e.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=1600)",opacity:.3}}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-8",children:"Contact"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Nous simplifions la location de bateaux dans plus de 60 destinations, pour que vous puissiez profiter à tous vos besoins de navigation."})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-8 rounded-2xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-6",children:e.jsx(jg,{className:"h-8 w-8 text-blue-900"})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:"TÉLÉPHONE"}),e.jsx("p",{className:"text-blue-100 mb-2",children:"+33 2 99 40 78 90"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Lun-Ven : 9h-18h"})]}),e.jsxs("div",{className:"bg-blue-900 text-white p-8 rounded-2xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-6",children:e.jsx(ka,{className:"h-8 w-8 text-blue-900"})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:"INFORMATIONS"}),e.jsx("p",{className:"text-blue-100 mb-2",children:"sailinglocequipe@gmail.com"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Réponse sous 24h"})]}),e.jsxs("div",{className:"bg-blue-900 text-white p-8 rounded-2xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-6",children:e.jsx(Ks,{className:"h-8 w-8 text-blue-900"})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:"ADRESSE"}),e.jsx("p",{className:"text-blue-100 mb-2",children:"12 Quai Louis Durand"}),e.jsx("p",{className:"text-sm text-blue-200",children:"17000 La Rochelle"})]}),e.jsxs("div",{className:"bg-blue-900 text-white p-8 rounded-2xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-6",children:e.jsx(Gn,{className:"h-8 w-8 text-blue-900"})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:"HORAIRES"}),e.jsx("p",{className:"text-blue-100 mb-2",children:"Lun-Sam : 9h-18h"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Fermé le dimanche"})]})]})})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Formulaire de contact"}),e.jsx("p",{className:"text-gray-600",children:"Remplissez le formulaire ci-dessous et nous vous répondrons rapidement"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nom",className:"block text-sm font-bold text-gray-900 mb-3",children:"NOM"}),e.jsx("input",{type:"text",id:"nom",name:"nom",value:r.nom,onChange:x,className:`w-full px-4 py-4 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.nom?"border-red-500":"border-gray-200"}`,placeholder:"Votre nom"}),i.nom&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.nom})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"prenom",className:"block text-sm font-bold text-gray-900 mb-3",children:"PRÉNOM"}),e.jsx("input",{type:"text",id:"prenom",name:"prenom",value:r.prenom,onChange:x,className:`w-full px-4 py-4 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.prenom?"border-red-500":"border-gray-200"}`,placeholder:"Votre prénom"}),i.prenom&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.prenom})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-900 mb-3",children:"EMAIL"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:x,className:`w-full px-4 py-4 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.email?"border-red-500":"border-gray-200"}`,placeholder:"Votre email"}),i.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telephone",className:"block text-sm font-bold text-gray-900 mb-3",children:"TÉLÉPHONE"}),e.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:r.telephone,onChange:x,className:`w-full px-4 py-4 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.telephone?"border-red-500":"border-gray-200"}`,placeholder:"Votre numéro de téléphone"}),i.telephone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.telephone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-gray-900 mb-3",children:"MESSAGE"}),e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:x,rows:6,className:`w-full px-4 py-4 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.message?"border-red-500":"border-gray-200"}`,placeholder:"Votre message..."}),i.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.message})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",disabled:c,className:`inline-flex items-center space-x-3 px-12 py-4 rounded-full font-bold text-lg transition-colors ${c?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"} text-white shadow-lg`,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),e.jsx("span",{children:"Envoi en cours..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ng,{size:24}),e.jsx("span",{children:"ENVOYER"})]})})})]})]})})})]})}function Kb({isOpen:r,onClose:n,onReviewAdded:i,boatData:o,bookingId:c}){const[d,m]=j.useState({rating:5,comment:""}),[y,x]=j.useState(!1),[w,N]=j.useState(""),[R,E]=j.useState(""),O=M=>{m(F=>({...F,rating:M}))},B=M=>{const{name:F,value:q}=M.target;m(V=>({...V,[F]:q}))},C=async M=>{M.preventDefault(),x(!0),N(""),E("");try{if(!d.comment.trim())throw new Error("Le commentaire est obligatoire");if(d.comment.trim().length<10)throw new Error("Le commentaire doit contenir au moins 10 caractères");if(d.comment.trim().length>1e3)throw new Error("Le commentaire ne peut pas dépasser 1000 caractères");const F=localStorage.getItem("token");if(!F)throw new Error("Vous devez être connecté");const q=await fetch("http://localhost:3001/api/reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({boatId:o._id,bookingId:c,rating:d.rating,comment:d.comment.trim()})}),V=await q.json();if(!q.ok)throw new Error(V.message||"Erreur lors de l'ajout de l'avis");E("Avis ajouté avec succès !"),i&&i(V.data),setTimeout(()=>{n(),E("")},2e3)}catch(F){N(F.message)}finally{x(!1)}},T=()=>{m({rating:5,comment:"",images:[]}),N(""),E(""),n()};return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(ya,{className:"h-6 w-6 text-blue-600"}),"Laisser un avis"]}),e.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ft,{className:"h-6 w-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),R&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:R}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-2",children:["Bateau : ",o?.nom]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Type : ",o?.type]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Note globale *"}),e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(M=>e.jsx("button",{type:"button",onClick:()=>O(M),className:`p-1 transition-colors ${M<=d.rating?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-gray-400"}`,children:e.jsx(rh,{className:"h-8 w-8 fill-current"})},M))}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[d.rating===1&&"Très mauvais",d.rating===2&&"Mauvais",d.rating===3&&"Moyen",d.rating===4&&"Bon",d.rating===5&&"Excellent"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre avis *"}),e.jsx("textarea",{name:"comment",value:d.comment,onChange:B,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Partagez votre expérience avec ce bateau... (minimum 10 caractères)",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.comment.length,"/1000 caractères"]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:T,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ng,{className:"h-4 w-4"}),"Publier l'avis"]})})]})]})]})}):null}function Xb({review:r,onHelpfulClick:n}){const i=c=>new Date(c).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),o=()=>{n&&n(r._id)};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:r.userId?.nom?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[r.userId?.nom," ",r.userId?.prenom]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx("span",{children:i(r.createdAt)})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(_o,{rating:r.rating,size:20}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.rating===1&&"Très mauvais",r.rating===2&&"Mauvais",r.rating===3&&"Moyen",r.rating===4&&"Bon",r.rating===5&&"Excellent"]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ya,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.comment})]})}),r.images&&r.images.length>0&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.images.map((c,d)=>e.jsx("div",{className:"relative",children:e.jsx("img",{src:c,alt:`Image ${d+1}`,className:"w-full h-24 object-cover rounded-lg",onError:m=>{m.target.style.display="none"}})},d))})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(sb,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Utile (",r.helpful||0,")"]})]})}),r.bookingId&&e.jsx("div",{className:"text-xs text-gray-500",children:"Avis basé sur une réservation"})]})]})}function Jb(){const{id:r}=hg(),[n,i]=j.useState(null),[o,c]=j.useState(!0),[d,m]=j.useState(""),[y,x]=j.useState([]),[w,N]=j.useState(!1),[R,E]=j.useState(0),[O,B]=j.useState(0);j.useEffect(()=>{C(),T()},[r]);const C=async()=>{try{c(!0);const ee=await fetch(`http://localhost:3001/api/boats/${r}`);if(!ee.ok)throw new Error("Bateau non trouvé");const te=await ee.json();i(te)}catch(ee){m(ee.message)}finally{c(!1)}},T=async()=>{try{const ee=await fetch(`http://localhost:3001/api/reviews/boat/${r}`);if(ee.ok){const te=await ee.json();x(te.data||[]),E(te.averageRating||0),B(te.total||0)}}catch(ee){console.error("Erreur lors de la récupération des avis:",ee)}},M=()=>{N(!0)},F=ee=>{T(),N(!1)},q=()=>{N(!1)},V=async ee=>{try{(await fetch(`http://localhost:3001/api/reviews/${ee}/helpful`,{method:"PUT"})).ok&&T()}catch(te){console.error("Erreur lors du marquage utile:",te)}};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du bateau..."})]})}):d||!n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(It,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:d||"Bateau non trouvé"}),e.jsx(me,{to:"/bateaux",className:"text-blue-600 hover:text-blue-700",children:"Retourner à la liste des bateaux"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs(me,{to:"/bateaux",className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(Pc,{size:20}),e.jsx("span",{children:"Retour aux bateaux"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.nom}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_o,{rating:n.rating||0}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",n.reviews||0," avis)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(Ks,{size:16}),e.jsx("span",{className:"capitalize",children:n.destination})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image,alt:n.nom,className:"w-full h-96 object-cover rounded-lg shadow-lg"}),e.jsx("div",{className:"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-md font-medium",children:n.type}),e.jsx(Fd,{boatId:n._id})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),n.description?e.jsx("p",{className:"text-gray-600 mb-6",children:n.description}):e.jsx("p",{className:"text-gray-500 italic mb-6",children:"Aucune description disponible pour ce bateau."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Caractéristiques"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ti,{size:16,className:"text-blue-600"}),e.jsxs("span",{children:["Capacité : ",n.capacite," personnes"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sh,{size:16,className:"text-blue-600"}),e.jsxs("span",{children:["Longueur : ",n.longueur,"m"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{size:16,className:"text-blue-600"}),e.jsxs("span",{children:["Localisation : ",n.localisation]})]})]})]}),n.equipements&&n.equipements.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Équipements"}),e.jsx("div",{className:"space-y-2 text-sm",children:n.equipements.map((ee,te)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fc,{size:16,className:"text-green-600"}),e.jsx("span",{children:ee})]},te))})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[n.prix_jour,"€"]}),e.jsx("div",{className:"text-gray-600",children:"par jour"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Capacité"}),e.jsxs("span",{className:"font-medium",children:[n.capacite," personnes"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Type"}),e.jsx("span",{className:"font-medium capitalize",children:n.type})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Longueur"}),e.jsxs("span",{className:"font-medium",children:[n.longueur,"m"]})]})]}),e.jsx(me,{to:`/reservation/${r}`,className:"w-full bg-orange-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-orange-600 transition-colors flex items-center justify-center",children:"Réserver ce bateau"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Réservation sécurisée • Annulation gratuite"})})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ya,{className:"h-6 w-6 text-blue-600"}),"Avis des clients"]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_o,{rating:R,size:20}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",O," avis)"]})]}),R>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Note moyenne : ",R.toFixed(1),"/5"]})]})]}),e.jsxs("button",{onClick:M,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ya,{className:"h-4 w-4"}),"Laisser un avis"]})]}),e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ya,{size:48,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Aucun avis pour le moment"}),e.jsx("p",{className:"text-sm",children:"Soyez le premier à laisser un avis !"})]}):y.map(ee=>e.jsx(Xb,{review:ee,onHelpfulClick:V},ee._id))})]})})]}),e.jsx(Kb,{isOpen:w,onClose:q,onReviewAdded:F,boatData:n})]})}const Dg=({onCaptchaChange:r,isCorrect:n,setIsCorrect:i})=>{const[o,c]=j.useState(""),[d,m]=j.useState(""),[y,x]=j.useState(null),w=j.useRef(null),N=()=>{const B="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let C="";for(let T=0;T<6;T++)C+=B.charAt(Math.floor(Math.random()*B.length));return C},R=B=>{const C=w.current;if(!C)return;const T=C.getContext("2d"),M=C.width,F=C.height;T.clearRect(0,0,M,F);const q=T.createLinearGradient(0,0,M,F);q.addColorStop(0,"#f3f4f6"),q.addColorStop(1,"#e5e7eb"),T.fillStyle=q,T.fillRect(0,0,M,F);for(let te=0;te<100;te++)T.fillStyle=`rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.1)`,T.fillRect(Math.random()*M,Math.random()*F,1,1);for(let te=0;te<3;te++)T.strokeStyle=`rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.3)`,T.lineWidth=1,T.beginPath(),T.moveTo(Math.random()*M,Math.random()*F),T.lineTo(Math.random()*M,Math.random()*F),T.stroke();T.font="bold 32px Arial",T.textAlign="center",T.textBaseline="middle";let V=M/2,ee=F/2;for(let te=0;te<B.length;te++){const A=B[te];T.fillStyle=`rgb(${Math.random()*100+50}, ${Math.random()*100+50}, ${Math.random()*100+50})`,T.save();const v=V+(te-B.length/2)*35+(Math.random()-.5)*10,k=ee+(Math.random()-.5)*15,P=(Math.random()-.5)*.4;T.translate(v,k),T.rotate(P),T.fillText(A,0,0),T.restore()}for(let te=0;te<5;te++)T.fillStyle=`rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.1)`,T.beginPath(),T.arc(Math.random()*M,Math.random()*F,Math.random()*10+5,0,2*Math.PI),T.fill()},E=()=>{const B=N();c(B),m(""),i(!1),setTimeout(()=>{R(B)},100),r&&r({question:B,answer:B})},O=B=>{m(B);const C=B.toUpperCase()===o;i(C),r&&r({question:o,answer:o,userAnswer:B,isCorrect:C})};return j.useEffect(()=>{E()},[]),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vérification de sécurité *"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("canvas",{ref:w,width:300,height:80,className:"mx-auto border border-gray-200 rounded",style:{imageRendering:"pixelated"}}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recopiez les lettres et chiffres affichés ci-dessus"})]})}),e.jsx("button",{type:"button",onClick:E,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Nouveau CAPTCHA",children:e.jsx(nb,{className:"h-5 w-5"})})]}),e.jsx("input",{type:"text",value:d,onChange:B=>O(B.target.value),placeholder:"Tapez le code ci-dessus",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d&&!n?"border-red-300 focus:ring-red-500":d&&n?"border-green-300 focus:ring-green-500":"border-gray-300"}`,required:!0,maxLength:6}),d&&e.jsx("div",{className:`text-sm ${n?"text-green-600":"text-red-600"}`,children:n?e.jsx("span",{className:"flex items-center gap-1",children:"✅ Code correct"}):e.jsx("span",{className:"flex items-center gap-1",children:"❌ Code incorrect, réessayez"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recopiez le code affiché pour vérifier que vous êtes humain"})]})};function Yb(){const[r,n]=j.useState({email:"",password:""}),[i,o]=j.useState(!1),[c,d]=j.useState({}),[m,y]=j.useState(!1),[x,w]=j.useState({}),[N,R]=j.useState(!1),E=Zn(),O=T=>{const{name:M,value:F}=T.target;n(q=>({...q,[M]:F})),c[M]&&d(q=>({...q,[M]:""}))},B=()=>{const T={};return r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(T.email="Format d'email invalide"):T.email="L'email est requis",r.password.trim()?r.password.length<6&&(T.password="Le mot de passe doit contenir au moins 6 caractères"):T.password="Le mot de passe est requis",N||(T.captcha="Veuillez résoudre le CAPTCHA correctement"),d(T),Object.keys(T).length===0},C=async T=>{if(T.preventDefault(),!!B()){y(!0);try{const M=await fetch("http://localhost:3001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password,captchaQuestion:x.question,captchaAnswer:x.answer,userAnswer:x.userAnswer})});if(!M.ok){const V=await M.json();throw alert(V.message||"Erreur lors de la connexion."),new Error(V.message||"Erreur lors de la connexion.")}const F=await M.json();localStorage.setItem("token",F.token),localStorage.setItem("userPrenom",F.user.prenom),localStorage.setItem("userRole",F.user.role),localStorage.setItem("userId",F.user.id),localStorage.setItem("userNom",F.user.nom),localStorage.setItem("userEmail",F.user.email),localStorage.setItem("userTel",F.user.tel),pe.success(e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:22,marginRight:10},children:"✅"}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"#16a34a"},children:"Connexion réussie !"}),e.jsx("br",{}),"Bienvenue ",e.jsx("span",{style:{color:"#16a34a"},children:F.user.prenom})," 👋"]})]}),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#e6f9ec",color:"#16a34a",fontWeight:500,fontSize:18,border:"2px solid #16a34a"},icon:!1});const q=F.user.role==="admin"?"/admin":"/";setTimeout(()=>E(q),3100)}catch(M){alert(M.message||"Erreur lors de la connexion.")}finally{y(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx(Lc,{}),e.jsxs("section",{className:"relative py-16 bg-gradient-to-br from-blue-800 via-blue-900 to-blue-800",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=1600)",opacity:.3}}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx(Fr,{className:"h-12 w-12 text-white mr-4"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-wider",children:"SAILINGLOC"})]}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Connectez-vous pour accéder à votre espace personnel"})]})]}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-md mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CONNEXION"}),e.jsx("p",{className:"text-gray-600",children:"Accédez à votre compte SailingLoc"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"EMAIL"}),e.jsxs("div",{className:"relative",children:[e.jsx(ka,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:O,className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${c.email?"border-red-500":"border-gray-200"}`,placeholder:"votre@email.com"})]}),c.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"MOT DE PASSE"}),e.jsxs("div",{className:"relative",children:[e.jsx(gc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:O,className:`w-full pl-10 pr-12 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${c.password?"border-red-500":"border-gray-200"}`,placeholder:"Votre mot de passe"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(Dd,{size:20}):e.jsx(_a,{size:20})})]}),c.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Se souvenir de moi"})]}),e.jsx(me,{to:"/mot-de-passe-oublie",className:"text-sm text-blue-600 hover:text-blue-700",children:"Mot de passe oublié ?"})]}),e.jsx(Dg,{onCaptchaChange:w,isCorrect:N,setIsCorrect:R}),c.captcha&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.captcha}),e.jsx("button",{type:"submit",disabled:m,className:`w-full py-3 px-6 rounded-full font-bold text-lg transition-colors ${m?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"} text-white shadow-lg`,children:m?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"CONNEXION..."})]}):"SE CONNECTER"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Pas encore de compte ?"," ",e.jsx(me,{to:"/inscription",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Créer un compte"})]})})]})})})]})}function Qb(){const[r,n]=j.useState({prenom:"",nom:"",email:"",telephone:"",password:"",confirmPassword:"",acceptTerms:!1,userType:"client",isProfessionnel:!1,siret:"",siren:""}),[i,o]=j.useState(!1),[c,d]=j.useState(!1),[m,y]=j.useState({}),[x,w]=j.useState(!1),[N,R]=j.useState({}),[E,O]=j.useState(!1),B=Zn(),C=F=>{const{name:q,value:V,type:ee,checked:te}=F.target;n(A=>({...A,[q]:ee==="checkbox"?te:V})),m[q]&&y(A=>({...A,[q]:""}))},T=()=>{const F={};return r.prenom.trim()||(F.prenom="Le prénom est requis"),r.nom.trim()||(F.nom="Le nom est requis"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(F.email="Format d'email invalide"):F.email="L'email est requis",r.telephone.trim()||(F.telephone="Le téléphone est requis"),r.password.trim()?r.password.length<6&&(F.password="Le mot de passe doit contenir au moins 6 caractères"):F.password="Le mot de passe est requis",r.password!==r.confirmPassword&&(F.confirmPassword="Les mots de passe ne correspondent pas"),r.acceptTerms||(F.acceptTerms="Vous devez accepter les conditions d'utilisation"),r.userType==="proprietaire"&&r.isProfessionnel&&(r.siret.trim()?/^\d{14}$/.test(r.siret)||(F.siret="Le SIRET doit contenir exactement 14 chiffres"):F.siret="Le SIRET est requis pour les professionnels",r.siren.trim()?/^\d{9}$/.test(r.siren)||(F.siren="Le SIREN doit contenir exactement 9 chiffres"):F.siren="Le SIREN est requis pour les professionnels"),E||(F.captcha="Veuillez résoudre le CAPTCHA correctement"),y(F),Object.keys(F).length===0},M=async F=>{if(F.preventDefault(),!!T()){w(!0);try{await new Promise(ee=>setTimeout(ee,1e3));const q=await fetch("http://localhost:3001/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:r.nom,prenom:r.prenom,email:r.email,password:r.password,tel:r.telephone.replace(/\D/g,""),role:r.userType,...r.userType==="proprietaire"&&{isProfessionnel:r.isProfessionnel,...r.isProfessionnel&&{siret:r.siret,siren:r.siren}},captchaQuestion:N.question,captchaAnswer:N.answer,userAnswer:N.userAnswer})});if(!q.ok){const ee=await q.json();throw new Error(ee.message||"Inscription échouée")}const V=await q.json();localStorage.setItem("userNom",V.user.nom),pe.success(e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:22,marginRight:10},children:"✅"}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"#16a34a"},children:"Inscription réussie !"}),e.jsx("br",{}),"Bienvenue ",e.jsx("span",{style:{color:"#16a34a"},children:V.user.nom})," 👋"]})]}),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#e6f9ec",color:"#16a34a",fontWeight:500,fontSize:18,border:"2px solid #16a34a"},icon:!1}),setTimeout(()=>B("/connexion"),3100)}catch(q){pe.error(q.message||"Erreur lors de l'inscription.",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#fde6e6",color:"#991b1b",fontWeight:500,fontSize:18,border:"2px solid #991b1b"},icon:!1})}finally{w(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx(Lc,{}),e.jsxs("section",{className:"relative py-16 bg-gradient-to-br from-blue-800 via-blue-900 to-blue-800",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=1600)",opacity:.3}}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx(Fr,{className:"h-12 w-12 text-white mr-4"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-wider",children:"SAILINGLOC"})]}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Rejoignez la communauté des passionnés de navigation"})]})]}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-lg mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"INSCRIPTION"}),e.jsx("p",{className:"text-gray-600",children:"Créez votre compte SailingLoc"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"TYPE DE COMPTE"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("label",{className:`flex items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${r.userType==="client"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"userType",value:"client",checked:r.userType==="client",onChange:C,className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(Br,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("span",{className:"font-semibold",children:"CLIENT"}),e.jsx("p",{className:"text-xs mt-1",children:"Louer des bateaux"})]})]}),e.jsxs("label",{className:`flex items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${r.userType==="proprietaire"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"userType",value:"proprietaire",checked:r.userType==="proprietaire",onChange:C,className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(Fr,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("span",{className:"font-semibold",children:"PROPRIÉTAIRE"}),e.jsx("p",{className:"text-xs mt-1",children:"Mettre en location"})]})]})]})]}),r.userType==="proprietaire"&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(Fr,{className:"h-5 w-5"}),"Statut du propriétaire"]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"false",checked:r.isProfessionnel===!1,onChange:F=>n({...r,isProfessionnel:F.target.value==="true"}),className:"mr-3 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Particulier"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"true",checked:r.isProfessionnel===!0,onChange:F=>n({...r,isProfessionnel:F.target.value==="true"}),className:"mr-3 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Professionnel"})]})]}),r.isProfessionnel&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t border-blue-300 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Informations professionnelles"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siret",className:"block text-sm font-bold text-gray-900 mb-2",children:"SIRET *"}),e.jsx("input",{type:"text",id:"siret",name:"siret",value:r.siret,onChange:C,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.siret?"border-red-500":"border-gray-200"}`,placeholder:"12345678901234",maxLength:"14"}),m.siret&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.siret}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"14 chiffres sans espaces"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siren",className:"block text-sm font-bold text-gray-900 mb-2",children:"SIREN *"}),e.jsx("input",{type:"text",id:"siren",name:"siren",value:r.siren,onChange:C,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.siren?"border-red-500":"border-gray-200"}`,placeholder:"123456789",maxLength:"9"}),m.siren&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.siren}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"9 chiffres sans espaces"})]})]})]})})]}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"prenom",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"PRÉNOM"}),e.jsxs("div",{className:"relative",children:[e.jsx(Br,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",id:"prenom",name:"prenom",value:r.prenom,onChange:C,className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.prenom?"border-red-500":"border-gray-200"}`,placeholder:"Prénom"})]}),m.prenom&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.prenom})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nom",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"NOM"}),e.jsxs("div",{className:"relative",children:[e.jsx(Br,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",id:"nom",name:"nom",value:r.nom,onChange:C,className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.nom?"border-red-500":"border-gray-200"}`,placeholder:"Nom"})]}),m.nom&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.nom})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"EMAIL"}),e.jsxs("div",{className:"relative",children:[e.jsx(ka,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:C,className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.email?"border-red-500":"border-gray-200"}`,placeholder:"votre@email.com"})]}),m.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telephone",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"TÉLÉPHONE"}),e.jsxs("div",{className:"relative",children:[e.jsx(jg,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:r.telephone,onChange:C,className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.telephone?"border-red-500":"border-gray-200"}`,placeholder:"06 12 34 56 78"})]}),m.telephone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.telephone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"MOT DE PASSE"}),e.jsxs("div",{className:"relative",children:[e.jsx(gc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:C,className:`w-full pl-10 pr-12 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.password?"border-red-500":"border-gray-200"}`,placeholder:"Mot de passe"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(Dd,{size:20}):e.jsx(_a,{size:20})})]}),m.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-bold text-gray-900 mb-3 uppercase",children:"CONFIRMER LE MOT DE PASSE"}),e.jsxs("div",{className:"relative",children:[e.jsx(gc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:C,className:`w-full pl-10 pr-12 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:"Confirmer le mot de passe"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:c?e.jsx(Dd,{size:20}):e.jsx(_a,{size:20})})]}),m.confirmPassword&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.confirmPassword})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",name:"acceptTerms",checked:r.acceptTerms,onChange:C,className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["J'accepte les"," ",e.jsx(me,{to:"/conditions",className:"text-blue-600 hover:text-blue-700",children:"conditions d'utilisation"})," ","et la"," ",e.jsx(me,{to:"/confidentialite",className:"text-blue-600 hover:text-blue-700",children:"politique de confidentialité"})]})]}),m.acceptTerms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.acceptTerms})]}),e.jsx(Dg,{onCaptchaChange:R,isCorrect:E,setIsCorrect:O}),m.captcha&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.captcha}),e.jsx("button",{type:"submit",disabled:x,className:`w-full py-3 px-6 rounded-full font-bold text-lg transition-colors ${x?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"} text-white shadow-lg`,children:x?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"INSCRIPTION..."})]}):"CRÉER MON COMPTE"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Déjà un compte ?"," ",e.jsx(me,{to:"/connexion",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Se connecter"})]})})]})})})]})}function Zb(){const[r,n]=j.useState([]),[i,o]=j.useState(!0),[c,d]=j.useState("");j.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const x=localStorage.getItem("token")||sessionStorage.getItem("token");if(!x){d("Vous devez être connecté pour voir vos favoris"),o(!1);return}const w=await fetch("http://localhost:3001/api/favorites",{headers:{Authorization:`Bearer ${x}`}});if(!w.ok)throw new Error("Erreur lors de la récupération des favoris");const N=await w.json();n(N.data||[])}catch(x){d(x.message)}finally{o(!1)}},y=async x=>{try{const w=localStorage.getItem("token")||sessionStorage.getItem("token");if((await fetch(`http://localhost:3001/api/favorites/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${w}`}})).ok)n(R=>R.filter(E=>E.boatId._id!==x)),pe.success("Bateau retiré des favoris");else throw new Error("Erreur lors de la suppression")}catch(w){pe.error(w.message||"Erreur lors de la suppression du favori")}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de vos favoris..."})]})}):c?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx(jo,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erreur"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx(me,{to:"/connexion",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Se connecter"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Retrouvez tous vos bateaux favoris"})]}),e.jsx(me,{to:"/bateaux",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Découvrir plus de bateaux"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(No,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Aucun bateau en favori pour le moment"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Vous n'avez pas encore ajouté de bateaux à vos favoris. Explorez notre catalogue et cliquez sur le cœur pour les ajouter !"}),e.jsx(me,{to:"/bateaux",className:"inline-block bg-orange-500 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-orange-600 transition-colors",children:"Découvrir nos bateaux"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(No,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total des favoris"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vos bateaux favoris"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(x=>e.jsxs("div",{className:"relative",children:[e.jsx(Oc,{boat:x.boatId}),e.jsx("button",{onClick:()=>y(x.boatId._id),className:"absolute top-4 right-4 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg z-10",title:"Retirer des favoris",children:e.jsx(Ni,{size:16})})]},x._id))})]})]})})]})}const e1=()=>{};var rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=function(r){const n=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);c<128?n[i++]=c:c<2048?(n[i++]=c>>6|192,n[i++]=c&63|128):(c&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++o)&1023),n[i++]=c>>18|240,n[i++]=c>>12&63|128,n[i++]=c>>6&63|128,n[i++]=c&63|128):(n[i++]=c>>12|224,n[i++]=c>>6&63|128,n[i++]=c&63|128)}return n},t1=function(r){const n=[];let i=0,o=0;for(;i<r.length;){const c=r[i++];if(c<128)n[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=r[i++];n[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=r[i++],m=r[i++],y=r[i++],x=((c&7)<<18|(d&63)<<12|(m&63)<<6|y&63)-65536;n[o++]=String.fromCharCode(55296+(x>>10)),n[o++]=String.fromCharCode(56320+(x&1023))}else{const d=r[i++],m=r[i++];n[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|m&63)}}return n.join("")},Og={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<r.length;c+=3){const d=r[c],m=c+1<r.length,y=m?r[c+1]:0,x=c+2<r.length,w=x?r[c+2]:0,N=d>>2,R=(d&3)<<4|y>>4;let E=(y&15)<<2|w>>6,O=w&63;x||(O=64,m||(E=64)),o.push(i[N],i[R],i[E],i[O])}return o.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(Lg(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):t1(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<r.length;){const d=i[r.charAt(c++)],y=c<r.length?i[r.charAt(c)]:0;++c;const w=c<r.length?i[r.charAt(c)]:64;++c;const R=c<r.length?i[r.charAt(c)]:64;if(++c,d==null||y==null||w==null||R==null)throw new n1;const E=d<<2|y>>4;if(o.push(E),w!==64){const O=y<<4&240|w>>2;if(o.push(O),R!==64){const B=w<<6&192|R;o.push(B)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(r){const n=Lg(r);return Og.encodeByteArray(n,!0)},vc=function(r){return s1(r).replace(/\./g,"")},Mg=function(r){try{return Og.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=()=>r1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof rp>"u")return;const r=rp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},o1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&Mg(r[1]);return n&&JSON.parse(n)},ih=()=>{try{return e1()||i1()||a1()||o1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ug=r=>ih()?.emulatorHosts?.[r],zg=r=>{const n=Ug(r);if(!n)return;const i=n.lastIndexOf(":");if(i<=0||i+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const o=parseInt(n.substring(i+1),10);return n[0]==="["?[n.substring(1,i-1),o]:[n.substring(0,i),o]},Fg=()=>ih()?.config,Bg=r=>ih()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}wrapCallback(n){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(i):n(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ah(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(r,n){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=n||"demo-project",c=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vc(JSON.stringify(i)),vc(JSON.stringify(m)),""].join(".")}const po={};function c1(){const r={prod:[],emulator:[]};for(const n of Object.keys(po))po[n]?r.emulator.push(n):r.prod.push(n);return r}function u1(r){let n=document.getElementById(r),i=!1;return n||(n=document.createElement("div"),n.setAttribute("id",r),i=!0),{created:i,element:n}}let ip=!1;function oh(r,n){if(typeof window>"u"||typeof document>"u"||!Oi(window.location.host)||po[r]===n||po[r]||ip)return;po[r]=n;function i(E){return`__firebase__banner__${E}`}const o="__firebase__banner",d=c1().prod.length>0;function m(){const E=document.getElementById(o);E&&E.remove()}function y(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function x(E,O){E.setAttribute("width","24"),E.setAttribute("id",O),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function w(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ip=!0,m()},E}function N(E,O){E.setAttribute("id",O),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function R(){const E=u1(o),O=i("text"),B=document.getElementById(O)||document.createElement("span"),C=i("learnmore"),T=document.getElementById(C)||document.createElement("a"),M=i("preprendIcon"),F=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;y(q),N(T,C);const V=w();x(F,M),q.append(F,B,T,V),document.body.appendChild(q)}d?(B.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const r=Vt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((r,n)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(i){n(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class _s extends Error{constructor(n,i,o){super(i),this.code=n,this.customData=o,this.name=y1,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(n,i,o){this.service=n,this.serviceName=i,this.errors=o}create(n,...i){const o=i[0]||{},c=`${this.service}/${n}`,d=this.errors[n],m=d?v1(d,o):"Error",y=`${this.serviceName}: ${m} (${c}).`;return new _s(c,y,o)}}function v1(r,n){return r.replace(b1,(i,o)=>{const c=n[o];return c!=null?String(c):`<${o}?>`})}const b1=/\{\$([^}]+)}/g;function w1(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}function Pi(r,n){if(r===n)return!0;const i=Object.keys(r),o=Object.keys(n);for(const c of i){if(!o.includes(c))return!1;const d=r[c],m=n[c];if(ap(d)&&ap(m)){if(!Pi(d,m))return!1}else if(d!==m)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function ap(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(r){const n=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(c=>{n.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return n.length?"&"+n.join("&"):""}function j1(r,n){const i=new N1(r,n);return i.subscribe.bind(i)}class N1{constructor(n,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{n(this)}).catch(o=>{this.error(o)})}next(n){this.forEachObserver(i=>{i.next(n)})}error(n){this.forEachObserver(i=>{i.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,i,o){let c;if(n===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");_1(n,["next","error","complete"])?c=n:c={next:n,error:i,complete:o},c.next===void 0&&(c.next=vd),c.error===void 0&&(c.error=vd),c.complete===void 0&&(c.complete=vd);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,n)}sendOne(n,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{i(this.observers[n])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _1(r,n){if(typeof r!="object"||r===null)return!1;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r){return r&&r._delegate?r._delegate:r}class Hr{constructor(n,i,o){this.name=n,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(n,i){this.name=n,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const i=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(i)){const o=new l1;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(n){const i=this.normalizeInstanceIdentifier(n?.identifier),o=n?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(E1(n))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(n=yi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=yi){return this.instances.has(n)}getOptions(n=yi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:i={}}=n,o=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(d);o===y&&m.resolve(c)}return c}onInit(n,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(n),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&n(d,o),()=>{c.delete(n)}}invokeOnInitCallbacks(n,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(n,i)}catch{}}getOrInitializeService({instanceIdentifier:n,options:i={}}){let o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:S1(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null}normalizeInstanceIdentifier(n=yi){return this.component?this.component.multipleInstances?n:yi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S1(r){return r===yi?void 0:r}function E1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const i=this.getProvider(n.name);if(i.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);i.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const i=new k1(n,this);return this.providers.set(n,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const T1={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},I1=Ge.INFO,P1={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},R1=(r,n,...i)=>{if(n<r.logLevel)return;const o=new Date().toISOString(),c=P1[n];if(c)console[c](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class lh{constructor(n){this.name=n,this._logLevel=I1,this._logHandler=R1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ge))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?T1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...n),this._logHandler(this,Ge.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...n),this._logHandler(this,Ge.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...n),this._logHandler(this,Ge.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...n),this._logHandler(this,Ge.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...n),this._logHandler(this,Ge.ERROR,...n)}}const A1=(r,n)=>n.some(i=>r instanceof i);let op,lp;function D1(){return op||(op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return lp||(lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vg=new WeakMap,Bd=new WeakMap,Hg=new WeakMap,bd=new WeakMap,ch=new WeakMap;function O1(r){const n=new Promise((i,o)=>{const c=()=>{r.removeEventListener("success",d),r.removeEventListener("error",m)},d=()=>{i($r(r.result)),c()},m=()=>{o(r.error),c()};r.addEventListener("success",d),r.addEventListener("error",m)});return n.then(i=>{i instanceof IDBCursor&&Vg.set(i,r)}).catch(()=>{}),ch.set(n,r),n}function M1(r){if(Bd.has(r))return;const n=new Promise((i,o)=>{const c=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",m),r.removeEventListener("abort",m)},d=()=>{i(),c()},m=()=>{o(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",d),r.addEventListener("error",m),r.addEventListener("abort",m)});Bd.set(r,n)}let $d={get(r,n,i){if(r instanceof IDBTransaction){if(n==="done")return Bd.get(r);if(n==="objectStoreNames")return r.objectStoreNames||Hg.get(r);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $r(r[n])},set(r,n,i){return r[n]=i,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function U1(r){$d=r($d)}function z1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const o=r.call(wd(this),n,...i);return Hg.set(o,n.sort?n.sort():[n]),$r(o)}:L1().includes(r)?function(...n){return r.apply(wd(this),n),$r(Vg.get(this))}:function(...n){return $r(r.apply(wd(this),n))}}function F1(r){return typeof r=="function"?z1(r):(r instanceof IDBTransaction&&M1(r),A1(r,D1())?new Proxy(r,$d):r)}function $r(r){if(r instanceof IDBRequest)return O1(r);if(bd.has(r))return bd.get(r);const n=F1(r);return n!==r&&(bd.set(r,n),ch.set(n,r)),n}const wd=r=>ch.get(r);function B1(r,n,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const m=indexedDB.open(r,n),y=$r(m);return o&&m.addEventListener("upgradeneeded",x=>{o($r(m.result),x.oldVersion,x.newVersion,$r(m.transaction),x)}),i&&m.addEventListener("blocked",x=>i(x.oldVersion,x.newVersion,x)),y.then(x=>{d&&x.addEventListener("close",()=>d()),c&&x.addEventListener("versionchange",w=>c(w.oldVersion,w.newVersion,w))}).catch(()=>{}),y}const $1=["get","getKey","getAll","getAllKeys","count"],V1=["put","add","delete","clear"],jd=new Map;function cp(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(jd.get(n))return jd.get(n);const i=n.replace(/FromIndex$/,""),o=n!==i,c=V1.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||$1.includes(i)))return;const d=async function(m,...y){const x=this.transaction(m,c?"readwrite":"readonly");let w=x.store;return o&&(w=w.index(y.shift())),(await Promise.all([w[i](...y),c&&x.done]))[0]};return jd.set(n,d),d}U1(r=>({...r,get:(n,i,o)=>cp(n,i)||r.get(n,i,o),has:(n,i)=>!!cp(n,i)||r.has(n,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(q1(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function q1(r){return r.getComponent()?.type==="VERSION"}const Vd="@firebase/app",up="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new lh("@firebase/app"),W1="@firebase/app-compat",G1="@firebase/analytics-compat",K1="@firebase/analytics",X1="@firebase/app-check-compat",J1="@firebase/app-check",Y1="@firebase/auth",Q1="@firebase/auth-compat",Z1="@firebase/database",ew="@firebase/data-connect",tw="@firebase/database-compat",nw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",iw="@firebase/installations-compat",aw="@firebase/messaging",ow="@firebase/messaging-compat",lw="@firebase/performance",cw="@firebase/performance-compat",uw="@firebase/remote-config",dw="@firebase/remote-config-compat",hw="@firebase/storage",mw="@firebase/storage-compat",fw="@firebase/firestore",pw="@firebase/ai",gw="@firebase/firestore-compat",xw="firebase",yw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",vw={[Vd]:"fire-core",[W1]:"fire-core-compat",[K1]:"fire-analytics",[G1]:"fire-analytics-compat",[J1]:"fire-app-check",[X1]:"fire-app-check-compat",[Y1]:"fire-auth",[Q1]:"fire-auth-compat",[Z1]:"fire-rtdb",[ew]:"fire-data-connect",[tw]:"fire-rtdb-compat",[nw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[iw]:"fire-iid-compat",[aw]:"fire-fcm",[ow]:"fire-fcm-compat",[lw]:"fire-perf",[cw]:"fire-perf-compat",[uw]:"fire-rc",[dw]:"fire-rc-compat",[hw]:"fire-gcs",[mw]:"fire-gcs-compat",[fw]:"fire-fst",[gw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,bw=new Map,qd=new Map;function dp(r,n){try{r.container.addComponent(n)}catch(i){Qs.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ri(r){const n=r.name;if(qd.has(n))return Qs.debug(`There were multiple attempts to register component ${n}.`),!1;qd.set(n,r);for(const i of So.values())dp(i,r);for(const i of bw.values())dp(i,r);return!0}function Mc(r,n){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(n)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Lo("app","Firebase",ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(n,i,o){this._isDeleted=!1,this._options={...n},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=yw;function qg(r,n={}){let i=r;typeof n!="object"&&(n={name:n});const o={name:Hd,automaticDataCollectionEnabled:!0,...n},c=o.name;if(typeof c!="string"||!c)throw Vr.create("bad-app-name",{appName:String(c)});if(i||(i=Fg()),!i)throw Vr.create("no-options");const d=So.get(c);if(d){if(Pi(i,d.options)&&Pi(o,d.config))return d;throw Vr.create("duplicate-app",{appName:c})}const m=new C1(c);for(const x of qd.values())m.addComponent(x);const y=new jw(i,o,m);return So.set(c,y),y}function uh(r=Hd){const n=So.get(r);if(!n&&r===Hd&&Fg())return qg();if(!n)throw Vr.create("no-app",{appName:r});return n}function hp(){return Array.from(So.values())}function vs(r,n,i){let o=vw[r]??r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=n.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${n}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Qs.warn(m.join(" "));return}Ri(new Hr(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebase-heartbeat-database",_w=1,Eo="firebase-heartbeat-store";let Nd=null;function Wg(){return Nd||(Nd=B1(Nw,_w,{upgrade:(r,n)=>{switch(n){case 0:try{r.createObjectStore(Eo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function kw(r){try{const i=(await Wg()).transaction(Eo),o=await i.objectStore(Eo).get(Gg(r));return await i.done,o}catch(n){if(n instanceof _s)Qs.warn(n.message);else{const i=Vr.create("idb-get",{originalErrorMessage:n?.message});Qs.warn(i.message)}}}async function mp(r,n){try{const o=(await Wg()).transaction(Eo,"readwrite");await o.objectStore(Eo).put(n,Gg(r)),await o.done}catch(i){if(i instanceof _s)Qs.warn(i.message);else{const o=Vr.create("idb-set",{originalErrorMessage:i?.message});Qs.warn(o.message)}}}function Gg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,Ew=30;class Cw{constructor(n){this.container=n,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Iw(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Ew){const c=Pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Qs.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fp(),{heartbeatsToSend:i,unsentEntries:o}=Tw(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Qs.warn(n),""}}}function fp(){return new Date().toISOString().substring(0,10)}function Tw(r,n=Sw){const i=[];let o=r.slice();for(const c of r){const d=i.find(m=>m.agent===c.agent);if(d){if(d.dates.push(c.date),pp(i)>n){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),pp(i)>n){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class Iw{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?x1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const o=await this.read();return mp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const o=await this.read();return mp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function pp(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function Pw(r){if(r.length===0)return-1;let n=0,i=r[0].date;for(let o=1;o<r.length;o++)r[o].date<i&&(i=r[o].date,n=o);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r){Ri(new Hr("platform-logger",n=>new H1(n),"PRIVATE")),Ri(new Hr("heartbeat",n=>new Cw(n),"PRIVATE")),vs(Vd,up,r),vs(Vd,up,"esm2020"),vs("fire-js","")}Rw("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="firebasestorage.googleapis.com",Xg="storageBucket",Aw=2*60*1e3,Dw=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends _s{constructor(n,i,o=0){super(_d(n),`Firebase Storage: ${i} (${_d(n)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return _d(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function _d(r){return"storage/"+r}function dh(){const r="An unknown error occurred, please check the error payload for server response.";return new ht(dt.UNKNOWN,r)}function Lw(r){return new ht(dt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Ow(r){return new ht(dt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mw(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(dt.UNAUTHENTICATED,r)}function Uw(){return new ht(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zw(r){return new ht(dt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Fw(){return new ht(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bw(){return new ht(dt.CANCELED,"User canceled the upload/download.")}function $w(r){return new ht(dt.INVALID_URL,"Invalid URL '"+r+"'.")}function Vw(r){return new ht(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Hw(){return new ht(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xg+"' property when initializing the app?")}function qw(){return new ht(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ww(){return new ht(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Gw(r){return new ht(dt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wd(r){return new ht(dt.INVALID_ARGUMENT,r)}function Jg(){return new ht(dt.APP_DELETED,"The Firebase app was deleted.")}function Kw(r){return new ht(dt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function go(r,n){return new ht(dt.INVALID_FORMAT,"String does not match format '"+r+"': "+n)}function fo(r){throw new ht(dt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(n,i){this.bucket=n,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,i){let o;try{o=mn.makeFromUrl(n,i)}catch{return new mn(n,"")}if(o.path==="")return o;throw Vw(n)}static makeFromUrl(n,i){let o=null;const c="([A-Za-z0-9.\\-_]+)";function d(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const m="(/(.*))?$",y=new RegExp("^gs://"+c+m,"i"),x={bucket:1,path:3};function w(V){V.path_=decodeURIComponent(V.path)}const N="v[A-Za-z0-9_]+",R=i.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",O=new RegExp(`^https?://${R}/${N}/b/${c}/o${E}`,"i"),B={bucket:1,path:3},C=i===Kg?"(?:storage.googleapis.com|storage.cloud.google.com)":i,T="([^?#]*)",M=new RegExp(`^https?://${C}/${c}/${T}`,"i"),q=[{regex:y,indices:x,postModify:d},{regex:O,indices:B,postModify:w},{regex:M,indices:{bucket:1,path:2},postModify:w}];for(let V=0;V<q.length;V++){const ee=q[V],te=ee.regex.exec(n);if(te){const A=te[ee.indices.bucket];let v=te[ee.indices.path];v||(v=""),o=new mn(A,v),ee.postModify(o);break}}if(o==null)throw $w(n);return o}}class Xw{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,n,i){let o=1,c=null,d=null,m=!1,y=0;function x(){return y===2}let w=!1;function N(...T){w||(w=!0,n.apply(null,T))}function R(T){c=setTimeout(()=>{c=null,r(O,x())},T)}function E(){d&&clearTimeout(d)}function O(T,...M){if(w){E();return}if(T){E(),N.call(null,T,...M);return}if(x()||m){E(),N.call(null,T,...M);return}o<64&&(o*=2);let q;y===1?(y=2,q=0):q=(o+Math.random())*1e3,R(q)}let B=!1;function C(T){B||(B=!0,E(),!w&&(c!==null?(T||(y=2),clearTimeout(c),R(0)):T||(y=1)))}return R(0),d=setTimeout(()=>{m=!0,C(!0)},i),C}function Yw(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){return r!==void 0}function Zw(r){return typeof r=="object"&&!Array.isArray(r)}function hh(r){return typeof r=="string"||r instanceof String}function gp(r){return mh()&&r instanceof Blob}function mh(){return typeof Blob<"u"}function xp(r,n,i,o){if(o<n)throw Wd(`Invalid value for '${r}'. Expected ${n} or greater.`);if(o>i)throw Wd(`Invalid value for '${r}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,n,i){let o=n;return i==null&&(o=`https://${n}`),`${i}://${o}/v0${r}`}function Yg(r){const n=encodeURIComponent;let i="?";for(const o in r)if(r.hasOwnProperty(o)){const c=n(o)+"="+n(r[o]);i=i+c+"&"}return i=i.slice(0,-1),i}var ki;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(r,n){const i=r>=500&&r<600,c=[408,429].indexOf(r)!==-1,d=n.indexOf(r)!==-1;return i||c||d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(n,i,o,c,d,m,y,x,w,N,R,E=!0,O=!1){this.url_=n,this.method_=i,this.headers_=o,this.body_=c,this.successCodes_=d,this.additionalRetryCodes_=m,this.callback_=y,this.errorCallback_=x,this.timeout_=w,this.progressCallback_=N,this.connectionFactory_=R,this.retry=E,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,C)=>{this.resolve_=B,this.reject_=C,this.start_()})}start_(){const n=(o,c)=>{if(c){o(!1,new tc(!1,null,!0));return}const d=this.connectionFactory_();this.pendingConnection_=d;const m=y=>{const x=y.loaded,w=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,w)};this.progressCallback_!==null&&d.addUploadProgressListener(m),d.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(m),this.pendingConnection_=null;const y=d.getErrorCode()===ki.NO_ERROR,x=d.getStatus();if(!y||ej(x,this.additionalRetryCodes_)&&this.retry){const N=d.getErrorCode()===ki.ABORT;o(!1,new tc(!1,null,N));return}const w=this.successCodes_.indexOf(x)!==-1;o(!0,new tc(w,d))})},i=(o,c)=>{const d=this.resolve_,m=this.reject_,y=c.connection;if(c.wasSuccessCode)try{const x=this.callback_(y,y.getResponse());Qw(x)?d(x):d()}catch(x){m(x)}else if(y!==null){const x=dh();x.serverResponse=y.getErrorText(),this.errorCallback_?m(this.errorCallback_(y,x)):m(x)}else if(c.canceled){const x=this.appDelete_?Jg():Bw();m(x)}else{const x=Fw();m(x)}};this.canceled_?i(!1,new tc(!1,null,!0)):this.backoffId_=Jw(n,i,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,this.backoffId_!==null&&Yw(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tc{constructor(n,i,o){this.wasSuccessCode=n,this.connection=i,this.canceled=!!o}}function nj(r,n){n!==null&&n.length>0&&(r.Authorization="Firebase "+n)}function sj(r,n){r["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}function rj(r,n){n&&(r["X-Firebase-GMPID"]=n)}function ij(r,n){n!==null&&(r["X-Firebase-AppCheck"]=n)}function aj(r,n,i,o,c,d,m=!0,y=!1){const x=Yg(r.urlParams),w=r.url+x,N=Object.assign({},r.headers);return rj(N,n),nj(N,i),sj(N,d),ij(N,o),new tj(w,r.method,N,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,c,m,y)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lj(...r){const n=oj();if(n!==void 0){const i=new n;for(let o=0;o<r.length;o++)i.append(r[o]);return i.getBlob()}else{if(mh())return new Blob(r);throw new ht(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cj(r,n,i){return r.webkitSlice?r.webkitSlice(n,i):r.mozSlice?r.mozSlice(n,i):r.slice?r.slice(n,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(r){if(typeof atob>"u")throw Gw("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kd{constructor(n,i){this.data=n,this.contentType=i||null}}function dj(r,n){switch(r){case xs.RAW:return new kd(Qg(n));case xs.BASE64:case xs.BASE64URL:return new kd(Zg(r,n));case xs.DATA_URL:return new kd(mj(n),fj(n))}throw dh()}function Qg(r){const n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);if(o<=127)n.push(o);else if(o<=2047)n.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(i<r.length-1&&(r.charCodeAt(i+1)&64512)===56320))n.push(239,191,189);else{const d=o,m=r.charCodeAt(++i);o=65536|(d&1023)<<10|m&1023,n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?n.push(239,191,189):n.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(n)}function hj(r){let n;try{n=decodeURIComponent(r)}catch{throw go(xs.DATA_URL,"Malformed data URL.")}return Qg(n)}function Zg(r,n){switch(r){case xs.BASE64:{const c=n.indexOf("-")!==-1,d=n.indexOf("_")!==-1;if(c||d)throw go(r,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const c=n.indexOf("+")!==-1,d=n.indexOf("/")!==-1;if(c||d)throw go(r,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=uj(n)}catch(c){throw c.message.includes("polyfill")?c:go(r,"Invalid character found")}const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o}class ex{constructor(n){this.base64=!1,this.contentType=null;const i=n.match(/^data:([^,]+)?,/);if(i===null)throw go(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=i[1]||null;o!=null&&(this.base64=pj(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=n.substring(n.indexOf(",")+1)}}function mj(r){const n=new ex(r);return n.base64?Zg(xs.BASE64,n.rest):hj(n.rest)}function fj(r){return new ex(r).contentType}function pj(r,n){return r.length>=n.length?r.substring(r.length-n.length)===n:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(n,i){let o=0,c="";gp(n)?(this.data_=n,o=n.size,c=n.type):n instanceof ArrayBuffer?(i?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),o=this.data_.length):n instanceof Uint8Array&&(i?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),o=n.length),this.size_=o,this.type_=c}size(){return this.size_}type(){return this.type_}slice(n,i){if(gp(this.data_)){const o=this.data_,c=cj(o,n,i);return c===null?null:new Lr(c)}else{const o=new Uint8Array(this.data_.buffer,n,i-n);return new Lr(o,!0)}}static getBlob(...n){if(mh()){const i=n.map(o=>o instanceof Lr?o.data_:o);return new Lr(lj.apply(null,i))}else{const i=n.map(m=>hh(m)?dj(xs.RAW,m).data:m.data_);let o=0;i.forEach(m=>{o+=m.byteLength});const c=new Uint8Array(o);let d=0;return i.forEach(m=>{for(let y=0;y<m.length;y++)c[d++]=m[y]}),new Lr(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){let n;try{n=JSON.parse(r)}catch{return null}return Zw(n)?n:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(r){if(r.length===0)return null;const n=r.lastIndexOf("/");return n===-1?"":r.slice(0,n)}function xj(r,n){const i=n.split("/").filter(o=>o.length>0).join("/");return r.length===0?i:r+"/"+i}function nx(r){const n=r.lastIndexOf("/",r.length-2);return n===-1?r:r.slice(n+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(r,n){return n}class zt{constructor(n,i,o,c){this.server=n,this.local=i||n,this.writable=!!o,this.xform=c||yj}}let nc=null;function vj(r){return!hh(r)||r.length<2?r:nx(r)}function sx(){if(nc)return nc;const r=[];r.push(new zt("bucket")),r.push(new zt("generation")),r.push(new zt("metageneration")),r.push(new zt("name","fullPath",!0));function n(d,m){return vj(m)}const i=new zt("name");i.xform=n,r.push(i);function o(d,m){return m!==void 0?Number(m):m}const c=new zt("size");return c.xform=o,r.push(c),r.push(new zt("timeCreated")),r.push(new zt("updated")),r.push(new zt("md5Hash",null,!0)),r.push(new zt("cacheControl",null,!0)),r.push(new zt("contentDisposition",null,!0)),r.push(new zt("contentEncoding",null,!0)),r.push(new zt("contentLanguage",null,!0)),r.push(new zt("contentType",null,!0)),r.push(new zt("metadata","customMetadata",!0)),nc=r,nc}function bj(r,n){function i(){const o=r.bucket,c=r.fullPath,d=new mn(o,c);return n._makeStorageReference(d)}Object.defineProperty(r,"ref",{get:i})}function wj(r,n,i){const o={};o.type="file";const c=i.length;for(let d=0;d<c;d++){const m=i[d];o[m.local]=m.xform(o,n[m.server])}return bj(o,r),o}function rx(r,n,i){const o=tx(n);return o===null?null:wj(r,o,i)}function jj(r,n,i,o){const c=tx(n);if(c===null||!hh(c.downloadTokens))return null;const d=c.downloadTokens;if(d.length===0)return null;const m=encodeURIComponent;return d.split(",").map(w=>{const N=r.bucket,R=r.fullPath,E="/b/"+m(N)+"/o/"+m(R),O=fh(E,i,o),B=Yg({alt:"media",token:w});return O+B})[0]}function Nj(r,n){const i={},o=n.length;for(let c=0;c<o;c++){const d=n[c];d.writable&&(i[d.server]=r[d.local])}return JSON.stringify(i)}class ix{constructor(n,i,o,c){this.url=n,this.method=i,this.handler=o,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){if(!r)throw dh()}function _j(r,n){function i(o,c){const d=rx(r,c,n);return ax(d!==null),d}return i}function kj(r,n){function i(o,c){const d=rx(r,c,n);return ax(d!==null),jj(d,c,r.host,r._protocol)}return i}function ox(r){function n(i,o){let c;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?c=Uw():c=Mw():i.getStatus()===402?c=Ow(r.bucket):i.getStatus()===403?c=zw(r.path):c=o,c.status=i.getStatus(),c.serverResponse=o.serverResponse,c}return n}function Sj(r){const n=ox(r);function i(o,c){let d=n(o,c);return o.getStatus()===404&&(d=Lw(r.path)),d.serverResponse=c.serverResponse,d}return i}function Ej(r,n,i){const o=n.fullServerUrl(),c=fh(o,r.host,r._protocol),d="GET",m=r.maxOperationRetryTime,y=new ix(c,d,kj(r,i),m);return y.errorHandler=Sj(n),y}function Cj(r,n){return r&&r.contentType||n&&n.type()||"application/octet-stream"}function Tj(r,n,i){const o=Object.assign({},i);return o.fullPath=r.path,o.size=n.size(),o.contentType||(o.contentType=Cj(null,n)),o}function Ij(r,n,i,o,c){const d=n.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"};function y(){let q="";for(let V=0;V<2;V++)q=q+Math.random().toString().slice(2);return q}const x=y();m["Content-Type"]="multipart/related; boundary="+x;const w=Tj(n,o,c),N=Nj(w,i),R="--"+x+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+N+`\r
--`+x+`\r
Content-Type: `+w.contentType+`\r
\r
`,E=`\r
--`+x+"--",O=Lr.getBlob(R,o,E);if(O===null)throw qw();const B={name:w.fullPath},C=fh(d,r.host,r._protocol),T="POST",M=r.maxUploadRetryTime,F=new ix(C,T,_j(r,i),M);return F.urlParams=B,F.headers=m,F.body=O.uploadData(),F.errorHandler=ox(n),F}class Pj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,i,o,c,d){if(this.sent_)throw fo("cannot .send() more than once");if(Oi(n)&&o&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,n,!0),d!==void 0)for(const m in d)d.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,d[m].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",n)}}class Rj extends Pj{initXhr(){this.xhr_.responseType="text"}}function lx(){return new Rj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(n,i){this._service=n,i instanceof mn?this._location=i:this._location=mn.makeFromUrl(i,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,i){return new Ai(n,i)}get root(){const n=new mn(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nx(this._location.path)}get storage(){return this._service}get parent(){const n=gj(this._location.path);if(n===null)return null;const i=new mn(this._location.bucket,n);return new Ai(this._service,i)}_throwIfRoot(n){if(this._location.path==="")throw Kw(n)}}function Aj(r,n,i){r._throwIfRoot("uploadBytes");const o=Ij(r.storage,r._location,sx(),new Lr(n,!0),i);return r.storage.makeRequestWithTokens(o,lx).then(c=>({metadata:c,ref:r}))}function Dj(r){r._throwIfRoot("getDownloadURL");const n=Ej(r.storage,r._location,sx());return r.storage.makeRequestWithTokens(n,lx).then(i=>{if(i===null)throw Ww();return i})}function Lj(r,n){const i=xj(r._location.path,n),o=new mn(r._location.bucket,i);return new Ai(r.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(r){return/^[A-Za-z]+:\/\//.test(r)}function Mj(r,n){return new Ai(r,n)}function cx(r,n){if(r instanceof ph){const i=r;if(i._bucket==null)throw Hw();const o=new Ai(i,i._bucket);return n!=null?cx(o,n):o}else return n!==void 0?Lj(r,n):r}function Uj(r,n){if(n&&Oj(n)){if(r instanceof ph)return Mj(r,n);throw Wd("To use ref(service, url), the first argument must be a Storage instance.")}else return cx(r,n)}function yp(r,n){const i=n?.[Xg];return i==null?null:mn.makeFromBucketSpec(i,r)}function zj(r,n,i,o={}){r.host=`${n}:${i}`;const c=Oi(n);c&&(ah(`https://${r.host}/b`),oh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=c?"https":"http";const{mockUserToken:d}=o;d&&(r._overrideAuthToken=typeof d=="string"?d:$g(d,r.app.options.projectId))}class ph{constructor(n,i,o,c,d,m=!1){this.app=n,this._authProvider=i,this._appCheckProvider=o,this._url=c,this._firebaseVersion=d,this._isUsingEmulator=m,this._bucket=null,this._host=Kg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Aw,this._maxUploadRetryTime=Dw,this._requests=new Set,c!=null?this._bucket=mn.makeFromBucketSpec(c,this._host):this._bucket=yp(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,n):this._bucket=yp(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){xp("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){xp("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const n=this._authProvider.getImmediate({optional:!0});if(n){const i=await n.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=this._appCheckProvider.getImmediate({optional:!0});return n?(await n.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Ai(this,n)}_makeRequest(n,i,o,c,d=!0){if(this._deleted)return new Xw(Jg());{const m=aj(n,this._appId,o,c,i,this._firebaseVersion,d,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(n,i){const[o,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(n,i,o,c).getPromise()}}const vp="@firebase/storage",bp="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="storage";function dx(r,n,i){return r=ks(r),Aj(r,n,i)}function hx(r){return r=ks(r),Dj(r)}function mx(r,n){return r=ks(r),Uj(r,n)}function Fj(r=uh(),n){r=ks(r);const o=Mc(r,ux).getImmediate({identifier:n}),c=zg("storage");return c&&Bj(o,...c),o}function Bj(r,n,i,o={}){zj(r,n,i,o)}function $j(r,{instanceIdentifier:n}){const i=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),c=r.getProvider("app-check-internal");return new ph(i,o,c,n,Mi)}function Vj(){Ri(new Hr(ux,$j,"PUBLIC").setMultipleInstances(!0)),vs(vp,bp,""),vs(vp,bp,"esm2020")}Vj();var Hj="firebase",qj="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Hj,qj,"app");function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wj=fx,px=new Lo("auth","Firebase",fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new lh("@firebase/auth");function Gj(r,...n){bc.logLevel<=Ge.WARN&&bc.warn(`Auth (${Mi}): ${r}`,...n)}function lc(r,...n){bc.logLevel<=Ge.ERROR&&bc.error(`Auth (${Mi}): ${r}`,...n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(r,...n){throw gh(r,...n)}function bs(r,...n){return gh(r,...n)}function gx(r,n,i){const o={...Wj(),[n]:i};return new Lo("auth","Firebase",o).create(n,{appName:r.name})}function Si(r){return gx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gh(r,...n){if(typeof r!="string"){const i=n[0],o=[...n.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(i,...o)}return px.create(r,...n)}function Te(r,n,...i){if(!r)throw gh(n,...i)}function qs(r){const n="INTERNAL ASSERTION FAILED: "+r;throw lc(n),new Error(n)}function er(r,n){r||qs(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof self<"u"&&self.location?.href||""}function Kj(){return wp()==="http:"||wp()==="https:"}function wp(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kj()||m1()||"connection"in navigator)?navigator.onLine:!0}function Jj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(n,i){this.shortDelay=n,this.longDelay=i,er(i>n,"Short delay should be less than long delay!"),this.isMobile=d1()||f1()}get(){return Xj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r,n){er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return n?`${i}${n.startsWith("/")?n.slice(1):n}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{static initialize(n,i,o){this.fetchImpl=n,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zj=new Mo(3e4,6e4);function yh(r,n){return r.tenantId&&!n.tenantId?{...n,tenantId:r.tenantId}:n}async function Pa(r,n,i,o,c={}){return yx(r,c,async()=>{let d={},m={};o&&(n==="GET"?m=o:d={body:JSON.stringify(o)});const y=Oo({key:r.config.apiKey,...m}).slice(1),x=await r._getAdditionalHeaders();x["Content-Type"]="application/json",r.languageCode&&(x["X-Firebase-Locale"]=r.languageCode);const w={method:n,headers:x,...d};return h1()||(w.referrerPolicy="no-referrer"),r.emulatorConfig&&Oi(r.emulatorConfig.host)&&(w.credentials="include"),xx.fetch()(await vx(r,r.config.apiHost,i,y),w)})}async function yx(r,n,i){r._canInitEmulator=!1;const o={...Yj,...n};try{const c=new t2(r),d=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const m=await d.json();if("needConfirmation"in m)throw sc(r,"account-exists-with-different-credential",m);if(d.ok&&!("errorMessage"in m))return m;{const y=d.ok?m.errorMessage:m.error.message,[x,w]=y.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(r,"credential-already-in-use",m);if(x==="EMAIL_EXISTS")throw sc(r,"email-already-in-use",m);if(x==="USER_DISABLED")throw sc(r,"user-disabled",m);const N=o[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw gx(r,N,w);Zs(r,N)}}catch(c){if(c instanceof _s)throw c;Zs(r,"network-request-failed",{message:String(c)})}}async function e2(r,n,i,o,c={}){const d=await Pa(r,n,i,o,c);return"mfaPendingCredential"in d&&Zs(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function vx(r,n,i,o){const c=`${n}${i}?${o}`,d=r,m=d.config.emulator?xh(r.config,c):`${r.config.apiScheme}://${c}`;return Qj.includes(i)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(m).toString():m}class t2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(bs(this.auth,"network-request-failed")),Zj.get())})}}function sc(r,n,i){const o={appName:r.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=bs(r,n,o);return c.customData._tokenResponse=i,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,n){return Pa(r,"POST","/v1/accounts:delete",n)}async function wc(r,n){return Pa(r,"POST","/v1/accounts:lookup",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){if(r)try{const n=new Date(Number(r));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}async function s2(r,n=!1){const i=ks(r),o=await i.getIdToken(n),c=vh(o);Te(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,m=d?.sign_in_provider;return{claims:c,token:o,authTime:xo(Sd(c.auth_time)),issuedAtTime:xo(Sd(c.iat)),expirationTime:xo(Sd(c.exp)),signInProvider:m||null,signInSecondFactor:d?.sign_in_second_factor||null}}function Sd(r){return Number(r)*1e3}function vh(r){const[n,i,o]=r.split(".");if(n===void 0||i===void 0||o===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const c=Mg(i);return c?JSON.parse(c):(lc("Failed to decode base64 JWT payload"),null)}catch(c){return lc("Caught error parsing JWT payload as JSON",c?.toString()),null}}function jp(r){const n=vh(r);return Te(n,"internal-error"),Te(typeof n.exp<"u","internal-error"),Te(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r,n,i=!1){if(i)return n;try{return await n}catch(o){throw o instanceof _s&&r2(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function r2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){if(n){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(n=!1){if(!this.isRunning)return;const i=this.getInterval(n);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(n){n?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(n,i){this.createdAt=n,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(r){const n=r.auth,i=await r.getIdToken(),o=await Co(r,wc(n,{idToken:i}));Te(o?.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=c.providerUserInfo?.length?bx(c.providerUserInfo):[],m=o2(r.providerData,d),y=r.isAnonymous,x=!(r.email&&c.passwordHash)&&!m?.length,w=y?x:!1,N={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:w};Object.assign(r,N)}async function a2(r){const n=ks(r);await jc(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function o2(r,n){return[...r.filter(o=>!n.some(c=>c.providerId===o.providerId)),...n]}function bx(r){return r.map(({providerId:n,...i})=>({providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,n){const i=await yx(r,{},async()=>{const o=Oo({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:c,apiKey:d}=r.config,m=await vx(r,c,"/v1/token",`key=${d}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const x={method:"POST",headers:y,body:o};return r.emulatorConfig&&Oi(r.emulatorConfig.host)&&(x.credentials="include"),xx.fetch()(m,x)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function c2(r,n){return Pa(r,"POST","/v2/accounts:revokeToken",yh(r,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){Te(n.idToken,"internal-error"),Te(typeof n.idToken<"u","internal-error"),Te(typeof n.refreshToken<"u","internal-error");const i="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):jp(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,i)}updateFromIdToken(n){Te(n.length!==0,"internal-error");const i=jp(n);this.updateTokensAndExpiration(n,null,i)}async getToken(n,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,n,"user-token-expired"),this.refreshToken?(await this.refresh(n,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(n,i){const{accessToken:o,refreshToken:c,expiresIn:d}=await l2(n,i);this.updateTokensAndExpiration(o,c,Number(d))}updateTokensAndExpiration(n,i,o){this.refreshToken=i||null,this.accessToken=n||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(n,i){const{refreshToken:o,accessToken:c,expirationTime:d}=i,m=new va;return o&&(Te(typeof o=="string","internal-error",{appName:n}),m.refreshToken=o),c&&(Te(typeof c=="string","internal-error",{appName:n}),m.accessToken=c),d&&(Te(typeof d=="number","internal-error",{appName:n}),m.expirationTime=d),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,n){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:n})}class Xn{constructor({uid:n,auth:i,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new i2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(n){const i=await Co(this,this.stsTokenManager.getToken(this.auth,n));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(n){return s2(this,n)}reload(){return a2(this)}_assign(n){this!==n&&(Te(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(i=>({...i})),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){const i=new Xn({...this,auth:n,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(n){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(n,i=!1){let o=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),o=!0),i&&await jc(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Si(this.auth));const n=await this.getIdToken();return await Co(this,n2(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>({...n})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,i){const o=i.displayName??void 0,c=i.email??void 0,d=i.phoneNumber??void 0,m=i.photoURL??void 0,y=i.tenantId??void 0,x=i._redirectEventId??void 0,w=i.createdAt??void 0,N=i.lastLoginAt??void 0,{uid:R,emailVerified:E,isAnonymous:O,providerData:B,stsTokenManager:C}=i;Te(R&&C,n,"internal-error");const T=va.fromJSON(this.name,C);Te(typeof R=="string",n,"internal-error"),Dr(o,n.name),Dr(c,n.name),Te(typeof E=="boolean",n,"internal-error"),Te(typeof O=="boolean",n,"internal-error"),Dr(d,n.name),Dr(m,n.name),Dr(y,n.name),Dr(x,n.name),Dr(w,n.name),Dr(N,n.name);const M=new Xn({uid:R,auth:n,email:c,emailVerified:E,displayName:o,isAnonymous:O,photoURL:m,phoneNumber:d,tenantId:y,stsTokenManager:T,createdAt:w,lastLoginAt:N});return B&&Array.isArray(B)&&(M.providerData=B.map(F=>({...F}))),x&&(M._redirectEventId=x),M}static async _fromIdTokenResponse(n,i,o=!1){const c=new va;c.updateFromServerResponse(i);const d=new Xn({uid:i.localId,auth:n,stsTokenManager:c,isAnonymous:o});return await jc(d),d}static async _fromGetAccountInfoResponse(n,i,o){const c=i.users[0];Te(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?bx(c.providerUserInfo):[],m=!(c.email&&c.passwordHash)&&!d?.length,y=new va;y.updateFromIdToken(o);const x=new Xn({uid:c.localId,auth:n,stsTokenManager:y,isAnonymous:m}),w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(x,w),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Map;function Ws(r){er(r instanceof Function,"Expected a class definition");let n=Np.get(r);return n?(er(n instanceof r,"Instance stored in cache mismatched with class"),n):(n=new r,Np.set(r,n),n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,i){this.storage[n]=i}async _get(n){const i=this.storage[n];return i===void 0?null:i}async _remove(n){delete this.storage[n]}_addListener(n,i){}_removeListener(n,i){}}wx.type="NONE";const _p=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(r,n,i){return`firebase:${r}:${n}:${i}`}class ba{constructor(n,i,o){this.persistence=n,this.auth=i,this.userKey=o;const{config:c,name:d}=this.auth;this.fullUserKey=cc(this.userKey,c.apiKey,d),this.fullPersistenceKey=cc("persistence",c.apiKey,d),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}async getCurrentUser(){const n=await this.persistence._get(this.fullUserKey);if(!n)return null;if(typeof n=="string"){const i=await wc(this.auth,{idToken:n}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,n):null}return Xn._fromJSON(this.auth,n)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(n){if(this.persistence===n)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=n,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(n,i,o="authUser"){if(!i.length)return new ba(Ws(_p),n,o);const c=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let d=c[0]||Ws(_p);const m=cc(o,n.config.apiKey,n.name);let y=null;for(const w of i)try{const N=await w._get(m);if(N){let R;if(typeof N=="string"){const E=await wc(n,{idToken:N}).catch(()=>{});if(!E)break;R=await Xn._fromGetAccountInfoResponse(n,E,N)}else R=Xn._fromJSON(n,N);w!==d&&(y=R),d=w;break}}catch{}const x=c.filter(w=>w._shouldAllowMigration);return!d._shouldAllowMigration||!x.length?new ba(d,n,o):(d=x[0],y&&await d._set(m,y.toJSON()),await Promise.all(i.map(async w=>{if(w!==d)try{await w._remove(m)}catch{}})),new ba(d,n,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r){const n=r.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(kx(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(jx(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(Ex(n))return"Blackberry";if(Cx(n))return"Webos";if(Nx(n))return"Safari";if((n.includes("chrome/")||_x(n))&&!n.includes("edge/"))return"Chrome";if(Sx(n))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(i);if(o?.length===2)return o[1]}return"Other"}function jx(r=Vt()){return/firefox\//i.test(r)}function Nx(r=Vt()){const n=r.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function _x(r=Vt()){return/crios\//i.test(r)}function kx(r=Vt()){return/iemobile/i.test(r)}function Sx(r=Vt()){return/android/i.test(r)}function Ex(r=Vt()){return/blackberry/i.test(r)}function Cx(r=Vt()){return/webos/i.test(r)}function bh(r=Vt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function u2(r=Vt()){return bh(r)&&!!window.navigator?.standalone}function d2(){return p1()&&document.documentMode===10}function Tx(r=Vt()){return bh(r)||Sx(r)||Cx(r)||Ex(r)||/windows phone/i.test(r)||kx(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r,n=[]){let i;switch(r){case"Browser":i=kp(Vt());break;case"Worker":i=`${kp(Vt())}-${r}`;break;default:i=r}const o=n.length?n.join(","):"FirebaseCore-web";return`${i}/JsCore/${Mi}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,i){const o=d=>new Promise((m,y)=>{try{const x=n(d);m(x)}catch(x){y(x)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(n){if(this.auth.currentUser===n)return;const i=[];try{for(const o of this.queue)await o(n),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,n={}){return Pa(r,"GET","/v2/passwordPolicy",yh(r,n))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=6;class p2{constructor(n){const i=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??f2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=n.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=n.forceUpgradeOnSignin??!1,this.schemaVersion=n.schemaVersion}validatePassword(n){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,i),this.validatePasswordCharacterOptions(n,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(n,i){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=n.length>=o),c&&(i.meetsMaxPasswordLength=n.length<=c)}validatePasswordCharacterOptions(n,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let c=0;c<n.length;c++)o=n.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(n,i,o,c,d){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(n,i,o,c){this.app=n,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sp(this),this.idTokenSubscription=new Sp(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(n,i){return i&&(this._popupRedirectResolver=Ws(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ba.create(this,n),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const n=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),await this.currentUser.getIdToken();return}await this._updateCurrentUser(n,!0)}}async initializeCurrentUserFromIdToken(n){try{const i=await wc(this,{idToken:n}),o=await Xn._fromGetAccountInfoResponse(this,i,n);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(n){if(Kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(n&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,m=o?._redirectEventId,y=await this.tryRedirectSignIn(n);(!d||d===m)&&y?.user&&(o=y.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(n){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(n){try{await jc(n)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)}useDeviceLanguage(){this.languageCode=Jj()}async _delete(){this._deleted=!0}async updateCurrentUser(n){if(Kn(this.app))return Promise.reject(Si(this));const i=n?ks(n):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(n,i=!1){if(!this._deleted)return n&&Te(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(n),this.queue(async()=>{await this.directlySetCurrentUser(n),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(n){return Kn(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(n))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(n){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(n)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const n=await m2(this),i=new p2(n);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(n){this._errorFactory=new Lo("auth","Firebase",n())}onAuthStateChanged(n,i,o){return this.registerStateListener(this.authStateSubscription,n,i,o)}beforeAuthStateChanged(n,i){return this.beforeStateQueue.pushCallback(n,i)}onIdTokenChanged(n,i,o){return this.registerStateListener(this.idTokenSubscription,n,i,o)}authStateReady(){return new Promise((n,i)=>{if(this.currentUser)n();else{const o=this.onAuthStateChanged(()=>{o(),n()},i)}})}async revokeAccessToken(n){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:n,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await c2(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(n,i){const o=await this.getOrInitRedirectPersistenceManager(i);return n===null?o.removeCurrentUser():o.setCurrentUser(n)}async getOrInitRedirectPersistenceManager(n){if(!this.redirectPersistenceManager){const i=n&&Ws(n)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[Ws(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(n){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===n?this._currentUser:this.redirectUser?._redirectEventId===n?this.redirectUser:null}async _persistUserIfCurrent(n){if(n===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(n))}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=this.currentUser?.uid??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,i,o,c){if(this._deleted)return()=>{};const d=typeof i=="function"?i:i.next.bind(i);let m=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{m||d(this.currentUser)}),typeof i=="function"){const x=n.addObserver(i,o,c);return()=>{m=!0,x()}}else{const x=n.addObserver(i);return()=>{m=!0,x()}}}async directlySetCurrentUser(n){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?await this.assertedPersistence.setCurrentUser(n):await this.assertedPersistence.removeCurrentUser()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=Ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return n?.error&&Gj(`Error while retrieving App Check token: ${n.error}`),n?.token}}function wh(r){return ks(r)}class Sp{constructor(n){this.auth=n,this.observer=null,this.addObserver=j1(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x2(r){jh=r}function y2(r){return jh.loadJS(r)}function v2(){return jh.gapiScript}function b2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,n){const i=Mc(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),d=i.getOptions();if(Pi(d,n??{}))return c;Zs(c,"already-initialized")}return i.initialize({options:n})}function j2(r,n){const i=n?.persistence||[],o=(Array.isArray(i)?i:[i]).map(Ws);n?.errorMap&&r._updateErrorMap(n.errorMap),r._initializeWithPersistence(o,n?.popupRedirectResolver)}function N2(r,n,i){const o=wh(r);Te(/^https?:\/\//.test(n),o,"invalid-emulator-scheme");const c=!1,d=Px(n),{host:m,port:y}=_2(n),x=y===null?"":`:${y}`,w={url:`${d}//${m}${x}/`},N=Object.freeze({host:m,port:y,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){Te(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Te(Pi(w,o.config.emulator)&&Pi(N,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=N,o.settings.appVerificationDisabledForTesting=!0,Oi(m)?(ah(`${d}//${m}${x}`),oh("Auth",!0)):k2()}function Px(r){const n=r.indexOf(":");return n<0?"":r.substr(0,n+1)}function _2(r){const n=Px(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(n.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const d=c[1];return{host:d,port:Ep(o.substr(d.length+1))}}else{const[d,m]=o.split(":");return{host:d,port:Ep(m)}}}function Ep(r){if(!r)return null;const n=Number(r);return isNaN(n)?null:n}function k2(){function r(){const n=document.createElement("p"),i=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(n,i){this.providerId=n,this.signInMethod=i}toJSON(){return qs("not implemented")}_getIdTokenResponse(n){return qs("not implemented")}_linkToIdToken(n,i){return qs("not implemented")}_getReauthenticationResolver(n){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(r,n){return e2(r,"POST","/v1/accounts:signInWithIdp",yh(r,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="http://localhost";class Di extends Rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(n){const i=new Di(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(i.idToken=n.idToken),n.accessToken&&(i.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(i.nonce=n.nonce),n.pendingToken&&(i.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(i.accessToken=n.oauthToken,i.secret=n.oauthTokenSecret):Zs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(n){const i=typeof n=="string"?JSON.parse(n):n,{providerId:o,signInMethod:c,...d}=i;if(!o||!c)return null;const m=new Di(o,c);return m.idToken=d.idToken||void 0,m.accessToken=d.accessToken||void 0,m.secret=d.secret,m.nonce=d.nonce,m.pendingToken=d.pendingToken||null,m}_getIdTokenResponse(n){const i=this.buildRequest();return wa(n,i)}_linkToIdToken(n,i){const o=this.buildRequest();return o.idToken=i,wa(n,o)}_getReauthenticationResolver(n){const i=this.buildRequest();return i.autoCreate=!1,wa(n,i)}buildRequest(){const n={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),n.postBody=Oo(i)}return n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Ax{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Uo{constructor(){super("facebook.com")}static credential(n){return Di._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return Or.credentialFromTaggedObject(n)}static credentialFromError(n){return Or.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return Or.credential(n.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Di._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return Mr.credentialFromTaggedObject(n)}static credentialFromError(n){return Mr.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:i,oauthAccessToken:o}=n;if(!i&&!o)return null;try{return Mr.credential(i,o)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Uo{constructor(){super("github.com")}static credential(n){return Di._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return Ur.credentialFromTaggedObject(n)}static credentialFromError(n){return Ur.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return Ur.credential(n.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Uo{constructor(){super("twitter.com")}static credential(n,i){return Di._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return zr.credentialFromTaggedObject(n)}static credentialFromError(n){return zr.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=n;if(!i||!o)return null;try{return zr.credential(i,o)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static async _fromIdTokenResponse(n,i,o,c=!1){const d=await Xn._fromIdTokenResponse(n,o,c),m=Cp(o);return new Sa({user:d,providerId:m,_tokenResponse:o,operationType:i})}static async _forOperation(n,i,o){await n._updateTokensIfNecessary(o,!0);const c=Cp(o);return new Sa({user:n,providerId:c,_tokenResponse:o,operationType:i})}}function Cp(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends _s{constructor(n,i,o,c){super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:n.name,tenantId:n.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(n,i,o,c){return new Nc(n,i,o,c)}}function Dx(r,n,i,o){return(n==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(r,d,n,o):d})}async function E2(r,n,i=!1){const o=await Co(r,n._linkToIdToken(r.auth,await r.getIdToken()),i);return Sa._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,n,i=!1){const{auth:o}=r;if(Kn(o.app))return Promise.reject(Si(o));const c="reauthenticate";try{const d=await Co(r,Dx(o,c,n,r),i);Te(d.idToken,o,"internal-error");const m=vh(d.idToken);Te(m,o,"internal-error");const{sub:y}=m;return Te(r.uid===y,o,"user-mismatch"),Sa._forOperation(r,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&Zs(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,n,i=!1){if(Kn(r.app))return Promise.reject(Si(r));const o="signIn",c=await Dx(r,o,n),d=await Sa._fromIdTokenResponse(r,o,c);return i||await r._updateCurrentUser(d.user),d}function I2(r,n,i,o){return ks(r).onIdTokenChanged(n,i,o)}function P2(r,n,i){return ks(r).beforeAuthStateChanged(n,i)}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(n,i){this.storageRetriever=n,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,i){return this.storage.setItem(n,JSON.stringify(i)),Promise.resolve()}_get(n){const i=this.storage.getItem(n);return Promise.resolve(i?JSON.parse(i):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1e3,A2=10;class Ox extends Lx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&n(i,c,o)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((m,y,x)=>{this.notifyListeners(m,x)});return}const o=n.key;i?this.detachListener():this.stopPolling();const c=()=>{const m=this.storage.getItem(o);!i&&this.localCache[o]===m||this.notifyListeners(o,m)},d=this.storage.getItem(o);d2()&&d!==n.newValue&&n.newValue!==n.oldValue?setTimeout(c,A2):c()}notifyListeners(n,i){this.localCache[n]=i;const o=this.listeners[n];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:o}),!0)})},R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,i){await super._set(n,i),this.localCache[n]=JSON.stringify(i)}async _get(n){const i=await super._get(n);return this.localCache[n]=JSON.stringify(i),i}async _remove(n){await super._remove(n),delete this.localCache[n]}}Ox.type="LOCAL";const D2=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends Lx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}Mx.type="SESSION";const Ux=Mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r){return Promise.all(r.map(async n=>{try{return{fulfilled:!0,value:await n}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const i=this.receivers.find(c=>c.isListeningto(n));if(i)return i;const o=new Uc(n);return this.receivers.push(o),o}isListeningto(n){return this.eventTarget===n}async handleEvent(n){const i=n,{eventId:o,eventType:c,data:d}=i.data,m=this.handlersMap[c];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const y=Array.from(m).map(async w=>w(i.origin,d)),x=await L2(y);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:x})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(r="",n=10){let i="";for(let o=0;o<n;o++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}async _send(n,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,m;return new Promise((y,x)=>{const w=Nh("",20);c.port1.start();const N=setTimeout(()=>{x(new Error("unsupported_event"))},o);m={messageChannel:c,onMessage(R){const E=R;if(E.data.eventId===w)switch(E.data.status){case"ack":clearTimeout(N),d=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),y(E.data.response);break;default:clearTimeout(N),clearTimeout(d),x(new Error("invalid_response"));break}}},this.handlers.add(m),c.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:n,eventId:w,data:i},[c.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return window}function M2(r){ws().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function U2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z2(){return navigator?.serviceWorker?.controller||null}function F2(){return zx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebaseLocalStorageDb",B2=1,kc="firebaseLocalStorage",Bx="fbase_key";class zo{constructor(n){this.request=n}toPromise(){return new Promise((n,i)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zc(r,n){return r.transaction([kc],n?"readwrite":"readonly").objectStore(kc)}function $2(){const r=indexedDB.deleteDatabase(Fx);return new zo(r).toPromise()}function Xd(){const r=indexedDB.open(Fx,B2);return new Promise((n,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(kc,{keyPath:Bx})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(kc)?n(o):(o.close(),await $2(),n(await Xd()))})})}async function Tp(r,n,i){const o=zc(r,!0).put({[Bx]:n,value:i});return new zo(o).toPromise()}async function V2(r,n){const i=zc(r,!1).get(n),o=await new zo(i).toPromise();return o===void 0?null:o.value}function Ip(r,n){const i=zc(r,!0).delete(n);return new zo(i).toPromise()}const H2=800,q2=3;class $x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(n){let i=0;for(;;)try{const o=await this._openDb();return await n(o)}catch(o){if(i++>q2)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(F2()),this.receiver._subscribe("keyChanged",async(n,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(n,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const n=await Xd();return await Tp(n,_c,"1"),await Ip(n,_c),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>Tp(o,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)))}async _get(n){const i=await this._withRetries(o=>V2(o,n));return this.localCache[n]=i,i}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ip(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){const n=await this._withRetries(c=>{const d=zc(c,!1).getAll();return new zo(d).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(n.length!==0)for(const{fbase_key:c,value:d}of n)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(n,i){this.localCache[n]=i;const o=this.listeners[n];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$x.type="LOCAL";const W2=$x;new Mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,n){return n?Ws(n):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Rx{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return wa(n,this._buildIdpRequest())}_linkToIdToken(n,i){return wa(n,this._buildIdpRequest(i))}_getReauthenticationResolver(n){return wa(n,this._buildIdpRequest())}_buildIdpRequest(n){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(i.idToken=n),i}}function K2(r){return T2(r.auth,new _h(r),r.bypassAuthState)}function X2(r){const{auth:n,user:i}=r;return Te(i,n,"internal-error"),C2(i,new _h(r),r.bypassAuthState)}async function J2(r){const{auth:n,user:i}=r;return Te(i,n,"internal-error"),E2(i,new _h(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(n,i,o,c,d=!1){this.auth=n,this.resolver=o,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(n,i)=>{this.pendingPromise={resolve:n,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(n){const{urlResponse:i,sessionId:o,postBody:c,tenantId:d,error:m,type:y}=n;if(m){this.reject(m);return}const x={auth:this.auth,requestUri:i,sessionId:o,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(x))}catch(w){this.reject(w)}}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:Zs(this.auth,"internal-error")}}resolve(n){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Mo(2e3,1e4);class xa extends Vx{constructor(n,i,o,c,d){super(n,i,c,d),this.provider=o,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const n=await this.execute();return Te(n,this.auth,"internal-error"),n}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const n=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const n=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Y2.get())};n()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="pendingRedirect",uc=new Map;class Z2 extends Vx{constructor(n,i,o=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let n=uc.get(this.auth._key());if(!n){try{const o=await eN(this.resolver,this.auth)?await super.execute():null;n=()=>Promise.resolve(o)}catch(i){n=()=>Promise.reject(i)}uc.set(this.auth._key(),n)}return this.bypassAuthState||uc.set(this.auth._key(),()=>Promise.resolve(null)),n()}async onAuthEvent(n){if(n.type==="signInViaRedirect")return super.onAuthEvent(n);if(n.type==="unknown"){this.resolve(null);return}if(n.eventId){const i=await this.auth._redirectUserForId(n.eventId);if(i)return this.user=i,super.onAuthEvent(n);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(r,n){const i=sN(n),o=nN(r);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function tN(r,n){uc.set(r._key(),n)}function nN(r){return Ws(r._redirectPersistence)}function sN(r){return cc(Q2,r.config.apiKey,r.name)}async function rN(r,n,i=!1){if(Kn(r.app))return Promise.reject(Si(r));const o=wh(r),c=G2(o,n),m=await new Z2(o,c,i).execute();return m&&!i&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,n)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=10*60*1e3;class aN{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(n,o)&&(i=!0,this.sendToConsumer(n,o),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!oN(n)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=n,i=!0)),i}sendToConsumer(n,i){if(n.error&&!Hx(n)){const o=n.error.code?.split("auth/")[1]||"internal-error";i.onError(bs(this.auth,o))}else i.onAuthEvent(n)}isEventForConsumer(n,i){const o=i.eventId===null||!!n.eventId&&n.eventId===i.eventId;return i.filter.includes(n.type)&&o}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pp(n))}saveEventToCache(n){this.cachedEventUids.add(Pp(n)),this.lastProcessedEventTime=Date.now()}}function Pp(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(n=>n).join("-")}function Hx({type:r,error:n}){return r==="unknown"&&n?.code==="auth/no-auth-event"}function oN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r,n={}){return Pa(r,"GET","/v1/projects",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uN=/^https?/;async function dN(r){if(r.config.emulator)return;const{authorizedDomains:n}=await lN(r);for(const i of n)try{if(hN(i))return}catch{}Zs(r,"unauthorized-domain")}function hN(r){const n=Gd(),{protocol:i,hostname:o}=new URL(n);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&o===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===n.replace("chrome-extension://",""):i==="chrome-extension:"&&m.hostname===o}if(!uN.test(i))return!1;if(cN.test(r))return o===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Mo(3e4,6e4);function Rp(){const r=ws().___jsl;if(r?.H){for(const n of Object.keys(r.H))if(r.H[n].r=r.H[n].r||[],r.H[n].L=r.H[n].L||[],r.H[n].r=[...r.H[n].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function fN(r){return new Promise((n,i)=>{function o(){Rp(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{Rp(),i(bs(r,"network-request-failed"))},timeout:mN.get()})}if(ws().gapi?.iframes?.Iframe)n(gapi.iframes.getContext());else if(ws().gapi?.load)o();else{const c=b2("iframefcb");return ws()[c]=()=>{gapi.load?o():i(bs(r,"network-request-failed"))},y2(`${v2()}?onload=${c}`).catch(d=>i(d))}}).catch(n=>{throw dc=null,n})}let dc=null;function pN(r){return dc=dc||fN(r),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Mo(5e3,15e3),xN="__/auth/iframe",yN="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(r){const n=r.config;Te(n.authDomain,r,"auth-domain-config-required");const i=n.emulator?xh(n,yN):`https://${r.config.authDomain}/${xN}`,o={apiKey:n.apiKey,appName:r.name,v:Mi},c=bN.get(r.config.apiHost);c&&(o.eid=c);const d=r._getFrameworks();return d.length&&(o.fw=d.join(",")),`${i}?${Oo(o).slice(1)}`}async function jN(r){const n=await pN(r),i=ws().gapi;return Te(i,r,"internal-error"),n.open({where:document.body,url:wN(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},o=>new Promise(async(c,d)=>{await o.restyle({setHideOnLeave:!1});const m=bs(r,"network-request-failed"),y=ws().setTimeout(()=>{d(m)},gN.get());function x(){ws().clearTimeout(y),c(o)}o.ping(x).then(x,()=>{d(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,kN=600,SN="_blank",EN="http://localhost";class Ap{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CN(r,n,i,o=_N,c=kN){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let y="";const x={...NN,width:o.toString(),height:c.toString(),top:d,left:m},w=Vt().toLowerCase();i&&(y=_x(w)?SN:i),jx(w)&&(n=n||EN,x.scrollbars="yes");const N=Object.entries(x).reduce((E,[O,B])=>`${E}${O}=${B},`,"");if(u2(w)&&y!=="_self")return TN(n||"",y),new Ap(null);const R=window.open(n||"",y,N);Te(R,r,"popup-blocked");try{R.focus()}catch{}return new Ap(R)}function TN(r,n){const i=document.createElement("a");i.href=r,i.target=n;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="__/auth/handler",PN="emulator/auth/handler",RN=encodeURIComponent("fac");async function Dp(r,n,i,o,c,d){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:o,v:Mi,eventId:c};if(n instanceof Ax){n.setDefaultLanguage(r.languageCode),m.providerId=n.providerId||"",w1(n.getCustomParameters())||(m.customParameters=JSON.stringify(n.getCustomParameters()));for(const[N,R]of Object.entries({}))m[N]=R}if(n instanceof Uo){const N=n.getScopes().filter(R=>R!=="");N.length>0&&(m.scopes=N.join(","))}r.tenantId&&(m.tid=r.tenantId);const y=m;for(const N of Object.keys(y))y[N]===void 0&&delete y[N];const x=await r._getAppCheckToken(),w=x?`#${RN}=${encodeURIComponent(x)}`:"";return`${AN(r)}?${Oo(y).slice(1)}${w}`}function AN({config:r}){return r.emulator?xh(r,PN):`https://${r.authDomain}/${IN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ux,this._completeRedirectFn=rN,this._overrideRedirectResult=tN}async _openPopup(n,i,o,c){er(this.eventManagers[n._key()]?.manager,"_initialize() not called before _openPopup()");const d=await Dp(n,i,o,Gd(),c);return CN(n,d,Nh())}async _openRedirect(n,i,o,c){await this._originValidation(n);const d=await Dp(n,i,o,Gd(),c);return M2(d),new Promise(()=>{})}_initialize(n){const i=n._key();if(this.eventManagers[i]){const{manager:c,promise:d}=this.eventManagers[i];return c?Promise.resolve(c):(er(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(n);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(n){const i=await jN(n),o=new aN(n);return i.register("authEvent",c=>(Te(c?.authEvent,n,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:o},this.iframes[n._key()]=i,o}_isIframeWebStorageSupported(n,i){this.iframes[n._key()].send(Ed,{type:Ed},c=>{const d=c?.[0]?.[Ed];d!==void 0&&i(!!d),Zs(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){const i=n._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dN(n)),this.originValidationPromises[i]}get _shouldInitProactively(){return Tx()||Nx()||bh()}}const LN=DN;var Lp="@firebase/auth",Op="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(n){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(n)}:null}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const i=this.auth.onIdTokenChanged(o=>{n(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,i),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const i=this.internalListeners.get(n);i&&(this.internalListeners.delete(n),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(r){Ri(new Hr("auth",(n,{options:i})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider("heartbeat"),d=n.getProvider("app-check-internal"),{apiKey:m,authDomain:y}=o.options;Te(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const x={apiKey:m,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ix(r)},w=new g2(o,c,d,x);return j2(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,i,o)=>{n.getProvider("auth-internal").initialize()})),Ri(new Hr("auth-internal",n=>{const i=wh(n.getProvider("auth").getImmediate());return(o=>new ON(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(Lp,Op,MN(r)),vs(Lp,Op,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=5*60,FN=Bg("authIdTokenMaxAge")||zN;let Mp=null;const BN=r=>async n=>{const i=n&&await n.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>FN)return;const c=i?.token;Mp!==c&&(Mp=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function $N(r=uh()){const n=Mc(r,"auth");if(n.isInitialized())return n.getImmediate();const i=w2(r,{popupRedirectResolver:LN,persistence:[W2,D2,Ux]}),o=Bg("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(o,location.origin);if(location.origin===d.origin){const m=BN(d.toString());P2(i,m,()=>m(i.currentUser)),I2(i,y=>m(y))}}const c=Ug("auth");return c&&N2(i,`http://${c}`),i}function VN(){return document.getElementsByTagName("head")?.[0]??document}x2({loadJS(r){return new Promise((n,i)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=n,o.onerror=c=>{const d=bs("internal-error");d.customData=c,i(d)},o.type="text/javascript",o.charset="UTF-8",VN().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kh;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(A,v){function k(){}k.prototype=v.prototype,A.D=v.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(P,U,I){for(var S=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)S[Q-2]=arguments[Q];return v.prototype[U].apply(P,S)}}function i(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(o,i),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(A,v,k){k||(k=0);var P=Array(16);if(typeof v=="string")for(var U=0;16>U;++U)P[U]=v.charCodeAt(k++)|v.charCodeAt(k++)<<8|v.charCodeAt(k++)<<16|v.charCodeAt(k++)<<24;else for(U=0;16>U;++U)P[U]=v[k++]|v[k++]<<8|v[k++]<<16|v[k++]<<24;v=A.g[0],k=A.g[1],U=A.g[2];var I=A.g[3],S=v+(I^k&(U^I))+P[0]+3614090360&4294967295;v=k+(S<<7&4294967295|S>>>25),S=I+(U^v&(k^U))+P[1]+3905402710&4294967295,I=v+(S<<12&4294967295|S>>>20),S=U+(k^I&(v^k))+P[2]+606105819&4294967295,U=I+(S<<17&4294967295|S>>>15),S=k+(v^U&(I^v))+P[3]+3250441966&4294967295,k=U+(S<<22&4294967295|S>>>10),S=v+(I^k&(U^I))+P[4]+4118548399&4294967295,v=k+(S<<7&4294967295|S>>>25),S=I+(U^v&(k^U))+P[5]+1200080426&4294967295,I=v+(S<<12&4294967295|S>>>20),S=U+(k^I&(v^k))+P[6]+2821735955&4294967295,U=I+(S<<17&4294967295|S>>>15),S=k+(v^U&(I^v))+P[7]+4249261313&4294967295,k=U+(S<<22&4294967295|S>>>10),S=v+(I^k&(U^I))+P[8]+1770035416&4294967295,v=k+(S<<7&4294967295|S>>>25),S=I+(U^v&(k^U))+P[9]+2336552879&4294967295,I=v+(S<<12&4294967295|S>>>20),S=U+(k^I&(v^k))+P[10]+4294925233&4294967295,U=I+(S<<17&4294967295|S>>>15),S=k+(v^U&(I^v))+P[11]+2304563134&4294967295,k=U+(S<<22&4294967295|S>>>10),S=v+(I^k&(U^I))+P[12]+1804603682&4294967295,v=k+(S<<7&4294967295|S>>>25),S=I+(U^v&(k^U))+P[13]+4254626195&4294967295,I=v+(S<<12&4294967295|S>>>20),S=U+(k^I&(v^k))+P[14]+2792965006&4294967295,U=I+(S<<17&4294967295|S>>>15),S=k+(v^U&(I^v))+P[15]+1236535329&4294967295,k=U+(S<<22&4294967295|S>>>10),S=v+(U^I&(k^U))+P[1]+4129170786&4294967295,v=k+(S<<5&4294967295|S>>>27),S=I+(k^U&(v^k))+P[6]+3225465664&4294967295,I=v+(S<<9&4294967295|S>>>23),S=U+(v^k&(I^v))+P[11]+643717713&4294967295,U=I+(S<<14&4294967295|S>>>18),S=k+(I^v&(U^I))+P[0]+3921069994&4294967295,k=U+(S<<20&4294967295|S>>>12),S=v+(U^I&(k^U))+P[5]+3593408605&4294967295,v=k+(S<<5&4294967295|S>>>27),S=I+(k^U&(v^k))+P[10]+38016083&4294967295,I=v+(S<<9&4294967295|S>>>23),S=U+(v^k&(I^v))+P[15]+3634488961&4294967295,U=I+(S<<14&4294967295|S>>>18),S=k+(I^v&(U^I))+P[4]+3889429448&4294967295,k=U+(S<<20&4294967295|S>>>12),S=v+(U^I&(k^U))+P[9]+568446438&4294967295,v=k+(S<<5&4294967295|S>>>27),S=I+(k^U&(v^k))+P[14]+3275163606&4294967295,I=v+(S<<9&4294967295|S>>>23),S=U+(v^k&(I^v))+P[3]+4107603335&4294967295,U=I+(S<<14&4294967295|S>>>18),S=k+(I^v&(U^I))+P[8]+1163531501&4294967295,k=U+(S<<20&4294967295|S>>>12),S=v+(U^I&(k^U))+P[13]+2850285829&4294967295,v=k+(S<<5&4294967295|S>>>27),S=I+(k^U&(v^k))+P[2]+4243563512&4294967295,I=v+(S<<9&4294967295|S>>>23),S=U+(v^k&(I^v))+P[7]+1735328473&4294967295,U=I+(S<<14&4294967295|S>>>18),S=k+(I^v&(U^I))+P[12]+2368359562&4294967295,k=U+(S<<20&4294967295|S>>>12),S=v+(k^U^I)+P[5]+4294588738&4294967295,v=k+(S<<4&4294967295|S>>>28),S=I+(v^k^U)+P[8]+2272392833&4294967295,I=v+(S<<11&4294967295|S>>>21),S=U+(I^v^k)+P[11]+1839030562&4294967295,U=I+(S<<16&4294967295|S>>>16),S=k+(U^I^v)+P[14]+4259657740&4294967295,k=U+(S<<23&4294967295|S>>>9),S=v+(k^U^I)+P[1]+2763975236&4294967295,v=k+(S<<4&4294967295|S>>>28),S=I+(v^k^U)+P[4]+1272893353&4294967295,I=v+(S<<11&4294967295|S>>>21),S=U+(I^v^k)+P[7]+4139469664&4294967295,U=I+(S<<16&4294967295|S>>>16),S=k+(U^I^v)+P[10]+3200236656&4294967295,k=U+(S<<23&4294967295|S>>>9),S=v+(k^U^I)+P[13]+681279174&4294967295,v=k+(S<<4&4294967295|S>>>28),S=I+(v^k^U)+P[0]+3936430074&4294967295,I=v+(S<<11&4294967295|S>>>21),S=U+(I^v^k)+P[3]+3572445317&4294967295,U=I+(S<<16&4294967295|S>>>16),S=k+(U^I^v)+P[6]+76029189&4294967295,k=U+(S<<23&4294967295|S>>>9),S=v+(k^U^I)+P[9]+3654602809&4294967295,v=k+(S<<4&4294967295|S>>>28),S=I+(v^k^U)+P[12]+3873151461&4294967295,I=v+(S<<11&4294967295|S>>>21),S=U+(I^v^k)+P[15]+530742520&4294967295,U=I+(S<<16&4294967295|S>>>16),S=k+(U^I^v)+P[2]+3299628645&4294967295,k=U+(S<<23&4294967295|S>>>9),S=v+(U^(k|~I))+P[0]+4096336452&4294967295,v=k+(S<<6&4294967295|S>>>26),S=I+(k^(v|~U))+P[7]+1126891415&4294967295,I=v+(S<<10&4294967295|S>>>22),S=U+(v^(I|~k))+P[14]+2878612391&4294967295,U=I+(S<<15&4294967295|S>>>17),S=k+(I^(U|~v))+P[5]+4237533241&4294967295,k=U+(S<<21&4294967295|S>>>11),S=v+(U^(k|~I))+P[12]+1700485571&4294967295,v=k+(S<<6&4294967295|S>>>26),S=I+(k^(v|~U))+P[3]+2399980690&4294967295,I=v+(S<<10&4294967295|S>>>22),S=U+(v^(I|~k))+P[10]+4293915773&4294967295,U=I+(S<<15&4294967295|S>>>17),S=k+(I^(U|~v))+P[1]+2240044497&4294967295,k=U+(S<<21&4294967295|S>>>11),S=v+(U^(k|~I))+P[8]+1873313359&4294967295,v=k+(S<<6&4294967295|S>>>26),S=I+(k^(v|~U))+P[15]+4264355552&4294967295,I=v+(S<<10&4294967295|S>>>22),S=U+(v^(I|~k))+P[6]+2734768916&4294967295,U=I+(S<<15&4294967295|S>>>17),S=k+(I^(U|~v))+P[13]+1309151649&4294967295,k=U+(S<<21&4294967295|S>>>11),S=v+(U^(k|~I))+P[4]+4149444226&4294967295,v=k+(S<<6&4294967295|S>>>26),S=I+(k^(v|~U))+P[11]+3174756917&4294967295,I=v+(S<<10&4294967295|S>>>22),S=U+(v^(I|~k))+P[2]+718787259&4294967295,U=I+(S<<15&4294967295|S>>>17),S=k+(I^(U|~v))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+v&4294967295,A.g[1]=A.g[1]+(U+(S<<21&4294967295|S>>>11))&4294967295,A.g[2]=A.g[2]+U&4294967295,A.g[3]=A.g[3]+I&4294967295}o.prototype.u=function(A,v){v===void 0&&(v=A.length);for(var k=v-this.blockSize,P=this.B,U=this.h,I=0;I<v;){if(U==0)for(;I<=k;)c(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<v;)if(P[U++]=A.charCodeAt(I++),U==this.blockSize){c(this,P),U=0;break}}else for(;I<v;)if(P[U++]=A[I++],U==this.blockSize){c(this,P),U=0;break}}this.h=U,this.o+=v},o.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var v=1;v<A.length-8;++v)A[v]=0;var k=8*this.o;for(v=A.length-8;v<A.length;++v)A[v]=k&255,k/=256;for(this.u(A),A=Array(16),v=k=0;4>v;++v)for(var P=0;32>P;P+=8)A[k++]=this.g[v]>>>P&255;return A};function d(A,v){var k=y;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=v(A)}function m(A,v){this.h=v;for(var k=[],P=!0,U=A.length-1;0<=U;U--){var I=A[U]|0;P&&I==v||(k[U]=I,P=!1)}this.g=k}var y={};function x(A){return-128<=A&&128>A?d(A,function(v){return new m([v|0],0>v?-1:0)}):new m([A|0],0>A?-1:0)}function w(A){if(isNaN(A)||!isFinite(A))return R;if(0>A)return T(w(-A));for(var v=[],k=1,P=0;A>=k;P++)v[P]=A/k|0,k*=4294967296;return new m(v,0)}function N(A,v){if(A.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A.charAt(0)=="-")return T(N(A.substring(1),v));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=w(Math.pow(v,8)),P=R,U=0;U<A.length;U+=8){var I=Math.min(8,A.length-U),S=parseInt(A.substring(U,U+I),v);8>I?(I=w(Math.pow(v,I)),P=P.j(I).add(w(S))):(P=P.j(k),P=P.add(w(S)))}return P}var R=x(0),E=x(1),O=x(16777216);r=m.prototype,r.m=function(){if(C(this))return-T(this).m();for(var A=0,v=1,k=0;k<this.g.length;k++){var P=this.i(k);A+=(0<=P?P:4294967296+P)*v,v*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(B(this))return"0";if(C(this))return"-"+T(this).toString(A);for(var v=w(Math.pow(A,6)),k=this,P="";;){var U=V(k,v).g;k=M(k,U.j(v));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=U,B(k))return I+P;for(;6>I.length;)I="0"+I;P=I+P}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function B(A){if(A.h!=0)return!1;for(var v=0;v<A.g.length;v++)if(A.g[v]!=0)return!1;return!0}function C(A){return A.h==-1}r.l=function(A){return A=M(this,A),C(A)?-1:B(A)?0:1};function T(A){for(var v=A.g.length,k=[],P=0;P<v;P++)k[P]=~A.g[P];return new m(k,~A.h).add(E)}r.abs=function(){return C(this)?T(this):this},r.add=function(A){for(var v=Math.max(this.g.length,A.g.length),k=[],P=0,U=0;U<=v;U++){var I=P+(this.i(U)&65535)+(A.i(U)&65535),S=(I>>>16)+(this.i(U)>>>16)+(A.i(U)>>>16);P=S>>>16,I&=65535,S&=65535,k[U]=S<<16|I}return new m(k,k[k.length-1]&-2147483648?-1:0)};function M(A,v){return A.add(T(v))}r.j=function(A){if(B(this)||B(A))return R;if(C(this))return C(A)?T(this).j(T(A)):T(T(this).j(A));if(C(A))return T(this.j(T(A)));if(0>this.l(O)&&0>A.l(O))return w(this.m()*A.m());for(var v=this.g.length+A.g.length,k=[],P=0;P<2*v;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<A.g.length;U++){var I=this.i(P)>>>16,S=this.i(P)&65535,Q=A.i(U)>>>16,fe=A.i(U)&65535;k[2*P+2*U]+=S*fe,F(k,2*P+2*U),k[2*P+2*U+1]+=I*fe,F(k,2*P+2*U+1),k[2*P+2*U+1]+=S*Q,F(k,2*P+2*U+1),k[2*P+2*U+2]+=I*Q,F(k,2*P+2*U+2)}for(P=0;P<v;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=v;P<2*v;P++)k[P]=0;return new m(k,0)};function F(A,v){for(;(A[v]&65535)!=A[v];)A[v+1]+=A[v]>>>16,A[v]&=65535,v++}function q(A,v){this.g=A,this.h=v}function V(A,v){if(B(v))throw Error("division by zero");if(B(A))return new q(R,R);if(C(A))return v=V(T(A),v),new q(T(v.g),T(v.h));if(C(v))return v=V(A,T(v)),new q(T(v.g),v.h);if(30<A.g.length){if(C(A)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var k=E,P=v;0>=P.l(A);)k=ee(k),P=ee(P);var U=te(k,1),I=te(P,1);for(P=te(P,2),k=te(k,2);!B(P);){var S=I.add(P);0>=S.l(A)&&(U=U.add(k),I=S),P=te(P,1),k=te(k,1)}return v=M(A,U.j(v)),new q(U,v)}for(U=R;0<=A.l(v);){for(k=Math.max(1,Math.floor(A.m()/v.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),I=w(k),S=I.j(v);C(S)||0<S.l(A);)k-=P,I=w(k),S=I.j(v);B(I)&&(I=E),U=U.add(I),A=M(A,S)}return new q(U,A)}r.A=function(A){return V(this,A).h},r.and=function(A){for(var v=Math.max(this.g.length,A.g.length),k=[],P=0;P<v;P++)k[P]=this.i(P)&A.i(P);return new m(k,this.h&A.h)},r.or=function(A){for(var v=Math.max(this.g.length,A.g.length),k=[],P=0;P<v;P++)k[P]=this.i(P)|A.i(P);return new m(k,this.h|A.h)},r.xor=function(A){for(var v=Math.max(this.g.length,A.g.length),k=[],P=0;P<v;P++)k[P]=this.i(P)^A.i(P);return new m(k,this.h^A.h)};function ee(A){for(var v=A.g.length+1,k=[],P=0;P<v;P++)k[P]=A.i(P)<<1|A.i(P-1)>>>31;return new m(k,A.h)}function te(A,v){var k=v>>5;v%=32;for(var P=A.g.length-k,U=[],I=0;I<P;I++)U[I]=0<v?A.i(I+k)>>>v|A.i(I+k+1)<<32-v:A.i(I+k);return new m(U,A.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=w,m.fromString=N,kh=m}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var r,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function i(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var o=i(this);function c(l,f){if(f)e:{var g=o;l=l.split(".");for(var _=0;_<l.length-1;_++){var W=l[_];if(!(W in g))break e;g=g[W]}l=l[l.length-1],_=g[l],f=f(_),f!=_&&f!=null&&n(g,l,{configurable:!0,writable:!0,value:f})}}function d(l,f){l instanceof String&&(l+="");var g=0,_=!1,W={next:function(){if(!_&&g<l.length){var J=g++;return{value:f(J,l[J]),done:!1}}return _=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}c("Array.prototype.values",function(l){return l||function(){return d(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function x(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function w(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function N(l,f,g){return l.call.apply(l.bind,arguments)}function R(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,_),l.apply(f,W)}}return function(){return l.apply(f,arguments)}}function E(l,f,g){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:R,E.apply(null,arguments)}function O(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function B(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,W,J){for(var ue=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ue[Ke-2]=arguments[Ke];return f.prototype[W].apply(_,ue)}}function C(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function T(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(x(_)){const W=l.length||0,J=_.length||0;l.length=W+J;for(let ue=0;ue<J;ue++)l[W+ue]=_[ue]}else l.push(_)}}class M{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(l){return/^[\s\xa0]*$/.test(l)}function q(){var l=y.navigator;return l&&(l=l.userAgent)?l:""}function V(l){return V[" "](l),l}V[" "]=function(){};var ee=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function A(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function v(l){const f={};for(const g in l)f[g]=l[g];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,_;for(let W=1;W<arguments.length;W++){_=arguments[W];for(g in _)l[g]=_[g];for(let J=0;J<k.length;J++)g=k[J],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function U(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function I(l){y.setTimeout(()=>{throw l},0)}function S(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Q{constructor(){this.h=this.g=null}add(f,g){const _=fe.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var fe=new M(()=>new be,l=>l.reset());class be{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Z=!1,le=new Q,ne=()=>{const l=y.Promise.resolve(void 0);de=()=>{l.then(H)}};var H=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){I(g)}var f=fe;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Z=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};y.addEventListener("test",g,f),y.removeEventListener("test",g,f)}catch{}return l}();function Ie(l,f){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ee){e:{try{V(f.nodeName);var W=!0;break e}catch{}W=!1}W||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Le[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}B(Ie,ye);var Le={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Re(l,f,g,_,W){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=W,this.key=++ze,this.da=this.fa=!1}function nt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function En(l){this.src=l,this.g={},this.h=0}En.prototype.add=function(l,f,g,_,W){var J=l.toString();l=this.g[J],l||(l=this.g[J]=[],this.h++);var ue=es(l,f,_,W);return-1<ue?(f=l[ue],g||(f.fa=!1)):(f=new Re(f,this.src,J,!!_,W),f.fa=g,l.push(f)),f};function Cn(l,f){var g=f.type;if(g in l.g){var _=l.g[g],W=Array.prototype.indexOf.call(_,f,void 0),J;(J=0<=W)&&Array.prototype.splice.call(_,W,1),J&&(nt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function es(l,f,g,_){for(var W=0;W<l.length;++W){var J=l[W];if(!J.da&&J.listener==f&&J.capture==!!g&&J.ha==_)return W}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),Ss={};function ns(l,f,g,_,W){if(Array.isArray(f)){for(var J=0;J<f.length;J++)ns(l,f[J],g,_,W);return null}return g=sr(g),l&&l[Ae]?l.K(f,g,w(_)?!!_.capture:!1,W):tr(l,f,g,!1,_,W)}function tr(l,f,g,_,W,J){if(!f)throw Error("Invalid event type");var ue=w(W)?!!W.capture:!!W,Ke=In(l);if(Ke||(l[ts]=Ke=new En(l)),g=Ke.add(f,g,_,ue,J),g.proxy)return g;if(_=Es(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Pe||(W=ue),W===void 0&&(W=!1),l.addEventListener(f.toString(),_,W);else if(l.attachEvent)l.attachEvent(Tn(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Es(){function l(g){return f.call(l.src,l.listener,g)}const f=Wr;return l}function Cs(l,f,g,_,W){if(Array.isArray(f))for(var J=0;J<f.length;J++)Cs(l,f[J],g,_,W);else _=w(_)?!!_.capture:!!_,g=sr(g),l&&l[Ae]?(l=l.i,f=String(f).toString(),f in l.g&&(J=l.g[f],g=es(J,g,_,W),-1<g&&(nt(J[g]),Array.prototype.splice.call(J,g,1),J.length==0&&(delete l.g[f],l.h--)))):l&&(l=In(l))&&(f=l.g[f.toString()],l=-1,f&&(l=es(f,g,_,W)),(g=-1<l?f[l]:null)&&Oe(g))}function Oe(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ae])Cn(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(Tn(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=In(f))?(Cn(g,l),g.h==0&&(g.src=null,f[ts]=null)):nt(l)}}}function Tn(l){return l in Ss?Ss[l]:Ss[l]="on"+l}function Wr(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&Oe(l),l=g.call(_,f)}return l}function In(l){return l=l[ts],l instanceof En?l:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function sr(l){return typeof l=="function"?l:(l[nr]||(l[nr]=function(f){return l.handleEvent(f)}),l[nr])}function ct(){Y.call(this),this.i=new En(this),this.M=this,this.F=null}B(ct,Y),ct.prototype[Ae]=!0,ct.prototype.removeEventListener=function(l,f,g,_){Cs(this,l,f,g,_)};function et(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new ye(f,l);else if(f instanceof ye)f.target=f.target||l;else{var W=f;f=new ye(_,l),P(f,W)}if(W=!0,g)for(var J=g.length-1;0<=J;J--){var ue=f.g=g[J];W=fn(ue,_,!0,f)&&W}if(ue=f.g=l,W=fn(ue,_,!0,f)&&W,W=fn(ue,_,!1,f)&&W,g)for(J=0;J<g.length;J++)ue=f.g=g[J],W=fn(ue,_,!1,f)&&W}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)nt(g[_]);delete l.g[f],l.h--}}this.F=null},ct.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},ct.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};function fn(l,f,g,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var W=!0,J=0;J<f.length;++J){var ue=f[J];if(ue&&!ue.da&&ue.capture==g){var Ke=ue.listener,xt=ue.ha||ue.src;ue.fa&&Cn(l.i,ue),W=Ke.call(xt,_)!==!1&&W}}return W&&!_.defaultPrevented}function ss(l,f,g){if(typeof l=="function")g&&(l=E(l,g));else if(l&&typeof l.handleEvent=="function")l=E(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:y.setTimeout(l,f||0)}function Pn(l){l.g=ss(()=>{l.g=null,l.i&&(l.i=!1,Pn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Me extends Y{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(l){Y.call(this),this.h=l,this.g={}}B(rs,Y);var Lt=[];function Rn(l){te(l.g,function(f,g){this.g.hasOwnProperty(g)&&Oe(f)},l),l.g={}}rs.prototype.N=function(){rs.aa.N.call(this),Rn(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=y.JSON.stringify,nn=y.JSON.parse,rr=class{stringify(l){return y.JSON.stringify(l,void 0)}parse(l){return y.JSON.parse(l,void 0)}};function sn(){}sn.prototype.h=null;function Ts(l){return l.h||(l.h=l.i())}function Kr(){}var Ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){ye.call(this,"d")}B(pn,ye);function ir(){ye.call(this,"c")}B(ir,ye);var An={},ar=null;function or(){return ar=ar||new ct}An.La="serverreachability";function Xr(l){ye.call(this,An.La,l)}B(Xr,ye);function Dn(l){const f=or();et(f,new Xr(f))}An.STAT_EVENT="statevent";function Jr(l,f){ye.call(this,An.STAT_EVENT,l),this.stat=f}B(Jr,ye);function st(l){const f=or();et(f,new Jr(f,l))}An.Ma="timingevent";function lr(l,f){ye.call(this,An.Ma,l),this.size=f}B(lr,ye);function rn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){l()},f)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function is(l,f,g,_,W,J){l.info(function(){if(l.g)if(J)for(var ue="",Ke=J.split("&"),xt=0;xt<Ke.length;xt++){var Fe=Ke[xt].split("=");if(1<Fe.length){var bt=Fe[0];Fe=Fe[1];var wt=bt.split("_");ue=2<=wt.length&&wt[1]=="type"?ue+(bt+"="+Fe+"&"):ue+(bt+"=redacted&")}}else ue=null;else ue=J;return"XMLHTTP REQ ("+_+") [attempt "+W+"]: "+f+`
`+g+`
`+ue})}function xn(l,f,g,_,W,J,ue){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+W+"]: "+f+`
`+g+`
`+J+" "+ue})}function an(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+he(l,g)+(_?" "+_:"")})}function L(l,f){l.info(function(){return"TIMEOUT: "+f})}gn.prototype.info=function(){};function he(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var W=_[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Gr(g)}catch{return f}}var ae={NO_ERROR:0,TIMEOUT:8},oe={},Ne;function qt(){}B(qt,sn),qt.prototype.g=function(){return new XMLHttpRequest},qt.prototype.i=function(){return{}},Ne=new qt;function Wt(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var Yr={},cr={};function Ee(l,f,g){l.L=1,l.v=fr(ln(f)),l.m=g,l.P=!0,yn(l,null)}function yn(l,f){l.F=Date.now(),Je(l),l.A=ln(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),gr(g.i,"t",_),l.C=0,g=l.j.J,l.h=new Is,l.g=rl(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Me(E(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var W="readystatechange";Array.isArray(W)||(W&&(Lt[0]=W.toString()),W=Lt);for(var J=0;J<W.length;J++){var ue=ns(g,W[J],_||f.handleEvent,!1,f.h||f);if(!ue)break;f.g[ue.key]=ue}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Dn(),is(l.i,l.u,l.A,l.l,l.R,l.m)}Wt.prototype.ca=function(l){l=l.target;const f=this.M;f&&Kt(l)==3?f.j():this.Y(l)},Wt.prototype.Y=function(l){try{if(l==this.g)e:{const wt=Kt(this.g);var f=this.g.Ba();const us=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||wt!=4||f==7||(f==8||0>=us?Dn(3):Dn(2)),Zr(this);var g=this.g.Z();this.X=g;t:if(Ra(this)){var _=Ua(this.g);l="";var W=_.length,J=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),ur(this);var ue="";break t}this.h.i=new y.TextDecoder}for(f=0;f<W;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(J&&f==W-1)});_.length=0,this.h.g+=l,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=g==200,xn(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,xt=this.g;if((Ke=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ke)){var Fe=Ke;break t}}Fe=null}if(g=Fe)an(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,g);else{this.o=!1,this.s=3,st(12),vn(this),ur(this);break e}}if(this.P){g=!0;let Et;for(;!this.J&&this.C<ue.length;)if(Et=Qr(this,ue),Et==cr){wt==4&&(this.s=4,st(14),g=!1),an(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Yr){this.s=4,st(15),an(this.i,this.l,ue,"[Invalid Chunk]"),g=!1;break}else an(this.i,this.l,Et,null),Aa(this,Et);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ue.length!=0||this.h.h||(this.s=1,st(16),g=!1),this.o=this.o&&g,!g)an(this.i,this.l,ue,"[Invalid Chunked Response]"),vn(this),ur(this);else if(0<ue.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Fa(bt),bt.M=!0,st(11))}}else an(this.i,this.l,ue,null),Aa(this,ue);wt==4&&vn(this),this.o&&!this.J&&(wt==4?Ki(this.j,this):(this.o=!1,Je(this)))}else Vi(this.g),g==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),vn(this),ur(this)}}}catch{}finally{}};function Ra(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Qr(l,f){var g=l.C,_=f.indexOf(`
`,g);return _==-1?cr:(g=Number(f.substring(g,_)),isNaN(g)?Yr:(_+=1,_+g>f.length?cr:(f=f.slice(_,_+g),l.C=_+g,f)))}Wt.prototype.cancel=function(){this.J=!0,vn(this)};function Je(l){l.S=Date.now()+l.I,$o(l,l.I)}function $o(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=rn(E(l.ba,l),f)}function Zr(l){l.B&&(y.clearTimeout(l.B),l.B=null)}Wt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(L(this.i,this.A),this.L!=2&&(Dn(),st(17)),vn(this),this.s=2,ur(this)):$o(this,this.S-l)};function ur(l){l.j.G==0||l.J||Ki(l.j,l)}function vn(l){Zr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Rn(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Aa(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ot(g.h,l))){if(!l.K&&Ot(g.h,l)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var W=_;if(W[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Gi(g),zn(g);else break e;Wi(g),st(18)}}else g.za=W[1],0<g.za-g.T&&37500>W[2]&&g.F&&g.v==0&&!g.C&&(g.C=rn(E(g.Za,g),6e3));if(1>=Ho(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ls(g,11)}else if((l.K||g.g==l)&&Gi(g),!F(f))for(W=g.Da.g.parse(f),f=0;f<W.length;f++){let Fe=W[f];if(g.T=Fe[0],Fe=Fe[1],g.G==2)if(Fe[0]=="c"){g.K=Fe[1],g.ia=Fe[2];const bt=Fe[3];bt!=null&&(g.la=bt,g.j.info("VER="+g.la));const wt=Fe[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const us=Fe[5];us!=null&&typeof us=="number"&&0<us&&(_=1.5*us,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const Et=l.g;if(Et){const Xi=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var J=_.h;J.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Da(J,J.h),J.h=null))}if(_.D){const Ji=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;Ji&&(_.ya=Ji,Xe(_.I,_.D,Ji))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var ue=l;if(_.qa=sl(_,_.J?_.ia:null,_.W),ue.K){qo(_.h,ue);var Ke=ue,xt=_.L;xt&&(Ke.I=xt),Ke.B&&(Zr(Ke),Je(Ke)),_.g=ue}else ii(_);0<g.i.length&&cs(g)}else Fe[0]!="stop"&&Fe[0]!="close"||Ls(g,7);else g.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ls(g,7):St(g):Fe[0]!="noop"&&g.l&&g.l.ta(Fe),g.v=0)}}Dn(4)}catch{}}var Vo=class{constructor(l,f){this.g=l,this.map=f}};function ei(l){this.l=l||10,y.PerformanceNavigationTiming?(l=y.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ho(l){return l.h?1:l.g?l.g.size:0}function Ot(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Da(l,f){l.g?l.g.add(f):l.h=f}function qo(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ei.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Wo(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return C(l.i)}function Ui(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(x(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}f=[],g=0;for(_ in l)f[g++]=l[_];return f}function zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(x(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}function dr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(x(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=zi(l),_=Ui(l),W=_.length,J=0;J<W;J++)f.call(void 0,_[J],g&&g[J],l)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),W=null;if(0<=_){var J=l[g].substring(0,_);W=l[g].substring(_+1)}else J=l[g];f(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ps(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ps){this.h=l.h,ni(this,l.j),this.o=l.o,this.g=l.g,hr(this,l.s),this.l=l.l;var f=l.i,g=new as;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),mr(this,g),this.m=l.m}else l&&(f=String(l).match(ti))?(this.h=!1,ni(this,f[1]||"",!0),this.o=Ue(f[2]||""),this.g=Ue(f[3]||"",!0),hr(this,f[4]),this.l=Ue(f[5]||"",!0),mr(this,f[6]||"",!0),this.m=Ue(f[7]||"")):(this.h=!1,this.i=new as(null,this.h))}Ps.prototype.toString=function(){var l=[],f=this.j;f&&l.push(pr(f,Fi,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(pr(f,Fi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(pr(g,g.charAt(0)=="/"?Xo:Ko,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",pr(g,La)),l.join("")};function ln(l){return new Ps(l)}function ni(l,f,g){l.j=g?Ue(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function hr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function mr(l,f,g){f instanceof as?(l.i=f,os(l.i,l.h)):(g||(f=pr(f,Jo)),l.i=new as(f,l.h))}function Xe(l,f,g){l.i.set(f,g)}function fr(l){return Xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ue(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Go),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Go(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Fi=/[#\/\?@]/g,Ko=/[#\?:]/g,Xo=/[#\?]/g,Jo=/[#\?@]/g,La=/#/g;function as(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function kt(l){l.g||(l.g=new Map,l.h=0,l.i&&Fc(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}r=as.prototype,r.add=function(l,f){kt(this),this.i=null,l=bn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Ln(l,f){kt(l),f=bn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function On(l,f){return kt(l),f=bn(l,f),l.g.has(f)}r.forEach=function(l,f){kt(this),this.g.forEach(function(g,_){g.forEach(function(W){l.call(f,W,_,this)},this)},this)},r.na=function(){kt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const W=l[_];for(let J=0;J<W.length;J++)g.push(f[_])}return g},r.V=function(l){kt(this);let f=[];if(typeof l=="string")On(this,l)&&(f=f.concat(this.g.get(bn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},r.set=function(l,f){return kt(this),this.i=null,l=bn(this,l),On(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},r.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function gr(l,f,g){Ln(l,f),0<g.length&&(l.i=null,l.g.set(bn(l,f),C(g)),l.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const J=encodeURIComponent(String(_)),ue=this.V(_);for(_=0;_<ue.length;_++){var W=J;ue[_]!==""&&(W+="="+encodeURIComponent(String(ue[_]))),l.push(W)}}return this.i=l.join("&")};function bn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function os(l,f){f&&!l.j&&(kt(l),l.i=null,l.g.forEach(function(g,_){var W=_.toLowerCase();_!=W&&(Ln(this,_),gr(this,W,g))},l)),l.j=f}function Bc(l,f){const g=new gn;if(y.Image){const _=new Image;_.onload=O(Gt,g,"TestLoadImage: loaded",!0,f,_),_.onerror=O(Gt,g,"TestLoadImage: error",!1,f,_),_.onabort=O(Gt,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=O(Gt,g,"TestLoadImage: timeout",!1,f,_),y.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function Yo(l,f){const g=new gn,_=new AbortController,W=setTimeout(()=>{_.abort(),Gt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(J=>{clearTimeout(W),J.ok?Gt(g,"TestPingServer: ok",!0,f):Gt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(W),Gt(g,"TestPingServer: error",!1,f)})}function Gt(l,f,g,_,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),_(g)}catch{}}function $c(){this.g=new rr}function Qo(l,f,g){const _=g||"";try{dr(l,function(W,J){let ue=W;w(W)&&(ue=Gr(W)),f.push(_+J+"="+encodeURIComponent(ue))})}catch(W){throw f.push(_+"type="+encodeURIComponent("_badmap")),W}}function Rs(l){this.l=l.Ub||null,this.j=l.eb||!1}B(Rs,sn),Rs.prototype.g=function(){return new si(this.l,this.j)},Rs.prototype.i=function(l){return function(){return l}}({});function si(l,f){ct.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(si,ct),r=si.prototype,r.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Un(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||y).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Mn(this):Un(this),this.readyState==3&&Zo(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Mn(this))},r.Qa=function(l){this.g&&(this.response=l,Mn(this))},r.ga=function(){this.g&&Mn(this)};function Mn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Un(l)}r.setRequestHeader=function(l,f){this.u.append(l,f)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Un(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function As(l){let f="";return te(l,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function xr(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=As(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Xe(l,f,g))}function rt(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(rt,ct);var Vc=/^https?$/i,Oa=["POST","PUT"];r=rt.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?Ts(this.o):Ts(Ne),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(J){ri(this,J);return}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var W in _)g.set(W,_[W]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const J of _.keys())g.set(J,_.get(J));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(J=>J.toLowerCase()=="content-type"),W=y.FormData&&l instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Oa,f,void 0))||_||W||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of g)this.g.setRequestHeader(J,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$i(this),this.u=!0,this.g.send(l),this.u=!1}catch(J){ri(this,J)}};function ri(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Bi(l),cn(l)}function Bi(l){l.A||(l.A=!0,et(l,"complete"),et(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,et(this,"complete"),et(this,"abort"),cn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),rt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},r.bb=function(){Ma(this)};function Ma(l){if(l.h&&typeof m<"u"&&(!l.v[1]||Kt(l)!=4||l.Z()!=2)){if(l.u&&Kt(l)==4)ss(l.Ea,0,l);else if(et(l,"readystatechange"),Kt(l)==4){l.h=!1;try{const ue=l.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=ue===0){var W=String(l.D).match(ti)[1]||null;!W&&y.self&&y.self.location&&(W=y.self.location.protocol.slice(0,-1)),_=!Vc.test(W?W.toLowerCase():"")}g=_}if(g)et(l,"complete"),et(l,"success");else{l.m=6;try{var J=2<Kt(l)?l.g.statusText:""}catch{J=""}l.l=J+" ["+l.Z()+"]",Bi(l)}}finally{cn(l)}}}}function cn(l,f){if(l.g){$i(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||et(l,"ready");try{g.onreadystatechange=_}catch{}}}function $i(l){l.I&&(y.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Kt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),nn(f)}};function Ua(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(l){const f={};l=(l.g&&2<=Kt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(F(l[_]))continue;var g=U(l[_]);const W=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const J=f[W]||[];f[W]=J,J.push(g)}A(f,function(_){return _.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function za(l){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,l),this.cb=ls("retryDelaySeedMs",1e4,l),this.Wa=ls("forwardChannelMaxRetries",2,l),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(l&&l.concurrentRequestLimit),this.Da=new $c,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=za.prototype,r.la=8,r.G=1,r.connect=function(l,f,g,_){st(0),this.W=l,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=sl(this,null,this.W),cs(this)};function St(l){if(Hi(l),l.G==3){var f=l.U++,g=ln(l.I);if(Xe(g,"SID",l.K),Xe(g,"RID",f),Xe(g,"TYPE","terminate"),Ds(l,g),f=new Wt(l,l.j,f),f.L=2,f.v=fr(ln(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=f.v,g=!0),g||(f.g=rl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Je(f)}nl(l)}function zn(l){l.g&&(Fa(l),l.g.cancel(),l.g=null)}function Hi(l){zn(l),l.u&&(y.clearTimeout(l.u),l.u=null),Gi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&y.clearTimeout(l.s),l.s=null)}function cs(l){if(!on(l.h)&&!l.s){l.s=!0;var f=l.Ga;de||ne(),Z||(de(),Z=!0),le.add(f,l),l.B=0}}function Hc(l,f){return Ho(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=rn(E(l.Ga,l,f),tl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const W=new Wt(this,this.j,l);let J=this.o;if(this.S&&(J?(J=v(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=yr(this,W,f),g=ln(this.I),Xe(g,"RID",l),Xe(g,"CVER",22),this.D&&Xe(g,"X-HTTP-Session-Id",this.D),Ds(this,g),J&&(this.O?f="headers="+encodeURIComponent(String(As(J)))+"&"+f:this.m&&xr(g,this.m,J)),Da(this.h,W),this.Ua&&Xe(g,"TYPE","init"),this.P?(Xe(g,"$req",f),Xe(g,"SID","null"),W.T=!0,Ee(W,g,null)):Ee(W,g,f),this.G=2}}else this.G==3&&(l?qi(this,l):this.i.length==0||on(this.h)||qi(this))};function qi(l,f){var g;f?g=f.l:g=l.U++;const _=ln(l.I);Xe(_,"SID",l.K),Xe(_,"RID",g),Xe(_,"AID",l.T),Ds(l,_),l.m&&l.o&&xr(_,l.m,l.o),g=new Wt(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=yr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Da(l.h,g),Ee(g,_,f)}function Ds(l,f){l.H&&te(l.H,function(g,_){Xe(f,_,g)}),l.l&&dr({},function(g,_){Xe(f,_,g)})}function yr(l,f,g){g=Math.min(l.i.length,g);var _=l.l?E(l.l.Na,l.l,l):null;e:{var W=l.i;let J=-1;for(;;){const ue=["count="+g];J==-1?0<g?(J=W[0].g,ue.push("ofs="+J)):J=0:ue.push("ofs="+J);let Ke=!0;for(let xt=0;xt<g;xt++){let Fe=W[xt].g;const bt=W[xt].map;if(Fe-=J,0>Fe)J=Math.max(0,W[xt].g-100),Ke=!1;else try{Qo(bt,ue,"req"+Fe+"_")}catch{_&&_(bt)}}if(Ke){_=ue.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function ii(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;de||ne(),Z||(de(),Z=!0),le.add(f,l),l.v=0}}function Wi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=rn(E(l.Fa,l),tl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,el(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=rn(E(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),zn(this),el(this))};function Fa(l){l.A!=null&&(y.clearTimeout(l.A),l.A=null)}function el(l){l.g=new Wt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=ln(l.qa);Xe(f,"RID","rpc"),Xe(f,"SID",l.K),Xe(f,"AID",l.T),Xe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Xe(f,"TO",l.ja),Xe(f,"TYPE","xmlhttp"),Ds(l,f),l.m&&l.o&&xr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=fr(ln(f)),g.m=null,g.P=!0,yn(g,l)}r.Za=function(){this.C!=null&&(this.C=null,zn(this),Wi(this),st(19))};function Gi(l){l.C!=null&&(y.clearTimeout(l.C),l.C=null)}function Ki(l,f){var g=null;if(l.g==f){Gi(l),Fa(l),l.g=null;var _=2}else if(Ot(l.h,f))g=f.D,qo(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var W=l.B;_=or(),et(_,new lr(_,g)),cs(l)}else ii(l);else if(W=f.s,W==3||W==0&&0<f.X||!(_==1&&Hc(l,f)||_==2&&Wi(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),W){case 1:Ls(l,5);break;case 4:Ls(l,10);break;case 3:Ls(l,6);break;default:Ls(l,2)}}}function tl(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Ls(l,f){if(l.j.info("Error code "+f),f==2){var g=E(l.fb,l),_=l.Xa;const W=!_;_=new Ps(_||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||ni(_,"https"),fr(_),W?Bc(_.toString(),g):Yo(_.toString(),g)}else st(2);l.G=0,l.l&&l.l.sa(f),nl(l),Hi(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function nl(l){if(l.G=0,l.ka=[],l.l){const f=Wo(l.h);(f.length!=0||l.i.length!=0)&&(T(l.ka,f),T(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function sl(l,f,g){var _=g instanceof Ps?ln(g):new Ps(g);if(_.g!="")f&&(_.g=f+"."+_.g),hr(_,_.s);else{var W=y.location;_=W.protocol,f=f?f+"."+W.hostname:W.hostname,W=+W.port;var J=new Ps(null);_&&ni(J,_),f&&(J.g=f),W&&hr(J,W),g&&(J.l=g),_=J}return g=l.D,f=l.ya,g&&f&&Xe(_,g,f),Xe(_,"VER",l.la),Ds(l,_),_}function rl(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new rt(new Rs({eb:g})):new rt(l.pa),f.Ha(l.J),f}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}r=Ba.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xt(l,f){ct.call(this),this.g=new za(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!F(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new vr(this)}B(Xt,ct),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){St(this.g)},Xt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Gr(l),l=g);f.i.push(new Vo(f.Ya++,l)),f.G==3&&cs(f)},Xt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,Xt.aa.N.call(this)};function il(l){pn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}B(il,pn);function al(){ir.call(this),this.status=1}B(al,ir);function vr(l){this.g=l}B(vr,Ba),vr.prototype.ua=function(){et(this.g,"a")},vr.prototype.ta=function(l){et(this.g,new il(l))},vr.prototype.sa=function(l){et(this.g,new al)},vr.prototype.ra=function(){et(this.g,"b")},Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,oe.COMPLETE="complete",Kr.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",ct.prototype.listen=ct.prototype.K,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const zp="@firebase/firestore",Fp="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new lh("@firebase/firestore");function Jn(r,...n){if(Ea.logLevel<=Ge.DEBUG){const i=n.map(Sh);Ea.debug(`Firestore (${Fo}): ${r}`,...i)}}function qx(r,...n){if(Ea.logLevel<=Ge.ERROR){const i=n.map(Sh);Ea.error(`Firestore (${Fo}): ${r}`,...i)}}function HN(r,...n){if(Ea.logLevel<=Ge.WARN){const i=n.map(Sh);Ea.warn(`Firestore (${Fo}): ${r}`,...i)}}function Sh(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,Wx(r,o,i)}function Wx(r,n,i){let o=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${n} (ID: ${r.toString(16)})`;if(i!==void 0)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw qx(o),new Error(o)}function yo(r,n,i,o){let c="Unexpected state";typeof i=="string"?c=i:o=i,r||Wx(n,c,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Ve extends _s{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Ft.UNAUTHENTICATED))}shutdown(){}}class WN{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class GN{constructor(n){this.t=n,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){yo(this.o===void 0,42304);let o=this.i;const c=x=>this.i!==o?(o=this.i,i(x)):Promise.resolve();let d=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new vo,n.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const x=d;n.enqueueRetryable(async()=>{await x.promise,await c(this.currentUser)})},y=x=>{Jn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(x=>y(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?y(x):(Jn("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new vo)}},0),m()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==n?(Jn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(yo(typeof o.accessToken=="string",31837,{l:o}),new Gx(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return yo(n===null||typeof n=="string",2055,{h:n}),new Ft(n)}}class KN{constructor(n,i,o){this.P=n,this.T=i,this.I=o,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XN{constructor(n,i,o){this.P=n,this.T=i,this.I=o}getToken(){return Promise.resolve(new KN(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bp{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JN{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){yo(this.o===void 0,3512);const o=d=>{d.error!=null&&Jn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.m;return this.m=d.token,Jn("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(d.token):Promise.resolve()};this.o=d=>{n.enqueueRetryable(()=>o(d))};const c=d=>{Jn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?c(d):Jn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(yo(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Bp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(i);else for(let o=0;o<r;o++)i[o]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const c=YN(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<i&&(o+=n.charAt(c[d]%62))}return o}}function qr(r,n){return r<n?-1:r>n?1:0}function ZN(r,n){const i=Math.min(r.length,n.length);for(let o=0;o<i;o++){const c=r.charAt(o),d=n.charAt(o);if(c!==d)return Cd(c)===Cd(d)?qr(c,d):Cd(c)?1:-1}return qr(r.length,n.length)}const e_=55296,t_=57343;function Cd(r){const n=r.charCodeAt(0);return n>=e_&&n<=t_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="__name__";class ps{constructor(n,i,o){i===void 0?i=0:i>n.length&&To(637,{offset:i,range:n.length}),o===void 0?o=n.length-i:o>n.length-i&&To(1746,{length:o,range:n.length-i}),this.segments=n,this.offset=i,this.len=o}get length(){return this.len}isEqual(n){return ps.comparator(this,n)===0}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof ps?n.forEach(o=>{i.push(o)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,o=this.limit();i<o;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const o=Math.min(n.length,i.length);for(let c=0;c<o;c++){const d=ps.compareSegments(n.get(c),i.get(c));if(d!==0)return d}return qr(n.length,i.length)}static compareSegments(n,i){const o=ps.isNumericId(n),c=ps.isNumericId(i);return o&&!c?-1:!o&&c?1:o&&c?ps.extractNumericId(n).compare(ps.extractNumericId(i)):ZN(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return kh.fromString(n.substring(4,n.length-2))}}class Wn extends ps{construct(n,i,o){return new Wn(n,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const o of n){if(o.indexOf("//")>=0)throw new Ve($e.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new Wn(i)}static emptyPath(){return new Wn([])}}const n_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends ps{construct(n,i,o){return new vi(n,i,o)}static isValidIdentifier(n){return n_.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$p}static keyField(){return new vi([$p])}static fromServerFormat(n){const i=[];let o="",c=0;const d=()=>{if(o.length===0)throw new Ve($e.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;c<n.length;){const y=n[c];if(y==="\\"){if(c+1===n.length)throw new Ve($e.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const x=n[c+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new Ve($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=x,c+=2}else y==="`"?(m=!m,c++):y!=="."||m?(o+=y,c++):(d(),c++)}if(d(),m)throw new Ve($e.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new vi(i)}static emptyPath(){return new vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(n){this.path=n}static fromPath(n){return new bi(Wn.fromString(n))}static fromName(n){return new bi(Wn.fromString(n).popFirst(5))}static empty(){return new bi(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&Wn.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,i){return Wn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new bi(new Wn(n.slice()))}}function s_(r,n,i,o){if(n===!0&&o===!0)throw new Ve($e.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function r_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function i_(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const n=function(o){return o.constructor?o.constructor.name:null}(r);return n?`a custom ${n} object`:"an object"}}return typeof r=="function"?"a function":To(12329,{type:typeof r})}function a_(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Ve($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=i_(r);throw new Ve($e.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,n){const i={typeString:r};return n&&(i.value=n),i}function Bo(r,n){if(!r_(r))throw new Ve($e.INVALID_ARGUMENT,"JSON must be an object");let i;for(const o in n)if(n[o]){const c=n[o].typeString,d="value"in n[o]?{value:n[o].value}:void 0;if(!(o in r)){i=`JSON missing required field: '${o}'`;break}const m=r[o];if(c&&typeof m!==c){i=`JSON field '${o}' must be a ${c}.`;break}if(d!==void 0&&m!==d.value){i=`Expected '${o}' field to equal '${d.value}'`;break}}if(i)throw new Ve($e.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-62135596800,Hp=1e6;class gs{static now(){return gs.fromMillis(Date.now())}static fromDate(n){return gs.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),o=Math.floor((n-1e3*i)*Hp);return new gs(i,o)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Ve($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ve($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Vp)throw new Ve($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ve($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hp}_compareTo(n){return this.seconds===n.seconds?qr(this.nanoseconds,n.nanoseconds):qr(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(Bo(n,gs._jsonSchema))return new gs(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-Vp;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gs._jsonSchemaVersion="firestore/timestamp/1.0",gs._jsonSchema={type:gt("string",gs._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};function o_(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new l_("Invalid base64 string: "+d):d}}(n);return new Li(i)}static fromUint8Array(n){const i=function(c){let d="";for(let m=0;m<c.length;++m)d+=String.fromCharCode(c[m]);return d}(n);return new Li(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return qr(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const Jd="(default)";class Sc{constructor(n,i){this.projectId=n,this.database=i||Jd}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(n){return n instanceof Sc&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(n,i=null,o=[],c=[],d=null,m="F",y=null,x=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=m,this.startAt=y,this.endAt=x,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u_(r){return new c_(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qp,Be;(Be=qp||(qp={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kh([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=1048576;function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(n,i,o=1e3,c=1.5,d=6e4){this.Mi=n,this.timerId=i,this.d_=o,this.A_=c,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const i=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),c=Math.max(0,i-o);c>0&&Jn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,()=>(this.f_=Date.now(),n())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(n,i,o,c,d){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,o,c,d){const m=Date.now()+o,y=new Eh(n,i,m,c,d);return y.start(o),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve($e.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Wp,Gp;(Gp=Wp||(Wp={})).Ma="default",Gp.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){const n={};return r.timeoutSeconds!==void 0&&(n.timeoutSeconds=r.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firestore.googleapis.com",Xp=!0;class Jp{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new Ve($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kx,this.ssl=Xp}else this.host=n.host,this.ssl=n.ssl??Xp;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=d_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<h_)throw new Ve($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}s_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f_(n.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(o,c){return o.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Xx{constructor(n,i,o,c){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new Ve($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new qN;switch(o.type){case"firstParty":return new XN(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ve($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=Kp.get(i);o&&(Jn("ComponentProvider","Removing Datastore"),Kp.delete(i),o.terminate())}(this),Promise.resolve()}}function p_(r,n,i,o={}){r=a_(r,Xx);const c=Oi(n),d=r._getSettings(),m={...d,emulatorOptions:r._getEmulatorOptions()},y=`${n}:${i}`;c&&(ah(`https://${y}`),oh("Firestore",!0)),d.host!==Kx&&d.host!==y&&HN("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x={...d,host:y,ssl:c,emulatorOptions:o};if(!Pi(x,m)&&(r._setSettings(x),o.mockUserToken)){let w,N;if(typeof o.mockUserToken=="string")w=o.mockUserToken,N=Ft.MOCK_USER;else{w=$g(o.mockUserToken,r._app?.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new Ve($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ft(R)}r._authCredentials=new WN(new Gx(w,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(n,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new Ch(this.firestore,n,this._query)}}class ys{constructor(n,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Th(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ys(this.firestore,n,this._key)}toJSON(){return{type:ys._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,i,o){if(Bo(i,ys._jsonSchema))return new ys(n,o||null,new bi(Wn.fromString(i.referencePath)))}}ys._jsonSchemaVersion="firestore/documentReference/1.0",ys._jsonSchema={type:gt("string",ys._jsonSchemaVersion),referencePath:gt("string")};class Th extends Ch{constructor(n,i,o){super(n,i,u_(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ys(this.firestore,null,new bi(n))}withConverter(n){return new Th(this.firestore,n,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="AsyncQueue";class Qp{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m_(this,"async_queue_retry"),this._c=()=>{const o=Td();o&&Jn(Yp,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=n;const i=Td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const i=Td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise(()=>{});const i=new vo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Xu.push(n),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!o_(n))throw n;Jn(Yp,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(n){const i=this.ac.then(()=>(this.rc=!0,n().catch(o=>{throw this.nc=o,this.rc=!1,qx("INTERNAL UNHANDLED ERROR: ",Zp(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=i,i}enqueueAfterDelay(n,i,o){this.uc(),this.oc.indexOf(n)>-1&&(i=0);const c=Eh.createAndSchedule(this,n,i,o,d=>this.hc(d));return this.tc.push(c),c}uc(){this.nc&&To(47125,{Pc:Zp(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const i of this.tc)if(i.timerId===n)return!0;return!1}Ec(n){return this.Tc().then(()=>{this.tc.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),n!=="all"&&i.timerId===n)break;return this.Tc()})}dc(n){this.oc.push(n)}hc(n){const i=this.tc.indexOf(n);this.tc.splice(i,1)}}function Zp(r){let n=r.message||"";return r.stack&&(n=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),n}class g_ extends Xx{constructor(n,i,o,c){super(n,i,o,c),this.type="firestore",this._queue=new Qp,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Qp(n),this._firestoreClient=void 0,await n}}}function x_(r,n){const i=typeof r=="object"?r:uh(),o=typeof r=="string"?r:Jd,c=Mc(i,"firestore").getImmediate({identifier:o});if(!c._initialized){const d=zg("firestore");d&&p_(c,...d)}return c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Hs(Li.fromBase64String(n))}catch(i){throw new Ve($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Hs(Li.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:Hs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(Bo(n,Hs._jsonSchema))return Hs.fromBase64String(n.bytes)}}Hs._jsonSchemaVersion="firestore/bytes/1.0",Hs._jsonSchema={type:gt("string",Hs._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(...n){for(let i=0;i<n.length;++i)if(n[i].length===0)throw new Ve($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Ve($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Ve($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return qr(this._lat,n._lat)||qr(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(n){if(Bo(n,Ei._jsonSchema))return new Ei(n.latitude,n.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:gt("string",Ei._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(o,c){if(o.length!==c.length)return!1;for(let d=0;d<o.length;++d)if(o[d]!==c[d])return!1;return!0}(this._values,n._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(Bo(n,Ci._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every(i=>typeof i=="number"))return new Ci(n.vectorValues);throw new Ve($e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:gt("string",Ci._jsonSchemaVersion),vectorValues:gt("object")};const y_=new RegExp("[~\\*/\\[\\]]");function v_(r,n,i){if(n.search(y_)>=0)throw eg(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new Jx(...n.split("."))._internalPath}catch{throw eg(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function eg(r,n,i,o,c){let d=`Function ${n}() called with invalid data`;d+=". ";let m="";return new Ve($e.INVALID_ARGUMENT,d+r+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(n,i,o,c,d){this._firestore=n,this._userDataWriter=i,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new b_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Qx("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i)}}}class b_ extends Yx{data(){return super.data()}}function Qx(r,n){return typeof n=="string"?v_(r,n):n instanceof Jx?n._internalPath:n._delegate._internalPath}class ic{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ja extends Yx{constructor(n,i,o,c,d,m){super(n,i,o,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const o=this._document.data.field(Qx("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve($e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,i={};return i.type=ja._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:gt("string",ja._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class hc extends ja{data(n={}){return super.data(n)}}class bo{constructor(n,i,o,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new ic(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,i){this._snapshot.docs.forEach(o=>{n.call(i,new hc(this._firestore,this._userDataWriter,o.key,o,new ic(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ve($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let m=0;return c._snapshot.docChanges.map(y=>{const x=new hc(c._firestore,c._userDataWriter,y.doc.key,y.doc,new ic(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);return y.doc,{type:"added",doc:x,oldIndex:-1,newIndex:m++}})}{let m=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(y=>d||y.type!==3).map(y=>{const x=new hc(c._firestore,c._userDataWriter,y.doc.key,y.doc,new ic(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);let w=-1,N=-1;return y.type!==0&&(w=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),N=m.indexOf(y.doc.key)),{type:w_(y.type),doc:x,oldIndex:w,newIndex:N}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve($e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=bo._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=QN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],o=[],c=[];return this.docs.forEach(d=>{d._document!==null&&(i.push(d._document),o.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),c.push(d.ref.path))}),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function w_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return To(61501,{type:r})}}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:gt("string",bo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};(function(n,i=!0){(function(c){Fo=c})(Mi),Ri(new Hr("firestore",(o,{instanceIdentifier:c,options:d})=>{const m=o.getProvider("app").getImmediate(),y=new g_(new GN(o.getProvider("auth-internal")),new JN(m,o.getProvider("app-check-internal")),function(w,N){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Ve($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(w.options.projectId,N)}(m,c),m);return d={useFetchStreams:i,...d},y._setSettings(d),y},"PUBLIC").setMultipleInstances(!0)),vs(zp,Fp,n),vs(zp,Fp,"esm2020")})();const Zx={apiKey:"AIzaSyCtpOMtw3GR5yZhokfVox8eP9Ldo5srLrE",authDomain:"mypictures-9dc8b.firebaseapp.com",projectId:"mypictures-9dc8b",storageBucket:"mypictures-9dc8b.firebasestorage.app",messagingSenderId:"722783244073",appId:"1:722783244073:web:e29da99ccd0602e2b3b138"},Ih=hp().length===0?qg(Zx):hp()[0];$N(Ih);x_(Ih);const Ph=Fj(Ih);console.log("Firebase Storage configuré:",Ph);console.log("Storage bucket:",Zx.storageBucket);const e0=({boatId:r,existingPeriods:n=[],onAvailabilityChange:i,isEditing:o=!1})=>{const[c,d]=j.useState(n),[m,y]=j.useState({startDate:"",endDate:"",notes:""}),[x,w]=j.useState(!1),[N,R]=j.useState(null),[E,O]=j.useState({}),[B,C]=j.useState("");j.useEffect(()=>{d(n)},[n]),j.useEffect(()=>{r&&n.length===0&&T()},[r,n.length]);const T=async()=>{try{console.log("🔄 Chargement des disponibilités pour le bateau:",r);const v=await fetch(`http://localhost:3001/api/boats/${r}/availability`);if(console.log("📡 Réponse du serveur:",v.status,v.statusText),v.ok){const k=await v.json();console.log("✅ Disponibilités chargées:",k),d(k)}else{console.error("❌ Erreur lors du chargement des disponibilités:",v.status,v.statusText),v.status===404?console.error("Bateau non trouvé"):v.status===500&&console.error("Erreur serveur");try{const k=await v.json();console.error("Détails de l'erreur:",k)}catch{console.error("Impossible de lire le message d'erreur")}}}catch(v){console.error("❌ Erreur lors du chargement des disponibilités:",v)}},M=()=>{if(console.log("🔄 Ajout d'une nouvelle période:",m),!m.startDate||!m.endDate){C("Veuillez remplir toutes les dates");return}if(new Date(m.startDate)>new Date(m.endDate)){C("La date de fin doit être égale ou postérieure à la date de début");return}if(console.log("✅ Validation des données réussie"),c.length>0){C("Une disponibilité existe déjà. Vous pouvez la modifier ou la supprimer.");return}const v={...m,id:Date.now(),boatId:r};console.log("📅 Période à ajouter:",v),console.log("📋 Périodes existantes avant ajout:",c),d([v]),C(""),i&&(console.log("📤 Notification au composant parent avec la nouvelle disponibilité"),i([v]))},F=()=>{d([]),C(""),i&&i([])},q=v=>{R(v.id||v._id),O({startDate:v.startDate.split("T")[0],endDate:v.endDate.split("T")[0],notes:v.notes||""})},V=()=>{if(!E.startDate||!E.endDate){C("Veuillez remplir toutes les dates");return}if(new Date(E.startDate)>new Date(E.endDate)){C("La date de fin doit être égale ou postérieure à la date de début");return}if(c.some(P=>{if(P.id===N||P._id===N)return!1;const U=new Date(E.startDate),I=new Date(E.endDate),S=new Date(P.startDate),Q=new Date(P.endDate);return U<Q&&I>S})){C("Cette période chevauche une période existante");return}const k=c.map(P=>P.id===N||P._id===N?{...P,startDate:E.startDate,endDate:E.endDate,notes:E.notes}:P);d(k),R(null),O({}),C(""),i&&i(k)},ee=()=>{R(null),O({}),C("")},te=v=>new Date(v).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),A=(v,k)=>{const P=new Date(v),U=new Date(k);P.setHours(0,0,0,0),U.setHours(0,0,0,0);const S=(U.getTime()-P.getTime())/(1e3*60*60*24);return Math.max(1,Math.ceil(S))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx($t,{className:"h-5 w-5 text-blue-600 mr-2"}),"Gestion de la disponibilité"]}),!x&&c.length===0&&e.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ji,{className:"h-4 w-4"}),e.jsx("span",{children:"Ajouter une disponibilité"})]})]}),x&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Nouvelle période de disponibilité"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début *"}),e.jsx("input",{type:"date",value:m.startDate,onChange:v=>y({...m,startDate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin *"}),e.jsx("input",{type:"date",value:m.endDate,onChange:v=>y({...m,endDate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:m.startDate||new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("input",{type:"text",value:m.notes,onChange:v=>y({...m,notes:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Conditions spéciales..."})]})]}),(m.startDate||m.endDate)&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2 flex items-center",children:c.length>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✅"}),"Disponibilité confirmée et visible ci-dessous"]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"👁️"}),"Prévisualisation de la disponibilité"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Période :"}),e.jsxs("p",{className:"text-blue-900",children:[m.startDate?te(m.startDate):"Non définie"," - ",m.endDate?te(m.endDate):"Non définie"]}),m.startDate&&m.endDate&&e.jsxs("span",{className:"text-xs text-blue-600",children:[A(m.startDate,m.endDate)," jours"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Notes :"}),e.jsx("p",{className:"text-blue-900",children:m.notes||"Aucune note"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Statut :"}),e.jsx("p",{className:"text-blue-900",children:c.length>0?"✅ Confirmée et visible":"⏳ En cours de saisie"})]})]}),c.length>0&&e.jsx("div",{className:"mt-3 p-2 bg-green-100 border border-green-300 rounded text-green-800 text-xs",children:'💡 La disponibilité a été confirmée ! Elle apparaît maintenant dans la section "Disponibilité actuelle" ci-dessous.'})]}),B&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[e.jsx(wi,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:B})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:M,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(fc,{className:"h-4 w-4"}),e.jsx("span",{children:"Confirmer"})]}),e.jsxs("button",{onClick:()=>{w(!1),C(""),y({startDate:"",endDate:"",notes:""})},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Annuler"})]}),c.length>0&&e.jsxs("button",{onClick:()=>{w(!1),C(""),y({startDate:"",endDate:"",notes:""})},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Fermer le formulaire"})]})]})]}),c.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($t,{className:"h-5 w-5 text-green-600 mr-2"}),"Disponibilité actuelle"]}),e.jsx("div",{className:"space-y-3",children:c.map((v,k)=>e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[N===(v.id||v._id)?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:E.startDate,onChange:P=>O({...E,startDate:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:E.endDate,onChange:P=>O({...E,endDate:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("input",{type:"text",value:E.notes,onChange:P=>O({...E,notes:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Période"}),e.jsxs("p",{className:"text-green-900 font-semibold",children:[te(v.startDate)," - ",te(v.endDate)]}),e.jsxs("span",{className:"text-xs text-green-600",children:[A(v.startDate,v.endDate)," jours"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Notes"}),e.jsx("p",{className:"text-green-900",children:v.notes||"Aucune note"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>q(v),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",title:"Modifier",children:e.jsx(xc,{className:"h-4 w-4"})}),e.jsx("button",{onClick:F,className:"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors",title:"Supprimer",children:e.jsx(ft,{className:"h-4 w-4"})})]})]}),N===(v.id||v._id)&&e.jsxs("div",{className:"flex space-x-3 mt-4",children:[e.jsxs("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(fc,{className:"h-4 w-4"}),e.jsx("span",{children:"Sauvegarder"})]}),e.jsxs("button",{onClick:ee,className:"bg-gray-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Annuler"})]})]})]},v.id||v._id||k))})]}),c.length===0&&!x&&e.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx($t,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Aucune disponibilité définie"}),e.jsx("p",{className:"text-sm",children:'Cliquez sur "Ajouter une disponibilité" pour commencer'})]}),e.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(wi,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Gestion automatique des réservations"}),e.jsx("p",{children:"Les clients ne pourront réserver que pendant les périodes de disponibilité définies. Les dates déjà réservées seront automatiquement exclues des périodes disponibles."}),e.jsxs("p",{className:"mt-2 text-xs italic",children:["💡 ",e.jsx("strong",{children:"Conseil :"})," Définissez vos disponibilités avant d'ajouter le bateau pour une meilleure visibilité."]})]})]})})]})};function t0({isOpen:r,onClose:n,onBoatAdded:i}){const[o,c]=j.useState({nom:"",type:"voilier",longueur:"",prix_jour:"",capacite:"",image:"",destination:"",description:"",equipements:[]}),[d,m]=j.useState(null),[y,x]=j.useState(null),[w,N]=j.useState(""),[R,E]=j.useState(!1),[O,B]=j.useState([]),[C,T]=j.useState(!1),[M,F]=j.useState(""),[q,V]=j.useState(""),ee=!!localStorage.getItem("token");console.log("🔍 AddBoat: État des disponibilités:",O);const te=["Climatisation","Wifi","Cuisine équipée","Salle de bain","Pont solarium","GPS","Radio VHF","Gilets de sauvetage","Équipement de pêche","Panneaux solaires"],A=Q=>{const{name:fe,value:be,type:de,checked:Z}=Q.target;c(de==="checkbox"?Z?le=>({...le,equipements:[...le.equipements,be]}):le=>({...le,equipements:le.equipements.filter(ne=>ne!==be)}):le=>({...le,[fe]:be}))},v=()=>{w.trim()&&!o.equipements.includes(w.trim())&&(c(Q=>({...Q,equipements:[...Q.equipements,w.trim()]})),N(""))},k=Q=>{c(fe=>({...fe,equipements:fe.equipements.filter(be=>be!==Q)}))},P=Q=>{Q.key==="Enter"&&(Q.preventDefault(),v())},U=Q=>{const fe=Q.target.files[0];if(fe){m(fe);const be=new FileReader;be.onload=de=>{x(de.target.result)},be.readAsDataURL(fe)}},I=Q=>{console.log("📥 AddBoat: Mise à jour des disponibilités reçue:",Q),B(Q)},S=async Q=>{Q.preventDefault(),T(!0),F(""),V("");try{let fe="";if(d){const ne=mx(Ph,`boats/${Date.now()}_${d.name}`),H=await dx(ne,d);fe=await hx(H.ref)}const be={nom:o.nom,type:o.type,longueur:parseFloat(o.longueur),prix_jour:parseFloat(o.prix_jour),capacite:parseInt(o.capacite),image:fe,destination:o.destination,description:o.description,equipements:o.equipements,availability:O.length>0?{startDate:O[0].startDate,endDate:O[0].endDate,notes:O[0].notes||""}:null},de=localStorage.getItem("token");if(!de)throw new Error("Vous devez être connecté pour ajouter un bateau");const Z=await fetch("http://localhost:3001/api/boats",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify(be)});if(!Z.ok){const ne=await Z.json();throw Z.status===401?new Error("Vous devez être connecté pour ajouter un bateau"):Z.status===403?new Error("Vous n'avez pas les permissions pour ajouter un bateau"):new Error(ne.message||"Erreur lors de la création du bateau")}const le=await Z.json();console.log("✅ Bateau créé avec succès:",le),console.log("📋 Disponibilités incluses:",le.availabilities),V("Bateau et disponibilités ajoutés avec succès !"),c({nom:"",type:"voilier",longueur:"",prix_jour:"",capacite:"",image:"",destination:"",description:"",equipements:[]}),m(null),x(null),O.length>0&&(B([]),E(!1)),i&&i(le),setTimeout(()=>{n()},2e3)}catch(fe){console.error("Erreur:",fe),F(fe.message||"Une erreur est survenue")}finally{T(!1)}};return r?ee?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(ji,{className:"h-6 w-6 text-blue-600 mr-2"}),"Ajouter un nouveau bateau"]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du bateau *"}),e.jsx("input",{type:"text",name:"nom",value:o.nom,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nom du bateau"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de bateau *"}),e.jsxs("select",{name:"type",value:o.type,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"catamaran",children:"Catamaran"}),e.jsx("option",{value:"moteur",children:"Bateau à moteur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longueur (mètres) *"}),e.jsx("input",{type:"number",name:"longueur",value:o.longueur,onChange:A,required:!0,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Longueur en mètres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacité (personnes) *"}),e.jsx("input",{type:"number",name:"capacite",value:o.capacite,onChange:A,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de personnes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix par jour (€) *"}),e.jsx("input",{type:"number",name:"prix_jour",value:o.prix_jour,onChange:A,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Prix en euros"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),e.jsx("input",{type:"text",name:"destination",value:o.destination,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Port d'attache"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{name:"description",value:o.description,onChange:A,required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description détaillée du bateau..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image du bateau"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(kg,{className:"h-4 w-4"}),e.jsx("span",{children:"Choisir une image"})]}),y&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Aperçu",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{m(null),x(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:e.jsx(ft,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Équipements disponibles"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:te.map(Q=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:Q,checked:o.equipements.includes(Q),onChange:A,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Q})]},Q))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:w,onChange:Q=>N(Q.target.value),onKeyPress:P,placeholder:"Ajouter un équipement personnalisé",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:v,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Ajouter"})]}),o.equipements.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:o.equipements.map(Q=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[Q,e.jsx("button",{type:"button",onClick:()=>k(Q),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(ft,{className:"h-3 w-3"})})]},Q))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx($t,{className:"h-5 w-5 text-blue-600 mr-2"}),"Gestion des disponibilités"]}),e.jsxs("button",{type:"button",onClick:()=>E(!R),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[R?e.jsx(ft,{className:"h-4 w-4"}):e.jsx(ji,{className:"h-4 w-4"}),e.jsx("span",{children:R?"Masquer":"Gérer les disponibilités"})]})]}),R&&e.jsx(e0,{boatId:null,onAvailabilityChange:I})]}),M&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:M})}),q&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800",children:q})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:C,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Ajout en cours..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ji,{className:"h-4 w-4"}),e.jsx("span",{children:"Ajouter le bateau"})]})})]})]})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez être connecté pour ajouter un bateau."}),e.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})}):null}function j_({isOpen:r,onClose:n,onBoatUpdated:i,boatData:o}){const[c,d]=j.useState({nom:"",type:"voilier",longueur:"",prix_jour:"",capacite:"",image:"",destination:"",description:"",equipements:[]}),[m,y]=j.useState(null),[x,w]=j.useState(null),[N,R]=j.useState(!1),[E,O]=j.useState(""),[B,C]=j.useState(!1),[T,M]=j.useState([]),[F,q]=j.useState(!1),[V,ee]=j.useState(""),[te,A]=j.useState(""),v=!!localStorage.getItem("token"),k=["Climatisation","Wifi","Cuisine équipée","Salle de bain","Pont solarium","GPS","Radio VHF","Gilets de sauvetage","Équipement de pêche","Panneaux solaires"];j.useEffect(()=>{o&&r&&(d({nom:o.nom||"",type:o.type||"voilier",longueur:o.longueur||"",prix_jour:o.prix_jour||"",capacite:o.capacite||"",image:o.image||"",destination:o.destination||"",description:o.description||"",equipements:o.equipements||[]}),o.image&&w(o.image),y(null),R(!1),O(""),o.availability&&o.availability.startDate?(console.log("📋 Disponibilité trouvée dans le bateau:",o.availability),M([{startDate:o.availability.startDate.split("T")[0],endDate:o.availability.endDate.split("T")[0],price:o.availability.price,notes:o.availability.notes||""}])):(console.log("ℹ️ Aucune disponibilité trouvée dans le bateau"),M([])))},[o,r]);const P=de=>{const{name:Z,value:le,type:ne,checked:H}=de.target;d(ne==="checkbox"?H?Y=>({...Y,equipements:[...Y.equipements,le]}):Y=>({...Y,equipements:Y.equipements.filter(ye=>ye!==le)}):Y=>({...Y,[Z]:le}))},U=()=>{E.trim()&&!c.equipements.includes(E.trim())&&(d(de=>({...de,equipements:[...de.equipements,E.trim()]})),O(""))},I=de=>{d(Z=>({...Z,equipements:Z.equipements.filter(le=>le!==de)}))},S=de=>{de.key==="Enter"&&(de.preventDefault(),U())},Q=de=>{const Z=de.target.files[0];if(Z){y(Z),R(!0);const le=new FileReader;le.onload=ne=>{w(ne.target.result)},le.readAsDataURL(Z)}},fe=de=>{M(de)},be=async de=>{de.preventDefault(),q(!0),ee(""),A("");try{const Z=localStorage.getItem("token");if(!Z)throw new Error("Vous devez être connecté pour modifier un bateau");if(!c.nom||!c.type||!c.longueur||!c.prix_jour||!c.capacite)throw new Error("Veuillez remplir tous les champs obligatoires");const le={nom:c.nom,type:c.type,longueur:parseFloat(c.longueur),prix_jour:parseFloat(c.prix_jour),capacite:parseInt(c.capacite),destination:c.destination,description:c.description,equipements:c.equipements,availability:T.length>0?{startDate:T[0].startDate,endDate:T[0].endDate,price:parseFloat(T[0].price),notes:T[0].notes||""}:null};if(N&&m){const Y=mx(Ph,`boats/${Date.now()}_${m.name}`),ye=await dx(Y,m),Pe=await hx(ye.ref);le.image=Pe}const ne=await fetch(`http://localhost:3001/api/boats/${o._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify(le)});if(!ne.ok){const Y=await ne.json();throw ne.status===401?new Error("Vous devez être connecté pour modifier ce bateau"):ne.status===403?new Error("Vous n'avez pas les permissions pour modifier ce bateau"):new Error(Y.message||"Erreur lors de la modification du bateau")}const H=await ne.json();console.log("✅ Bateau mis à jour avec succès:",H),console.log("📋 Disponibilités mises à jour:",H.availability),A("Bateau modifié avec succès !"),d({nom:"",type:"voilier",longueur:"",prix_jour:"",capacite:"",image:"",destination:"",description:"",equipements:[]}),y(null),w(null),R(!1),O(""),M([]),C(!1),i&&i(H),setTimeout(()=>{n()},2e3)}catch(Z){console.error("Erreur:",Z),ee(Z.message||"Une erreur est survenue")}finally{q(!1)}};return r?v?o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(xc,{className:"h-6 w-6 text-blue-600 mr-2"}),"Modifier le bateau : ",o.nom]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:be,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du bateau *"}),e.jsx("input",{type:"text",name:"nom",value:c.nom,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nom du bateau"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de bateau *"}),e.jsxs("select",{name:"type",value:c.type,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"catamaran",children:"Catamaran"}),e.jsx("option",{value:"moteur",children:"Bateau à moteur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longueur (mètres) *"}),e.jsx("input",{type:"number",name:"longueur",value:c.longueur,onChange:P,required:!0,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Longueur en mètres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacité (personnes) *"}),e.jsx("input",{type:"number",name:"capacite",value:c.capacite,onChange:P,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de personnes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix par jour (€) *"}),e.jsx("input",{type:"number",name:"prix_jour",value:c.prix_jour,onChange:P,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Prix en euros"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),e.jsx("input",{type:"text",name:"destination",value:c.destination,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Port d'attache"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{name:"description",value:c.description,onChange:P,required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description détaillée du bateau..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image du bateau"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",id:"image-upload-edit"}),e.jsxs("label",{htmlFor:"image-upload-edit",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(kg,{className:"h-4 w-4"}),e.jsx("span",{children:N?"Changer l'image":"Modifier l'image"})]}),x&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Aperçu",className:"w-20 h-20 object-cover rounded-lg"}),N&&e.jsx("button",{type:"button",onClick:()=>{y(null),w(o.image),R(!1)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:e.jsx(ft,{className:"h-3 w-3"})})]})]}),!N&&o.image&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:`Image actuelle conservée. Cliquez sur "Modifier l'image" pour la changer.`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Équipements disponibles"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:k.map(de=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:de,checked:c.equipements.includes(de),onChange:P,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:de})]},de))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:E,onChange:de=>O(de.target.value),onKeyPress:S,placeholder:"Ajouter un équipement personnalisé",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:U,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Ajouter"})]}),c.equipements.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:c.equipements.map(de=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[de,e.jsx("button",{type:"button",onClick:()=>I(de),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(ft,{className:"h-3 w-3"})})]},de))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{type:"button",onClick:()=>C(!B),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[e.jsx($t,{className:"h-5 w-5"}),e.jsx("span",{children:"Gestion des disponibilités"})]}),B&&e.jsx("div",{className:"mt-4",children:e.jsx(e0,{boatId:o._id,existingPeriods:T,onAvailabilityChange:fe,isEditing:!0})})]}),V&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:V})}),te&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800",children:te})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Mise à jour en cours..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(xc,{className:"h-4 w-4"}),e.jsx("span",{children:"Mettre à jour le bateau"})]})})]})]})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Données manquantes"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Les données du bateau ne sont pas disponibles."}),e.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez être connecté pour modifier un bateau."}),e.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})}):null}function N_(){const[r,n]=j.useState([]),[i,o]=j.useState(!1),[c,d]=j.useState(!1),[m,y]=j.useState(null),[x,w]=j.useState(!0),[N,R]=j.useState("");j.useEffect(()=>{E()},[]);const E=async()=>{try{w(!0);const V=localStorage.getItem("token");if(!V){R("Vous devez être connecté");return}const ee=await fetch("http://localhost:3001/api/boats/my-boats",{headers:{Authorization:`Bearer ${V}`}});if(!ee.ok)throw new Error("Erreur lors de la récupération des bateaux");const te=await ee.json();n(te)}catch(V){R(V.message)}finally{w(!1)}},O=async V=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce bateau ?"))try{const ee=localStorage.getItem("token");if(!(await fetch(`http://localhost:3001/api/boats/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${ee}`}})).ok)throw new Error("Erreur lors de la suppression");n(r.filter(A=>A._id!==V))}catch(ee){R(ee.message)}},B=V=>{y(V),d(!0)},C=()=>{o(!0)},T=V=>{n([...r,V])},M=V=>{n(r.map(ee=>ee._id===V._id?V:ee))},F=()=>{o(!1)},q=()=>{d(!1),y(null)};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des bateaux..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full max-w-6xl bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-blue-700 flex items-center gap-3",children:[e.jsx(It,{className:"h-8 w-8"}),"Gestion de mes bateaux"]}),e.jsxs("button",{onClick:C,className:"inline-flex items-center space-x-2 bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors shadow-lg",children:[e.jsx(ji,{className:"h-5 w-5"}),"Ajouter un bateau"]})]}),N&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:N}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun bateau trouvé"}),e.jsx("p",{className:"text-gray-500",children:"Commencez par ajouter votre premier bateau !"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(V=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"h-48 bg-gray-200 rounded-t-xl flex items-center justify-center",children:[V.image?e.jsx("img",{src:V.image,alt:V.nom,className:"w-full h-full object-cover rounded-t-xl",onError:ee=>{ee.target.style.display="none",ee.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"hidden items-center justify-center text-gray-400",children:e.jsx(Jv,{className:"h-12 w-12"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:V.nom}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:V.type})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(sh,{className:"h-4 w-4"}),e.jsxs("span",{children:[V.longueur,"m"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ti,{className:"h-4 w-4"}),e.jsxs("span",{children:[V.capacite," personnes"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pc,{className:"h-4 w-4"}),e.jsxs("span",{children:[V.prix_jour,"€/jour"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{children:V.localisation})]})]}),V.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:V.description}),V.equipements&&V.equipements.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Équipements :"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[V.equipements.slice(0,3).map((ee,te)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:ee},te)),V.equipements.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",V.equipements.length-3]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>B(V),className:"flex items-center gap-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[e.jsx(xc,{className:"h-4 w-4"}),"Modifier"]}),e.jsxs("button",{onClick:()=>O(V._id),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(Ni,{className:"h-4 w-4"}),"Supprimer"]})]})]})]},V._id))})]}),e.jsx(t0,{isOpen:i,onClose:F,onBoatAdded:T}),e.jsx(j_,{isOpen:c,onClose:q,onBoatUpdated:M,boatData:m})]})}function __(){const r=Zn(),[n,i]=j.useState(!0),[o,c]=j.useState("");j.useEffect(()=>{d()},[]);const d=()=>{try{if(i(!0),!(localStorage.getItem("token")||sessionStorage.getItem("token"))){c("Vous devez être connecté pour ajouter un bateau"),i(!1);return}i(!1)}catch{c("Erreur lors de la vérification de l'authentification"),i(!1)}},m=x=>{console.log("Nouveau bateau ajouté:",x),r("/gestion-bateaux")},y=()=>{r("/gestion-bateaux")};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx(Js,{className:"h-12 w-12 text-blue-500 animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):o?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx(jo,{className:"h-16 w-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-lg text-gray-800 mb-6",children:o}),e.jsx(me,{to:"/connexion",children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Se connecter"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Ia,{}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-6 text-center",children:"Ajouter un nouveau bateau"}),e.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Remplissez le formulaire ci-dessous pour ajouter votre bateau à notre plateforme de location."}),e.jsx(t0,{isOpen:!0,onClose:y,onBoatAdded:m})]})}),e.jsx(Sg,{})]})}function k_(){const[r,n]=j.useState("overview"),[i,o]=j.useState([]),[c,d]=j.useState([]),[m,y]=j.useState(!0),[x,w]=j.useState(!1),[N,R]=j.useState(!1),[E,O]=j.useState(!1),[B,C]=j.useState(!1),[T,M]=j.useState(null),[F,q]=j.useState(null),[V,ee]=j.useState(null),[te,A]=j.useState(null),[v,k]=j.useState(!1),[P,U]=j.useState([]),[I,S]=j.useState({nom:"",prenom:"",email:"",tel:"",role:"client",isProfessionnel:!1,siret:"",siren:""}),[Q,fe]=j.useState({nom:"",prenom:"",email:"",tel:"",password:"",role:"client",isProfessionnel:!1,siret:"",siren:""}),[be,de]=j.useState({nom:"",type:"",longueur:"",prix_jour:"",capacite:"",image:"",destination:"",description:"",equipements:""}),[Z,le]=j.useState({totalUsers:0,totalBoats:0,totalBookings:0,totalReviews:0}),[ne,H]=j.useState(1),[Y]=j.useState(10),[ye,Pe]=j.useState(""),[Ie,Le]=j.useState("all"),[Ae,ze]=j.useState("all"),[Re,nt]=j.useState({currentPage:1,totalPages:1,totalUsers:0,usersPerPage:10}),[En,Cn]=j.useState(1),[es]=j.useState(10),[ts,Ss]=j.useState(""),[ns,tr]=j.useState("all"),[Es,Cs]=j.useState("all"),[Oe,Tn]=j.useState({currentPage:1,totalPages:1,totalBoats:0,boatsPerPage:10}),[Wr,In]=j.useState(1),[nr]=j.useState(10),[sr,ct]=j.useState(""),[et,fn]=j.useState("all"),[ss,Pn]=j.useState("all"),[Me,rs]=j.useState({currentPage:1,totalPages:1,totalReviews:0,reviewsPerPage:10});j.useEffect(()=>{Lt(),Rn(),gn()},[]),j.useEffect(()=>{(ns!=="all"||Es!=="all")&&(Cn(1),Rn())},[ns,Es]),j.useEffect(()=>{if(Ie!=="all"||Ae!=="all"){H(1);const L=new URLSearchParams({page:"1",limit:Y.toString(),search:ye,role:Ie,status:Ae}),he=localStorage.getItem("token");he&&fetch(`http://localhost:3001/api/auth/dashboard?${L}`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}}).then(ae=>ae.json()).then(ae=>{o(ae.allUsers.map(oe=>({id:oe._id,nom:oe.nom,prenom:oe.prenom,email:oe.email,role:oe.role,status:oe.status||"actif",tel:oe.tel||"",siret:oe.siret||"",siren:oe.siren||"",isProfessionnel:oe.isProfessionnel||!1}))),ae.pagination&&nt(ae.pagination)}).catch(ae=>{console.error("Erreur lors du changement de filtre:",ae),pe.error("Erreur lors du changement de filtre")})}},[Ie,Ae]),j.useEffect(()=>{(et!=="all"||ss!=="all")&&(In(1),gn())},[et,ss]);const Lt=async()=>{try{y(!0);const L=localStorage.getItem("token");if(!L){pe.error("Token d'authentification manquant"),window.location.href="/connexion";return}const he=new URLSearchParams({page:ne.toString(),limit:Y.toString(),search:ye,role:Ie,status:Ae}),ae=await fetch(`http://localhost:3001/api/auth/dashboard?${he}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(!ae.ok){if(ae.status===401){pe.error("Accès non autorisé"),window.location.href="/connexion";return}throw new Error("Erreur lors de la récupération des données")}const oe=await ae.json();let Ne=[];try{const Ee=await fetch("http://localhost:3001/api/boats",{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});Ee.ok&&(Ne=await Ee.json()||[])}catch{}let qt=[];try{const Ee=await fetch("http://localhost:3001/api/bookings?limit=1000",{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});Ee.ok?(qt=(await Ee.json()).data||[],console.log(`Récupération de ${qt.length} réservations depuis la base de données`)):console.log("Erreur API réservations:",Ee.status,Ee.statusText)}catch(Ee){console.log("API des réservations non disponible:",Ee.message)}let Wt=0,Is=[];for(const Ee of Ne)try{const yn=await fetch(`http://localhost:3001/api/reviews/boat/${Ee._id}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(yn.ok){const Qr=(await yn.json()).data||[];Wt+=Qr.length,Is.push({...Ee,reviews:Qr,reviewCount:Qr.length})}else Is.push({...Ee,reviews:[],reviewCount:0})}catch(yn){console.log(`Erreur lors de la récupération des avis pour ${Ee.nom}:`,yn.message),Is.push({...Ee,reviews:[],reviewCount:0})}const Yr=Ne.length,cr=qt.length;Ne.length===0?console.log("Aucun bateau trouvé dans la base de données"):console.log("Bateaux récupérés:",Ne.map(Ee=>({nom:Ee.nom,type:Ee.type,prix:Ee.prix_jour}))),qt.length===0&&console.log("Aucune réservation trouvée dans la base de données"),le({totalUsers:oe.stats.totalUsers,totalBoats:Yr,totalBookings:cr,totalReviews:Wt}),o(oe.allUsers.map(Ee=>({id:Ee._id,nom:Ee.nom,prenom:Ee.prenom,email:Ee.email,role:Ee.role,status:Ee.status||"actif",tel:Ee.tel||"",siret:Ee.siret||"",siren:Ee.siren||"",isProfessionnel:Ee.isProfessionnel||!1}))),oe.pagination&&nt(oe.pagination),d(Is.map(Ee=>({id:Ee._id,nom:Ee.nom,type:Ee.type,longueur:Ee.longueur,capacite:Ee.capacite,prix:Ee.prix_jour,localisation:Ee.localisation,status:Ee.disponible?"disponible":"indisponible",image:Ee.image,createdAt:Ee.createdAt,reviews:Ee.reviews,reviewCount:Ee.reviewCount})))}catch(L){pe.error("Erreur lors du chargement des données"),console.error(L)}finally{y(!1)}},Rn=async()=>{try{const L=localStorage.getItem("token");if(!L){pe.error("Token d'authentification manquant");return}const he=new URLSearchParams({page:En.toString(),limit:es.toString(),search:ts,type:ns,status:Es}),ae=await fetch(`http://localhost:3001/api/auth/boats?${he}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(ae.ok){const oe=await ae.json();d(oe.boats.map(Ne=>({id:Ne._id,nom:Ne.nom,type:Ne.type,longueur:Ne.longueur,capacite:Ne.capacite,prix:Ne.prix_jour,localisation:Ne.localisation,status:Ne.disponible?"disponible":"indisponible",image:Ne.image,createdAt:Ne.createdAt,proprietaire:Ne.proprietaire}))),oe.pagination&&Tn(oe.pagination)}else pe.error("Erreur lors de la récupération des bateaux")}catch(L){console.error("Erreur lors de la récupération des bateaux:",L),pe.error("Erreur lors de la récupération des bateaux")}},Gr=()=>{localStorage.removeItem("token"),localStorage.removeItem("userNom"),localStorage.removeItem("userPrenom"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("userTel"),window.location.href="/connexion"},nn=L=>{H(L);const he=new URLSearchParams({page:L.toString(),limit:Y.toString(),search:ye,role:Ie,status:Ae}),ae=localStorage.getItem("token");ae&&fetch(`http://localhost:3001/api/auth/dashboard?${he}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}}).then(oe=>oe.json()).then(oe=>{o(oe.allUsers.map(Ne=>({id:Ne._id,nom:Ne.nom,prenom:Ne.prenom,email:Ne.email,role:Ne.role,status:Ne.status||"actif",tel:Ne.tel||"",siret:Ne.siret||"",siren:Ne.siren||"",isProfessionnel:Ne.isProfessionnel||!1}))),oe.pagination&&nt(oe.pagination)}).catch(oe=>{console.error("Erreur lors du changement de page:",oe),pe.error("Erreur lors du chargement de la page")})},rr=()=>{H(1),Lt()},sn=L=>{Cn(L),Rn()},Ts=()=>{Cn(1),Rn()},Kr=()=>{Ss(""),tr("all"),Cs("all"),Cn(1),Rn()},Ht=()=>{Pe(""),Le("all"),ze("all"),H(1);const L=new URLSearchParams({page:"1",limit:Y.toString(),search:"",role:"all",status:"all"}),he=localStorage.getItem("token");he&&fetch(`http://localhost:3001/api/auth/dashboard?${L}`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}}).then(ae=>ae.json()).then(ae=>{o(ae.allUsers.map(oe=>({id:oe._id,nom:oe.nom,prenom:oe.prenom,email:oe.email,role:oe.role,status:oe.status||"actif",tel:oe.tel||"",siret:oe.siret||"",siren:oe.siren||"",isProfessionnel:oe.isProfessionnel||!1}))),ae.pagination&&nt(ae.pagination)}).catch(ae=>{console.error("Erreur lors du rechargement:",ae),pe.error("Erreur lors du rechargement des données")})},pn=async L=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ?"))try{const he=localStorage.getItem("token");if(!he){pe.error("Token d'authentification manquant"),window.location.href="/connexion";return}const ae=await fetch(`http://localhost:3001/api/auth/users/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(!ae.ok){const oe=await ae.json();throw new Error(oe.message||"Erreur lors de la suppression")}o(i.filter(oe=>oe.id!==L)),pe.success("Utilisateur supprimé avec succès"),Lt()}catch(he){pe.error(he.message||"Erreur lors de la suppression de l'utilisateur"),console.error(he)}},ir=L=>{ee(L),R(!0)},An=L=>{A(L),k(!0)},ar=L=>{M(L),S({nom:L.nom,prenom:L.prenom,email:L.email,tel:L.tel||"",role:L.role,isProfessionnel:L.isProfessionnel||!1,siret:L.siret||"",siren:L.siren||""}),w(!0)},or=()=>{fe({nom:"",prenom:"",email:"",tel:"",password:"",role:"client",isProfessionnel:!1,siret:"",siren:""}),O(!0)},Xr=async L=>{if(L.preventDefault(),Q.role==="proprietaire"&&Q.isProfessionnel){if(!Q.siret||Q.siret.length!==14){pe.error("Le SIRET doit contenir exactement 14 chiffres pour les professionnels");return}if(!Q.siren||Q.siren.length!==9){pe.error("Le SIREN doit contenir exactement 9 chiffres pour les professionnels");return}}try{const he=localStorage.getItem("token");if(!he){pe.error("Token d'authentification manquant"),window.location.href="/connexion";return}const ae=await fetch("http://localhost:3001/api/auth/register",{method:"POST",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify({nom:Q.nom,prenom:Q.prenom,email:Q.email,password:Q.password,tel:Q.tel,role:Q.role,...Q.role==="proprietaire"&&{isProfessionnel:Q.isProfessionnel,...Q.isProfessionnel&&{siret:Q.siret,siren:Q.siren}}})});if(!ae.ok){const qt=await ae.json();throw new Error(qt.message||"Erreur lors de la création")}const oe=await ae.json(),Ne={id:oe.user.id,nom:oe.user.nom,prenom:oe.user.prenom,email:oe.user.email,tel:oe.user.tel,role:oe.user.role,status:oe.user.status||"actif",siret:oe.user.siret||"",siren:oe.user.siren||"",isProfessionnel:oe.user.isProfessionnel||!1};o([Ne,...i]),pe.success("Utilisateur créé avec succès"),O(!1),Lt()}catch(he){pe.error(he.message||"Erreur lors de la création de l'utilisateur"),console.error(he)}},Dn=async L=>{if(L.preventDefault(),I.role==="proprietaire"&&I.isProfessionnel){if(!I.siret||I.siret.length!==14){pe.error("Le SIRET doit contenir exactement 14 chiffres pour les professionnels");return}if(!I.siren||I.siren.length!==9){pe.error("Le SIREN doit contenir exactement 9 chiffres pour les professionnels");return}}try{const he=localStorage.getItem("token");if(!he){pe.error("Token d'authentification manquant"),window.location.href="/connexion";return}const ae=await fetch(`http://localhost:3001/api/auth/users/${T.id}`,{method:"PUT",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(!ae.ok){const Ne=await ae.json();throw new Error(Ne.message||"Erreur lors de la modification")}const oe=await ae.json();o(i.map(Ne=>Ne.id===T.id?{...Ne,...oe.user}:Ne)),pe.success("Utilisateur modifié avec succès"),w(!1),M(null),Lt()}catch(he){pe.error(he.message||"Erreur lors de la modification de l'utilisateur"),console.error(he)}},Jr=async L=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce bateau ?"))try{const he=localStorage.getItem("token");if(!he){pe.error("Token d'authentification manquant");return}const ae=await fetch(`http://localhost:3001/api/boats/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(!ae.ok){const oe=await ae.json();throw new Error(oe.message||"Erreur lors de la suppression")}d(c.filter(oe=>oe.id!==L)),pe.success("Bateau supprimé avec succès"),Lt()}catch(he){pe.error(he.message||"Erreur lors de la suppression du bateau"),console.error(he)}},st=L=>{q(L),de({nom:L.nom||"",type:L.type||"",longueur:L.longueur||"",prix_jour:L.prix||L.prix_jour||"",capacite:L.capacite||"",image:L.image||"",destination:L.destination||L.localisation||"",description:L.description||"",equipements:L.equipements||""}),C(!0)},lr=async()=>{try{const L=localStorage.getItem("token");if(!L){pe.error("Token d'authentification manquant");return}const he=await fetch(`http://localhost:3001/api/boats/${F.id}`,{method:"PUT",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(be)});if(!he.ok){const oe=await he.json();throw new Error(oe.message||"Erreur lors de la modification")}const ae=await he.json();d(c.map(oe=>oe.id===F.id?{...oe,...ae}:oe)),pe.success("Bateau modifié avec succès"),C(!1),q(null),Lt()}catch(L){pe.error(L.message||"Erreur lors de la modification du bateau"),console.error(L)}},rn=async L=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cet avis ?"))try{const he=localStorage.getItem("token");if(!he){pe.error("Token d'authentification manquant");return}const ae=await fetch(`http://localhost:3001/api/reviews/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(!ae.ok){const oe=await ae.json();throw new Error(oe.message||"Erreur lors de la suppression")}U(P.filter(oe=>oe.id!==L)),pe.success("Avis supprimé avec succès"),Lt()}catch(he){pe.error(he.message||"Erreur lors de la suppression de l'avis"),console.error(he)}},gn=async()=>{try{const L=localStorage.getItem("token");if(!L){pe.error("Token d'authentification manquant");return}const he=new URLSearchParams({page:Wr.toString(),limit:nr.toString(),search:sr,rating:et,boatId:ss});console.log("Appel API avis avec paramètres:",he.toString());const ae=await fetch(`http://localhost:3001/api/reviews?${he}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(ae.ok){const oe=await ae.json();console.log("Réponse API avis:",oe),U(oe.reviews.map(Ne=>({id:Ne._id,userId:Ne.userId,boatId:Ne.boatId,rating:Ne.rating,comment:Ne.comment,createdAt:Ne.createdAt}))),oe.pagination&&rs(oe.pagination)}else{const oe=await ae.json().catch(()=>({}));console.error("Erreur API avis:",ae.status,oe),pe.error(`Erreur lors de la récupération des avis: ${oe.message||ae.statusText}`)}}catch(L){console.error("Erreur réseau avis:",L),pe.error("Erreur réseau lors de la récupération des avis")}},is=()=>{In(1),gn()},xn=L=>{In(L),gn()},an=()=>{ct(""),fn("all"),Pn("all"),In(1);const L=new URLSearchParams({page:"1",limit:"10",search:"",rating:"all",boatId:"all"}),he=localStorage.getItem("token");he&&fetch(`http://localhost:3001/api/reviews?${L}`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}}).then(ae=>ae.json()).then(ae=>{U(ae.reviews.map(oe=>({id:oe._id,userId:oe.userId,boatId:oe.boatId,rating:oe.rating,comment:oe.comment,createdAt:oe.createdAt}))),ae.pagination&&rs(ae.pagination)}).catch(ae=>{console.error("Erreur lors de l'effacement des filtres:",ae),pe.error("Erreur lors de l'effacement des filtres")})};return m?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du tableau de bord..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx(Lc,{}),e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Admin"}),e.jsx("p",{className:"text-gray-600",children:"Gestion de la plateforme SailingLoc"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Lt,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Rafraîchir les données",children:[e.jsx(xd,{className:"h-5 w-5 mr-2"}),"Actualiser"]}),e.jsxs("button",{onClick:Gr,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(eb,{className:"h-5 w-5 mr-2"}),"Déconnexion"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ti,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.totalUsers})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Fr,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Bateaux"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.totalBoats})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(xd,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Réservations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.totalBookings})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(xd,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avis"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.totalReviews})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>n("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Vue d'ensemble"}),e.jsx("button",{onClick:()=>n("users"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Utilisateurs"}),e.jsx("button",{onClick:()=>n("boats"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="boats"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Bateaux"}),e.jsx("button",{onClick:()=>n("reviews"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Avis"})]})}),e.jsxs("div",{className:"p-6",children:[r==="overview"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activité récente"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Utilisateurs récents"}),e.jsx("div",{className:"space-y-2",children:i.slice(0,3).map(L=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[L.prenom," ",L.nom," (",L.role,")"]}),e.jsx("span",{className:"text-xs text-gray-400",children:L.email})]},L.id))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Bateaux disponibles"}),e.jsx("div",{className:"space-y-2",children:c.slice(0,3).map(L=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:L.nom}),e.jsxs("span",{className:"text-xs text-gray-400",children:[L.prix,"€/jour - ",L.type]})]},L.id))})]})]})]}),r==="users"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestion des utilisateurs"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total : ",Re.totalUsers," utilisateurs • Page ",Re.currentPage," sur ",Re.totalPages]})]}),e.jsxs("button",{onClick:or,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Ajouter un utilisateur"]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border mb-4",children:e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),e.jsx("input",{type:"text",placeholder:"Nom, prénom ou email...",value:ye,onChange:L=>Pe(L.target.value),onKeyPress:L=>L.key==="Enter"&&rr(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rôle"}),e.jsxs("select",{value:Ie,onChange:L=>Le(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Tous"}),e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"proprietaire",children:"Propriétaire"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),e.jsxs("select",{value:Ae,onChange:L=>ze(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Tous"}),e.jsx("option",{value:"actif",children:"Actif"}),e.jsx("option",{value:"inactif",children:"Inactif"}),e.jsx("option",{value:"suspendu",children:"Suspendu"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:rr,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Rechercher"}),e.jsx("button",{onClick:Ht,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors text-sm",children:"Effacer"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rôle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut Pro"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(L=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[L.prenom," ",L.nom]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:L.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.role==="admin"?"bg-red-100 text-red-800":L.role==="proprietaire"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:L.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.role==="proprietaire"?e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.isProfessionnel?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:L.isProfessionnel?"Professionnel":"Particulier"}):e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.status==="actif"?"bg-green-100 text-green-800":L.status==="inactif"?"bg-red-100 text-red-800":L.status==="suspendu"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:L.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>ir(L),className:"text-blue-600 hover:text-blue-900",title:"Voir les détails",children:e.jsx(_a,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ar(L),className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:e.jsx(yd,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>pn(L.id),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:e.jsx(Ni,{className:"h-4 w-4"})})]})})]},L.id))})]})}),Re.totalPages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4 rounded-lg",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>nn(ne-1),disabled:ne===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Précédent"}),e.jsx("button",{onClick:()=>nn(ne+1),disabled:ne===Re.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de ",e.jsx("span",{className:"font-medium",children:(ne-1)*Y+1})," à"," ",e.jsx("span",{className:"font-medium",children:Math.min(ne*Y,Re.totalUsers)})," ","sur ",e.jsx("span",{className:"font-medium",children:Re.totalUsers})," résultats"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>nn(1),disabled:ne===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Première page"}),"«"]}),e.jsxs("button",{onClick:()=>nn(ne-1),disabled:ne===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Précédent"}),"‹"]}),Array.from({length:Math.min(5,Re.totalPages)},(L,he)=>{let ae;return Re.totalPages<=5||ne<=3?ae=he+1:ne>=Re.totalPages-2?ae=Re.totalPages-4+he:ae=ne-2+he,e.jsx("button",{onClick:()=>nn(ae),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium border ${ne===ae?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ae},ae)}),e.jsxs("button",{onClick:()=>nn(ne+1),disabled:ne===Re.totalPages,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Suivant"}),"›"]}),e.jsxs("button",{onClick:()=>nn(Re.totalPages),disabled:ne===Re.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Dernière page"}),"»"]})]})})]})]})]}),r==="boats"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestion des bateaux"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total : ",Oe.totalBoats," bateaux • Page ",Oe.currentPage," sur ",Oe.totalPages]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Ajouter un bateau"]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border mb-4",children:e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),e.jsx("input",{type:"text",placeholder:"Rechercher par nom ou type...",value:ts,onChange:L=>Ss(L.target.value),onKeyPress:L=>L.key==="Enter"&&Ts(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{value:ns,onChange:L=>tr(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Tous"}),e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"moteur",children:"Moteur"}),e.jsx("option",{value:"catamaran",children:"Catamaran"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"pneumatique",children:"Pneumatique"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),e.jsxs("select",{value:Es,onChange:L=>Cs(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Tous"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"loué",children:"Loué"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"réservé",children:"Réservé"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Ts,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Rechercher"}),e.jsx("button",{onClick:Kr,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors text-sm",children:"Effacer"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bateau"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Longueur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacité"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avis"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(L=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.nom})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:L.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[L.longueur,"m"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[L.capacite," pers."]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[L.reviewCount||0," avis"]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.status==="disponible"?"bg-green-100 text-green-800":L.status==="loué"?"bg-blue-100 text-blue-800":L.status==="maintenance"?"bg-yellow-100 text-yellow-800":L.status==="réservé"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:L.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>An(L),className:"text-blue-600 hover:text-blue-900",title:"Voir les avis",children:e.jsx(_a,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>st(L),className:"text-indigo-600 hover:text-indigo-900",title:"Modifier le bateau",children:e.jsx(yd,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Jr(L.id),className:"text-red-600 hover:text-red-900",title:"Supprimer le bateau",children:e.jsx(Ni,{className:"h-4 w-4"})})]})})]},L.id))})]})}),Oe.totalPages>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Affichage de ",(Oe.currentPage-1)*Oe.boatsPerPage+1," à"," ",Math.min(Oe.currentPage*Oe.boatsPerPage,Oe.totalBoats)," sur"," ",Oe.totalBoats," bateaux"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>sn(1),disabled:Oe.currentPage===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Première"}),e.jsx("button",{onClick:()=>sn(Oe.currentPage-1),disabled:Oe.currentPage===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Précédente"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Oe.totalPages)},(L,he)=>{let ae;return Oe.totalPages<=5||Oe.currentPage<=3?ae=he+1:Oe.currentPage>=Oe.totalPages-2?ae=Oe.totalPages-4+he:ae=Oe.currentPage-2+he,e.jsx("button",{onClick:()=>sn(ae),className:`px-3 py-2 text-sm font-medium rounded-md ${ae===Oe.currentPage?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:ae},ae)})}),e.jsx("button",{onClick:()=>sn(Oe.currentPage+1),disabled:Oe.currentPage===Oe.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivante"}),e.jsx("button",{onClick:()=>sn(Oe.totalPages),disabled:Oe.currentPage===Oe.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Dernière"})]})]})]}),r==="reviews"&&e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestion des avis"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total : ",Me.totalReviews," avis • Page ",Me.currentPage," sur ",Me.totalPages]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border mb-4",children:e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),e.jsx("input",{type:"text",placeholder:"Rechercher par commentaire...",value:sr,onChange:L=>ct(L.target.value),onKeyPress:L=>L.key==="Enter"&&is(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),e.jsxs("select",{value:et,onChange:L=>fn(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Toutes"}),e.jsx("option",{value:"5",children:"5 étoiles"}),e.jsx("option",{value:"4",children:"4 étoiles"}),e.jsx("option",{value:"3",children:"3 étoiles"}),e.jsx("option",{value:"2",children:"2 étoiles"}),e.jsx("option",{value:"1",children:"1 étoile"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bateau"}),e.jsxs("select",{value:ss,onChange:L=>Pn(L.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"Tous"}),c.map(L=>e.jsx("option",{value:L.id,children:L.nom},L.id))]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:is,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Rechercher"}),e.jsx("button",{onClick:an,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors text-sm",children:"Effacer"})]})]})}),P.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun avis disponible"}),e.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur n'a encore laissé d'avis sur les bateaux."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bateau"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commentaire"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(L=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[L.userId?.prenom," ",L.userId?.nom]}),e.jsx("div",{className:"text-xs text-gray-500",children:L.userId?.email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.find(he=>he.id===L.boatId?._id||he.id===L.boatId)?.nom||"Bateau supprimé"}),e.jsx("div",{className:"text-xs text-gray-500",children:c.find(he=>he.id===L.boatId?._id||he.id===L.boatId)?.type||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((he,ae)=>e.jsx("span",{className:`text-lg ${ae<L.rating?"text-yellow-400":"text-gray-300"}`,children:"★"},ae)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",L.rating,"/5)"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"max-w-xs",children:e.jsxs("p",{className:"text-sm text-gray-900 truncate",title:L.comment,children:['"',L.comment,'"']})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(L.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>rn(L.id),className:"text-red-600 hover:text-red-900",title:"Supprimer l'avis",children:e.jsx(Ni,{className:"h-4 w-4"})})})})]},L.id))})]})}),Me.totalPages>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Affichage de ",(Me.currentPage-1)*Me.reviewsPerPage+1," à"," ",Math.min(Me.currentPage*Me.reviewsPerPage,Me.totalReviews)," sur"," ",Me.totalReviews," avis"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>xn(1),disabled:Me.currentPage===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Première"}),e.jsx("button",{onClick:()=>xn(Me.currentPage-1),disabled:Me.currentPage===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:cursor-not-allowed",children:"Précédent"}),Array.from({length:Math.min(5,Me.totalPages)},(L,he)=>{let ae;return Me.totalPages<=5||Me.currentPage<=3?ae=he+1:Me.currentPage>=Me.totalPages-2?ae=Me.totalPages-4+he:ae=Me.currentPage-2+he,e.jsx("button",{onClick:()=>xn(ae),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium border ${Me.currentPage===ae?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ae},ae)}),e.jsx("button",{onClick:()=>xn(Me.currentPage+1),disabled:Me.currentPage===Me.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"}),e.jsx("button",{onClick:()=>xn(Me.totalPages),disabled:Me.currentPage===Me.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Dernière"})]})]})]})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Modifier l'utilisateur"}),e.jsx("button",{onClick:()=>{w(!1),M(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsxs("form",{id:"editUserForm",onSubmit:Dn,className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom"}),e.jsx("input",{type:"text",value:I.prenom,onChange:L=>S({...I,prenom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),e.jsx("input",{type:"text",value:I.nom,onChange:L=>S({...I,nom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:I.email,onChange:L=>S({...I,email:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone"}),e.jsx("input",{type:"tel",value:I.tel,onChange:L=>S({...I,tel:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0123456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rôle"}),e.jsxs("select",{value:I.role,onChange:L=>S({...I,role:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"proprietaire",children:"Propriétaire"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),I.role==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"false",checked:I.isProfessionnel===!1,onChange:L=>S({...I,isProfessionnel:L.target.value==="true"}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Particulier"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"true",checked:I.isProfessionnel===!0,onChange:L=>S({...I,isProfessionnel:L.target.value==="true"}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Professionnel"})]})]})]}),I.isProfessionnel&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Informations professionnelles"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIRET *"}),e.jsx("input",{type:"text",value:I.siret||"",onChange:L=>S({...I,siret:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345678901234",pattern:"[0-9]{14}"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"14 chiffres sans espaces"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIREN *"}),e.jsx("input",{type:"text",value:I.siren||"",onChange:L=>S({...I,siren:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123456789",pattern:"[0-9]{9}"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 chiffres sans espaces"})]})]})]})})]})]}),e.jsx("div",{className:"p-6 border-t bg-gray-50 flex-shrink-0",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{w(!1),M(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",form:"editUserForm",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Modifier"})]})})]})}),N&&V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Détails de l'utilisateur"}),e.jsx("button",{onClick:()=>{R(!1),ee(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[V.prenom.charAt(0),V.nom.charAt(0)]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-semibold text-gray-900",children:[V.prenom," ",V.nom]}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${V.role==="admin"?"bg-red-100 text-red-800":V.role==="proprietaire"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:V.role})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Prénom"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.prenom})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nom"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.nom})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.email})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Téléphone"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.tel||"Non renseigné"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Statut"}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:V.status||"Actif"})]}),V.role==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Statut"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.isProfessionnel?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:V.isProfessionnel?"Professionnel":"Particulier"})]}),V.isProfessionnel&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"SIRET"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.siret||"Non renseigné"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"SIREN"}),e.jsx("span",{className:"text-sm text-gray-900",children:V.siren||"Non renseigné"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsx("button",{onClick:()=>{R(!1),ee(null),ar(V)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Modifier"}),e.jsx("button",{onClick:()=>{R(!1),ee(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})]})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ajouter un utilisateur"}),e.jsx("button",{onClick:()=>{O(!1)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsxs("form",{id:"addUserForm",onSubmit:Xr,className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom *"}),e.jsx("input",{type:"text",value:Q.prenom,onChange:L=>fe({...Q,prenom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),e.jsx("input",{type:"text",value:Q.nom,onChange:L=>fe({...Q,nom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:Q.email,onChange:L=>fe({...Q,email:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe *"}),e.jsx("input",{type:"password",value:Q.password,onChange:L=>fe({...Q,password:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:"6"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),e.jsx("input",{type:"tel",value:Q.tel,onChange:L=>fe({...Q,tel:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0123456789",pattern:"[0-9]{10}",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rôle *"}),e.jsxs("select",{value:Q.role,onChange:L=>fe({...Q,role:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"proprietaire",children:"Propriétaire"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),Q.role==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"false",checked:Q.isProfessionnel===!1,onChange:L=>fe({...Q,isProfessionnel:L.target.value==="true"}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Particulier"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"isProfessionnel",value:"true",checked:Q.isProfessionnel===!0,onChange:L=>fe({...Q,isProfessionnel:L.target.value==="true"}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Professionnel"})]})]})]}),Q.isProfessionnel&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Informations professionnelles"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIRET *"}),e.jsx("input",{type:"text",value:Q.siret||"",onChange:L=>fe({...Q,siret:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345678901234",pattern:"[0-9]{14}",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"14 chiffres sans espaces"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIREN *"}),e.jsx("input",{type:"text",value:Q.siren||"",onChange:L=>fe({...Q,siren:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123456789",pattern:"[0-9]{9}",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 chiffres sans espaces"})]})]})]})})]})]}),e.jsx("div",{className:"p-6 border-t bg-gray-50 flex-shrink-0",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{O(!1)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",form:"addUserForm",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Créer"})]})})]})}),v&&te&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Avis du bateau : ",te.nom]}),e.jsx("button",{onClick:()=>{k(!1),A(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ft,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:te.reviews&&te.reviews.length>0?e.jsx("div",{className:"space-y-4",children:te.reviews.map((L,he)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-blue-600",children:L.userId?.nom?.charAt(0)||L.userId?.prenom?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[L.userId?.prenom," ",L.userId?.nom]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(L.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((ae,oe)=>e.jsx("span",{className:`text-lg ${oe<L.rating?"text-yellow-400":"text-gray-300"}`,children:"★"},oe))})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-100",children:e.jsxs("p",{className:"text-gray-700 italic",children:['"',L.comment,'"']})})]},he))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun avis disponible"}),e.jsx("p",{className:"text-gray-500",children:"Ce bateau n'a pas encore reçu d'avis."})]})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>{k(!1),A(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})})]})}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(yd,{className:"h-6 w-6 text-blue-600"}),"Modifier le bateau"]}),e.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ft,{className:"h-6 w-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:L=>{L.preventDefault(),lr()},className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du bateau *"}),e.jsx("input",{type:"text",value:be.nom,onChange:L=>de({...be,nom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nom du bateau",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),e.jsxs("select",{value:be.type,onChange:L=>de({...be,type:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un type"}),e.jsx("option",{value:"voilier",children:"Voilier"}),e.jsx("option",{value:"yacht",children:"Yacht"}),e.jsx("option",{value:"catamaran",children:"Catamaran"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longueur (m) *"}),e.jsx("input",{type:"number",value:be.longueur,onChange:L=>de({...be,longueur:parseFloat(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Longueur en mètres",min:"2",max:"100",step:"0.1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix par jour (€) *"}),e.jsx("input",{type:"number",value:be.prix_jour,onChange:L=>de({...be,prix_jour:parseFloat(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Prix par jour",min:"1",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacité (personnes) *"}),e.jsx("input",{type:"number",value:be.capacite,onChange:L=>de({...be,capacite:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de personnes",min:"1",max:"50",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination *"}),e.jsxs("select",{value:be.destination,onChange:L=>de({...be,destination:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une destination"}),e.jsx("option",{value:"saint-malo",children:"Saint-Malo"}),e.jsx("option",{value:"les-glenan",children:"Les Glénan"}),e.jsx("option",{value:"crozon",children:"Crozon"}),e.jsx("option",{value:"la-rochelle",children:"La Rochelle"}),e.jsx("option",{value:"marseille",children:"Marseille"}),e.jsx("option",{value:"cannes",children:"Cannes"}),e.jsx("option",{value:"ajaccio",children:"Ajaccio"}),e.jsx("option",{value:"barcelone",children:"Barcelone"}),e.jsx("option",{value:"palma",children:"Palma"}),e.jsx("option",{value:"athenes",children:"Athènes"}),e.jsx("option",{value:"venise",children:"Venise"}),e.jsx("option",{value:"amsterdam",children:"Amsterdam"}),e.jsx("option",{value:"split",children:"Split"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image *"}),e.jsx("input",{type:"url",value:be.image,onChange:L=>de({...be,image:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:be.description,onChange:L=>de({...be,description:L.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description du bateau"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Équipements"}),e.jsx("textarea",{value:be.equipements,onChange:L=>de({...be,equipements:L.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Équipements disponibles (séparés par des virgules)"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Modifier le bateau"})]})]})]})})]})}function S_(){return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Ia,{}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-4xl",children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-4",children:"Politique de confidentialité"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Dernière mise à jour : 01/01/2025"})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(_g,{className:"h-7 w-7 mr-3"}),"1. Introduction"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"La présente politique de confidentialité a pour but d'expliquer comment SailingLoc collecte, utilise, protège et partage les données personnelles de ses utilisateurs conformément au Règlement Général sur la Protection des Données (RGPD)."})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(_a,{className:"h-7 w-7 mr-3"}),"2. Données collectées"]}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"Lors de l'utilisation de la plateforme SailingLoc, nous pouvons collecter les données suivantes :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Nom, prénom"}),e.jsx("li",{children:"Adresse e-mail"}),e.jsx("li",{children:"Numéro de téléphone"}),e.jsx("li",{children:"Adresse IP et données de navigation"})]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Données de géolocalisation (si autorisées)"}),e.jsx("li",{children:"Informations de paiement (via Stripe ou PayPal)"}),e.jsx("li",{children:"Historique des réservations"}),e.jsx("li",{children:"Préférences de navigation"})]})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"3. Finalités de la collecte"}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"Les données collectées ont pour objectif :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"La création et la gestion du compte utilisateur"}),e.jsx("li",{children:"La mise en relation entre propriétaires et locataires"}),e.jsx("li",{children:"Le traitement des paiements"}),e.jsx("li",{children:"La gestion des réservations"})]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Le service client"}),e.jsx("li",{children:"L'envoi de notifications ou emails (rappels, suggestions, sécurité)"}),e.jsx("li",{children:"L'amélioration continue de nos services"}),e.jsx("li",{children:"La personnalisation de l'expérience utilisateur"})]})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"4. Consentement"}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"Le consentement est obtenu explicitement via :"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Case à cocher lors de la création de compte"}),e.jsx("li",{children:"Bandeau cookie au premier accès au site"}),e.jsx("li",{children:"Formulaires spécifiques pour la newsletter ou contact"}),e.jsx("li",{children:"Paramètres de confidentialité dans le profil utilisateur"})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"5. Cookies"}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"Le site utilise des cookies pour :"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Analyser la fréquentation (Google Analytics)"}),e.jsx("li",{children:"Optimiser les performances du site"}),e.jsx("li",{children:"Mémoriser vos préférences de navigation"}),e.jsx("li",{children:"Assurer la sécurité de votre session"})]}),e.jsx("p",{className:"text-gray-700 mt-4 text-lg",children:"Vous pouvez configurer les cookies à tout moment via notre bandeau de gestion (outil : Axeptio, Cookiebot...)"})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"6. Durée de conservation"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"Les données sont conservées pour une durée maximale de 3 ans après la dernière interaction. Les données liées aux paiements sont conservées selon les obligations fiscales et légales."})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"7. Vos droits"}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"Conformément au RGPD, vous disposez des droits suivants :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Droit d'accès à vos données"}),e.jsx("li",{children:"Droit de rectification"}),e.jsx("li",{children:`Droit à l'effacement ("droit à l'oubli")`}),e.jsx("li",{children:"Droit à la portabilité"})]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Droit d'opposition et de retrait du consentement"}),e.jsx("li",{children:"Droit à la limitation du traitement"}),e.jsx("li",{children:"Droit de réclamation auprès de la CNIL"}),e.jsx("li",{children:"Droit à la notification des violations"})]})]}),e.jsxs("p",{className:"text-gray-700 mt-4 text-lg",children:["Pour exercer vos droits, envoyez un e-mail à : ",e.jsx("a",{href:"mailto:sailinglocequipe@gmail.com",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"sailinglocequipe@gmail.com"})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(gc,{className:"h-7 w-7 mr-3"}),"8. Sécurité des données"]}),e.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:"SailingLoc utilise les technologies suivantes pour assurer la sécurité des données :"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[e.jsx("li",{children:"Hachage des mots de passe via bcryptjs"}),e.jsx("li",{children:"Token d'authentification sécurisés (JWT)"}),e.jsx("li",{children:"Certificat SSL (HTTPS)"}),e.jsx("li",{children:"Accès limité au personnel autorisé"}),e.jsx("li",{children:"Chiffrement des données sensibles"}),e.jsx("li",{children:"Audit de sécurité régulier"})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(wg,{className:"h-7 w-7 mr-3"}),"9. Hébergement"]}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Vercel Inc."}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," 340 S Lemon Ave #4133, Walnut, CA 91789, États-Unis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Site web :"})," ",e.jsx("a",{href:"https://vercel.com",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"vercel.com"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Conformité :"})," RGPD, SOC 2 Type II, ISO 27001"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sécurité :"})," Infrastructure cloud sécurisée avec chiffrement des données en transit et au repos"]})]})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(Ad,{className:"h-7 w-7 mr-3"}),"10. Développement et maintenance"]}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Agence Pandawan"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Dénomination sociale :"})," Pandawan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date de création :"})," 14/03/2014"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Siège social :"})," 25 Rue du Faubourg Saint-Antoine, 75011 Paris"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Statut juridique :"})," SAS"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expertise :"})," Développement web, IA, UX design, référencement"]})]}),e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:[e.jsx("strong",{children:"Présentation :"})," Pandawan est une agence digitale internationale spécialisée dans la création de contenus digitaux de haute qualité, valorisant l'identité de ses clients à travers l'innovation et la créativité."]})})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"11. Modifications"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"Cette politique peut être modifiée à tout moment. Les utilisateurs seront informés des changements par notification sur le site ou par e-mail."})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 flex items-center",children:[e.jsx(ka,{className:"h-7 w-7 mr-3"}),"12. Contact"]}),e.jsxs("p",{className:"text-gray-700 leading-relaxed text-lg",children:["Pour toute question concernant cette politique de confidentialité ou pour exercer vos droits, contactez-nous à : ",e.jsx("a",{href:"mailto:sailinglocequipe@gmail.com",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"sailinglocequipe@gmail.com"})]}),e.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Note :"})," Cette politique est conforme au RGPD et aux dernières recommandations de la CNIL. Pour plus d'informations sur vos droits, consultez le site de la ",e.jsx("a",{href:"https://www.cnil.fr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-700 transition-colors",children:"CNIL"}),"."]})})]})]})})]})}var n0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tg=qe.createContext&&qe.createContext(n0),E_=["attr","size","title"];function C_(r,n){if(r==null)return{};var i=T_(r,n),o,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(c=0;c<d.length;c++)o=d[c],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(r,o)&&(i[o]=r[o])}return i}function T_(r,n){if(r==null)return{};var i={};for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){if(n.indexOf(o)>=0)continue;i[o]=r[o]}return i}function Ec(){return Ec=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Ec.apply(this,arguments)}function ng(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,o)}return i}function Cc(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?ng(Object(i),!0).forEach(function(o){I_(r,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ng(Object(i)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))})}return r}function I_(r,n,i){return n=P_(n),n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function P_(r){var n=R_(r,"string");return typeof n=="symbol"?n:n+""}function R_(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function s0(r){return r&&r.map((n,i)=>qe.createElement(n.tag,Cc({key:i},n.attr),s0(n.child)))}function r0(r){return n=>qe.createElement(A_,Ec({attr:Cc({},r.attr)},n),s0(r.child))}function A_(r){var n=i=>{var{attr:o,size:c,title:d}=r,m=C_(r,E_),y=c||i.size||"1em",x;return i.className&&(x=i.className),r.className&&(x=(x?x+" ":"")+r.className),qe.createElement("svg",Ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,o,m,{className:x,style:Cc(Cc({color:r.color||i.color},i.style),r.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),d&&qe.createElement("title",null,d),r.children)};return tg!==void 0?qe.createElement(tg.Consumer,null,i=>n(i)):n(n0)}function D_(r){return r0({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(r)}function L_(r){return r0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function O_(){const r=Zn(),[n,i]=j.useState(!0),[o,c]=j.useState(""),[d,m]=j.useState({nom:localStorage.getItem("userNom")||"",prenom:localStorage.getItem("userPrenom")||"",email:localStorage.getItem("userEmail")||"",telephone:localStorage.getItem("userTel")||"",password:"",siret:localStorage.getItem("userSiret")||"",siren:localStorage.getItem("userSiren")||""}),[y,x]=j.useState(""),[w,N]=j.useState(!1),[R,E]=j.useState(!1),[O,B]=j.useState(!1);j.useEffect(()=>{C()},[]);const C=()=>{try{if(i(!0),!(localStorage.getItem("token")||sessionStorage.getItem("token"))){c("Vous devez être connecté pour voir votre profil"),i(!1);return}i(!1)}catch{c("Erreur lors de la vérification de l'authentification"),i(!1)}},T=q=>{m({...d,[q.target.name]:q.target.value})},M=async q=>{q.preventDefault(),x("");try{const V=localStorage.getItem("userId"),ee=await fetch("http://localhost:3001/api/user/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:V,nom:d.nom,prenom:d.prenom,email:d.email,telephone:d.telephone,password:d.password,siret:d.siret,siren:d.siren})}),te=await ee.json();if(!ee.ok)throw new Error(te.message||"Erreur lors de la mise à jour");localStorage.setItem("userNom",te.user.nom),localStorage.setItem("userPrenom",te.user.prenom),localStorage.setItem("userEmail",te.user.email),localStorage.setItem("userTel",te.user.tel),te.user.siret&&localStorage.setItem("userSiret",te.user.siret),te.user.siren&&localStorage.setItem("userSiren",te.user.siren),pe.success(e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:22,marginRight:10},children:"✅"}),e.jsx("div",{children:e.jsx("strong",{style:{color:"#16a34a"},children:"Profil mis à jour avec succès !"})})]}),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#e6f9ec",color:"#16a34a",fontWeight:500,fontSize:18,border:"2px solid #16a34a"},icon:!1}),x("")}catch(V){x(V.message)}},F=async()=>{B(!0);try{const q=localStorage.getItem("token");if(!q)throw new Error("Vous devez être connecté");const V=await fetch("http://localhost:3001/api/user/delete-account",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`}}),ee=await V.json();if(!V.ok)throw new Error(ee.message||"Erreur lors de la suppression du compte");localStorage.clear(),pe.success(e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:22,marginRight:10},children:"✅"}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"#16a34a"},children:"Compte supprimé avec succès"}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:14},children:"Vous allez être redirigé vers l'accueil"})]})]}),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#e6f9ec",color:"#16a34a",fontWeight:500,fontSize:18,border:"2px solid #16a34a"},icon:!1}),setTimeout(()=>{r("/")},3e3)}catch(q){pe.error(e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:22,marginRight:10},children:"❌"}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"#dc2626"},children:"Erreur"}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:14},children:q.message})]})]}),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",style:{background:"#fef2f2",color:"#dc2626",fontWeight:500,fontSize:18,border:"2px solid #dc2626"},icon:!1})}finally{B(!1),E(!1)}};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx(Js,{className:"h-12 w-12 text-blue-500 animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du profil..."})]}):o?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx(jo,{className:"h-12 w-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-lg text-gray-800 mb-2",children:o}),e.jsx(me,{to:"/connexion",children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Se connecter"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Ia,{}),e.jsx(Lc,{}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-6 text-center",children:"Mon profil"}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Nom"}),e.jsx("input",{type:"text",name:"nom",value:d.nom,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"Votre nom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Prénom"}),e.jsx("input",{type:"text",name:"prenom",value:d.prenom,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"Votre prénom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"Votre email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"telephone",value:d.telephone,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"Votre téléphone"})]}),localStorage.getItem("userRole")==="proprietaire"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"SIRET"}),e.jsx("input",{type:"text",name:"siret",value:d.siret,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"12345678901234",maxLength:"14"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"14 chiffres sans espaces"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"SIREN"}),e.jsx("input",{type:"text",name:"siren",value:d.siren,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"123456789",maxLength:"9"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"9 chiffres sans espaces"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:w?"text":"password",name:"password",value:d.password,onChange:T,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-200 pr-12",placeholder:"Nouveau mot de passe (laisser vide pour ne pas changer)"}),e.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>N(q=>!q),tabIndex:0,role:"button","aria-label":w?"Masquer le mot de passe":"Afficher le mot de passe",children:w?e.jsx(D_,{size:22}):e.jsx(L_,{size:22})})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 px-6 rounded-full font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-colors shadow-lg",children:"Enregistrer"}),y&&e.jsx("div",{className:"text-green-600 text-center mt-2",children:y})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone dangereuse"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"La suppression de votre compte est irréversible. Toutes vos données, réservations et bateaux seront définitivement supprimés."}),e.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:[e.jsx(Ni,{className:"h-5 w-5"}),"Supprimer mon compte"]})]})})]})}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(wi,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Supprimer votre compte ?"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Cette action est irréversible. Toutes vos données seront définitivement supprimées."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{type:"button",onClick:F,disabled:O,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Suppression..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ni,{className:"h-4 w-4"}),"Supprimer définitivement"]})})]})]})})})]})}function M_(){return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Ia,{}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-6 text-center",children:"Conditions Générales d’Utilisation (CGU) et de Vente (CGV)"}),e.jsx("p",{className:"mb-4 text-gray-700 text-center",children:"Dernière mise à jour : 01/04/2025"}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"1. Présentation de la plateforme"}),e.jsx("p",{className:"text-gray-700",children:"SailingLoc est une plateforme de mise en relation entre propriétaires de bateaux et particuliers souhaitant louer un voilier ou yacht en Europe. La société est basée à La Rochelle, sous le statut SAS (RCS La Rochelle B 923 456 789)."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"2. Acceptation des CGU/CGV"}),e.jsx("p",{className:"text-gray-700",children:"En accédant ou en utilisant le site SailingLoc, tout utilisateur reconnaît avoir lu, compris et accepté les présentes CGU/CGV sans réserve."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"3. Obligations des parties"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Propriétaires :"})," doivent fournir des informations exactes sur leur bateau (entretien, assurance, équipements)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Locataires :"})," s’engagent à utiliser les bateaux de manière responsable et à respecter les conditions de location."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SailingLoc :"})," s’assure de la conformité juridique des contrats et du respect du RGPD."]})]})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"4. Réservation et Paiement"}),e.jsx("p",{className:"text-gray-700",children:"Les réservations sont effectuées directement via la plateforme, avec paiement sécurisé via Stripe ou PayPal. Des frais de service peuvent s’appliquer."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"5. Droit de rétractation et annulation"}),e.jsx("p",{className:"text-gray-700",children:"Les conditions d’annulation sont définies dans chaque annonce. SailingLoc permet l’annulation selon les délais spécifiés par le propriétaire."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"6. Données personnelles"}),e.jsxs("p",{className:"text-gray-700",children:["Les données collectées (nom, email, numéro, localisation, etc.) sont utilisées dans le cadre de la mise en relation et sont traitées conformément au RGPD. Consultez notre "," ",e.jsx(me,{to:"/politique-confidentialite",className:"text-orange-500 underline",children:"politique de confidentialité"}),"."]})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"7. Responsabilité"}),e.jsx("p",{className:"text-gray-700",children:"SailingLoc décline toute responsabilité en cas de litige entre les utilisateurs. Toutefois, une équipe de modération peut intervenir en cas de signalement."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"8. Modification des CGU/CGV"}),e.jsx("p",{className:"text-gray-700",children:"SailingLoc se réserve le droit de modifier les présentes conditions à tout moment. Les utilisateurs seront notifiés lors de la mise à jour."})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:"9. Contact"}),e.jsxs("p",{className:"text-gray-700",children:["Pour toute question, vous pouvez contacter l’équipe via : ",e.jsx("a",{href:"mailto:sailinglocequipe@gmail.com",className:"text-orange-500 underline",children:"sailinglocequipe@gmail.com"}),"."]})]})]})})]})}function U_(){return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Ia,{}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-8 text-center",children:"Mentions légales"}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-700 flex items-center",children:[e.jsx(Ad,{className:"h-6 w-6 mr-2"}),"1. Éditeur du site"]}),e.jsx("p",{className:"text-gray-700 mb-3",children:"Le site SailingLoc est édité par :"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-3 space-y-1",children:[e.jsx("li",{children:"SailingLoc SAS"}),e.jsx("li",{children:"Société par actions simplifiée au capital de [à compléter] €"}),e.jsx("li",{children:"RCS La Rochelle B 923 456 789"}),e.jsx("li",{children:"Siège social : 12 Rue du Port, 17000 La Rochelle, France"}),e.jsxs("li",{children:["Email : ",e.jsx("a",{href:"mailto:sailinglocequipe@gmail.com",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"sailinglocequipe@gmail.com"})]}),e.jsx("li",{children:"Directeur de la publication : [Nom du responsable légal ou fondateur]"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-700 flex items-center",children:[e.jsx(wg,{className:"h-6 w-6 mr-2"}),"2. Hébergement"]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-3 space-y-1",children:[e.jsx("li",{children:"Le site est hébergé par :"}),e.jsx("li",{children:e.jsx("strong",{children:"Vercel Inc."})}),e.jsxs("li",{children:[e.jsx("strong",{children:"Adresse :"})," 340 S Lemon Ave #4133, Walnut, CA 91789, États-Unis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Site web :"})," ",e.jsx("a",{href:"https://vercel.com",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"vercel.com"})]}),e.jsx("li",{children:"Le prestataire assure un niveau de sécurité conforme aux exigences du RGPD."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-700 flex items-center",children:[e.jsx(Ad,{className:"h-6 w-6 mr-2"}),"3. Conception et développement"]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200",children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Agence Pandawan"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Dénomination sociale :"})," Pandawan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date de création :"})," 14/03/2014"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Siège social :"})," 25 Rue du Faubourg Saint-Antoine, 75011 Paris"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Statut juridique :"})," SAS"]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border border-blue-100",children:[e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:[e.jsx("strong",{children:"Présentation :"})," Pandawan est une agence digitale internationale fondée en 2014, spécialisée dans le développement web, l'intelligence artificielle, le UX design et le référencement performant. Experte dans la création de contenus digitaux, tant pour le web que pour le mobile, l'agence poursuit son expansion dans plusieurs grandes villes à travers le monde."]}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed mt-2",children:[e.jsx("strong",{children:"Son ambition :"})," offrir des services et produits de haute qualité, en valorisant l'identité de ses clients tout en y apportant une véritable valeur ajoutée à travers l'innovation et la créativité."]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-700",children:"4. Propriété intellectuelle"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["L'ensemble des éléments du site (textes, images, graphismes, logo, vidéos, base de données, etc.) est protégé par le Code de la propriété intellectuelle.",e.jsx("br",{}),"Toute reproduction, représentation, modification ou extraction, totale ou partielle, sans autorisation écrite de SailingLoc est interdite."]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-700",children:"5. Responsabilité"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["SailingLoc met tout en œuvre pour assurer l'exactitude des informations diffusées, mais ne saurait être tenue responsable des erreurs ou omissions.",e.jsx("br",{}),"SailingLoc décline toute responsabilité quant à l'utilisation du site ou aux dommages directs ou indirects pouvant en résulter."]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-700",children:"6. Données personnelles"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Pour consulter notre politique de confidentialité, veuillez vous rendre sur la page dédiée :",e.jsx("br",{}),e.jsx(me,{to:"/politique-confidentialite",className:"text-orange-500 underline hover:text-orange-600 transition-colors inline-flex items-center mt-2",children:e.jsx("span",{children:"👉 Politique de confidentialité"})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-700",children:"7. Cookies"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Lors de votre navigation, des cookies peuvent être déposés sur votre terminal. Vous pouvez à tout moment gérer vos préférences via notre bandeau dédié.",e.jsx("br",{}),"Pour plus d'informations, consultez notre ",e.jsx(me,{to:"/politique-confidentialite",className:"text-orange-500 underline hover:text-orange-600 transition-colors",children:"politique de confidentialité"}),"."]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-700 flex items-center",children:[e.jsx(ka,{className:"h-6 w-6 mr-2"}),"8. Contact"]}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Pour toute question ou signalement, vous pouvez nous écrire à :",e.jsx("br",{}),e.jsxs("a",{href:"mailto:sailinglocequipe@gmail.com",className:"text-orange-500 underline hover:text-orange-600 transition-colors inline-flex items-center mt-2",children:[e.jsx(ka,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"📧 sailinglocequipe@gmail.com"})]})]})]})]})})]})}const i0=({isOpen:r,onClose:n,title:i,message:o,type:c="error",details:d=null})=>{if(!r)return null;const m=()=>{switch(c){case"warning":return e.jsx(wi,{className:"h-6 w-6 text-yellow-500"});case"success":return e.jsx($t,{className:"h-6 w-6 text-green-500"});default:return e.jsx(wi,{className:"h-6 w-6 text-red-500"})}},y=()=>{switch(c){case"warning":return"bg-yellow-50 border-yellow-200";case"success":return"bg-green-50 border-green-200";default:return"bg-red-50 border-red-200"}},x=()=>{switch(c){case"warning":return"text-yellow-800";case"success":return"text-green-800";default:return"text-red-800"}},w=()=>{switch(c){case"warning":return"bg-yellow-600 hover:bg-yellow-700";case"success":return"bg-green-600 hover:bg-green-700";default:return"bg-red-600 hover:bg-red-700"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${y()} border rounded-lg shadow-xl max-w-md w-full mx-4`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[m(),e.jsx("h3",{className:`text-lg font-semibold ${x()}`,children:i})]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ft,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:`text-sm ${x()} mb-4`,children:o}),c==="error"&&e.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wi,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-800 text-sm",children:"⚠️ ATTENTION : Ces dates ne peuvent pas être réservées"})]})}),d&&d.conflictingBookings&&d.conflictingBookings.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`font-medium text-sm ${x()} mb-2`,children:"Périodes déjà réservées :"}),e.jsx("div",{className:"space-y-2",children:d.conflictingBookings.map((N,R)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Br,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Client #",N.userId.slice(-6)]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Du :"}),e.jsx("span",{className:"font-medium",children:new Date(N.startDate).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Au :"}),e.jsx("span",{className:"font-medium",children:new Date(N.endDate).toLocaleDateString("fr-FR")})]})]})]},R))})]}),d&&d.availabilityPeriods&&d.availabilityPeriods.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`font-medium text-sm ${x()} mb-2`,children:"Disponibilité :"}),e.jsx("div",{className:"space-y-2",children:d.availabilityPeriods.map((N,R)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded p-3",children:e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Du :"}),e.jsx("span",{className:"font-medium",children:new Date(N.startDate).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Au :"}),e.jsx("span",{className:"font-medium",children:new Date(N.endDate).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{children:"Prix :"}),e.jsxs("span",{className:"font-medium text-green-600",children:[N.price,"€/jour"]})]})]})},R))})]}),c==="error"&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-800 mb-2",children:"Que faire ?"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Choisir une autre période disponible"}),e.jsx("li",{children:"• Contacter le propriétaire pour plus d'options"}),e.jsx("li",{children:"• Vérifier le calendrier pour voir les disponibilités"})]})]})]}),e.jsx("div",{className:"flex justify-end p-4 border-t border-gray-200",children:e.jsx("button",{onClick:n,className:`${w()} text-white px-4 py-2 rounded-lg font-medium transition-colors`,children:"Compris"})})]})})},z_=({boatAvailability:r,existingBookings:n=[],onDateSelect:i,selectedStartDate:o,selectedEndDate:c})=>{const[d,m]=j.useState(new Date),[y,x]=j.useState(null),[w,N]=j.useState({isOpen:!1,title:"",message:"",type:"error",details:null}),R=I=>new Date(I.getFullYear(),I.getMonth(),1),E=I=>new Date(I.getFullYear(),I.getMonth()+1,0),O=I=>E(I).getDate(),B=I=>R(I).getDay(),C=I=>{if(!r||!r.startDate||!r.endDate)return!1;const S=new Date(r.startDate),Q=new Date(r.endDate),fe=new Date(I);return fe.setHours(0,0,0,0),S.setHours(0,0,0,0),Q.setHours(0,0,0,0),fe>=S&&fe<=Q},T=I=>{if(!n||n.length===0)return!1;const S=new Date(I);return S.setHours(0,0,0,0),n.some(Q=>{if(Q.status==="cancelled")return!1;const fe=new Date(Q.startDate),be=new Date(Q.endDate);return fe.setHours(0,0,0,0),be.setHours(0,0,0,0),S>=fe&&S<=be})},M=I=>{if(!n||n.length===0)return[];const S=new Date(I);return S.setHours(0,0,0,0),n.filter(Q=>{if(Q.status==="cancelled")return!1;const fe=new Date(Q.startDate),be=new Date(Q.endDate);return fe.setHours(0,0,0,0),be.setHours(0,0,0,0),S>=fe&&S<=be})},F=I=>{if(!o||!c)return!1;const S=new Date(I),Q=new Date(o),fe=new Date(c);return S.setHours(0,0,0,0),Q.setHours(0,0,0,0),fe.setHours(0,0,0,0),S>=Q&&S<=fe},q=I=>{if(!o)return!1;const S=new Date(I),Q=new Date(o);return S.setHours(0,0,0,0),Q.setHours(0,0,0,0),S.getTime()===Q.getTime()},V=I=>{if(!c)return!1;const S=new Date(I),Q=new Date(c);return S.setHours(0,0,0,0),Q.setHours(0,0,0,0),S.getTime()===Q.getTime()},ee=I=>{const S=new Date;S.setHours(0,0,0,0);const Q=new Date(I);return Q.setHours(0,0,0,0),C(I)&&!T(I)&&Q>=S},te=I=>{if(T(I)){const Q=M(I);N({isOpen:!0,title:"Dates indisponibles",message:"Ces dates sont déjà réservées par un autre client.",type:"error",details:{conflictingBookings:Q}});return}if(!C(I)){N({isOpen:!0,title:"Période non disponible",message:"Cette date n'est pas dans la disponibilité générale du bateau.",type:"error",details:null});return}if(!ee(I))return;const S=I.toISOString().split("T")[0];o?c?i(S,null):new Date(S)>new Date(o)?i(o,S):i(S,o):i(S,null)},A=()=>{m(new Date(d.getFullYear(),d.getMonth()-1,1))},v=()=>{m(new Date(d.getFullYear(),d.getMonth()+1,1))},k=()=>{m(new Date)},U=(()=>{R(d),E(d);const I=O(d),S=B(d),Q=[],fe=new Date(d.getFullYear(),d.getMonth()-1,1),be=O(fe);for(let Z=S-1;Z>=0;Z--){const le=be-Z,ne=new Date(fe.getFullYear(),fe.getMonth(),le);Q.push({date:ne,isCurrentMonth:!1,isClickable:!1})}for(let Z=1;Z<=I;Z++){const le=new Date(d.getFullYear(),d.getMonth(),Z);Q.push({date:le,isCurrentMonth:!0,isClickable:ee(le)})}const de=42-Q.length;for(let Z=1;Z<=de;Z++){const le=new Date(d.getFullYear(),d.getMonth()+1,Z);Q.push({date:le,isCurrentMonth:!1,isClickable:!1})}return Q})();return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx($t,{className:"h-5 w-5 text-blue-600 mr-2"}),"Calendrier de disponibilité"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"←"}),e.jsx("button",{onClick:k,className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",children:"Aujourd'hui"}),e.jsx("button",{onClick:v,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"→"})]})]}),r&&r.startDate&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-800 mb-2",children:[e.jsx(fc,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Disponibilité du bateau"})]}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Du ",new Date(r.startDate).toLocaleDateString("fr-FR"),"au ",new Date(r.endDate).toLocaleDateString("fr-FR")]}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Prix : ",r.price,"€ par jour"]}),r.notes&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Notes : ",r.notes]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map((I,S)=>e.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:I},S))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:U.map((I,S)=>{const Q=C(I.date),fe=T(I.date),be=F(I.date),de=q(I.date),Z=V(I.date),le=I.date.toDateString()===new Date().toDateString();let ne="bg-white",H="text-gray-400",Y="border-gray-200";return I.isCurrentMonth&&(be?de||Z?(ne="bg-blue-600",H="text-white",Y="border-blue-600"):(ne="bg-blue-100",H="text-blue-800",Y="border-blue-200"):fe?(ne="bg-red-100",H="text-red-800",Y="border-red-200"):Q?(ne="bg-green-50",H="text-green-800",Y="border-green-200"):H="text-gray-900"),le&&(Y="border-blue-500"),e.jsxs("div",{className:`
                ${ne} ${H} ${Y}
                border rounded-lg p-2 text-center text-sm cursor-pointer
                transition-all duration-200 hover:shadow-md
                ${I.isClickable?"hover:scale-105":""}
                ${I.isCurrentMonth?"":"opacity-50"}
                ${I.isClickable?"":"cursor-not-allowed"}
              `,onClick:()=>te(I.date),onMouseEnter:()=>x(I.date),onMouseLeave:()=>x(null),children:[e.jsx("div",{className:"font-medium",children:I.date.getDate()}),le&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mx-auto mt-1"}),Q&&!be&&!fe&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mx-auto mt-1"}),fe&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mx-auto mt-1"}),de&&e.jsx("div",{className:"text-xs font-bold mt-1",children:"Début"}),Z&&e.jsx("div",{className:"text-xs font-bold mt-1",children:"Fin"}),fe&&e.jsx("div",{className:"text-xs font-bold text-red-700 bg-red-200 px-2 py-1 rounded-full mt-1",children:"❌ RÉSERVÉ"})]},S)})}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),e.jsx("span",{children:"Disponible"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-200 rounded"}),e.jsx("span",{children:"Réservé"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-200 rounded"}),e.jsx("span",{children:"Sélectionné"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded"}),e.jsx("span",{children:"Début/Fin"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-white border border-blue-500 rounded"}),e.jsx("span",{children:"Aujourd'hui"})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Instructions :"})," Cliquez sur une date disponible pour sélectionner le début de votre réservation, puis cliquez sur une autre date pour sélectionner la fin."]})}),e.jsx(i0,{isOpen:w.isOpen,onClose:()=>N({...w,isOpen:!1}),title:w.title,message:w.message,type:w.type,details:w.details})]})},F_=({startDate:r,endDate:n,boatAvailability:i,existingBookings:o,onConflictDetected:c})=>{if(j.useEffect(()=>{if(r&&n&&c&&m()){const O=y();c({title:"Conflit de réservation détecté",message:"La période sélectionnée chevauche des réservations existantes.",type:"error",details:{conflictingBookings:O}})}},[r,n,o,c]),!r||!n)return null;const d=()=>{if(!i||!i.startDate||!i.endDate)return!1;const E=new Date(i.startDate),O=new Date(i.endDate),B=new Date(r),C=new Date(n);return E.setHours(0,0,0,0),O.setHours(0,0,0,0),B.setHours(0,0,0,0),C.setHours(0,0,0,0),B>=E&&C<=O},m=()=>{if(!o||o.length===0)return!1;const E=new Date(r),O=new Date(n);return E.setHours(0,0,0,0),O.setHours(0,0,0,0),o.some(B=>{if(B.status==="cancelled")return!1;const C=new Date(B.startDate),T=new Date(B.endDate);return C.setHours(0,0,0,0),T.setHours(0,0,0,0),!(O<=C||E>=T)})},y=()=>{if(!o||o.length===0)return[];const E=new Date(r),O=new Date(n);return E.setHours(0,0,0,0),O.setHours(0,0,0,0),o.filter(B=>{if(B.status==="cancelled")return!1;const C=new Date(B.startDate),T=new Date(B.endDate);return C.setHours(0,0,0,0),T.setHours(0,0,0,0),!(O<=C||E>=T)})},x=(E,O)=>{const B=new Date(E),C=new Date(O);B.setHours(0,0,0,0),C.setHours(0,0,0,0);const M=(C.getTime()-B.getTime())/(1e3*60*60*24);return Math.max(1,Math.ceil(M))},w=d(),N=m(),R=y();return w?N?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-800 mb-2",children:[e.jsx(wi,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"⚠️ DATES INDISPONIBLES"})]}),e.jsx("p",{className:"text-sm text-red-700 mb-3",children:"La période sélectionnée chevauche des réservations existantes :"}),e.jsx("div",{className:"space-y-2",children:R.map((E,O)=>e.jsxs("div",{className:"bg-red-100 border border-red-200 rounded p-2",children:[e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("span",{className:"font-medium",children:"Réservé du :"})," ",new Date(E.startDate).toLocaleDateString("fr-FR")]}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("span",{className:"font-medium",children:"Au :"})," ",new Date(E.endDate).toLocaleDateString("fr-FR")]})]},O))}),e.jsx("p",{className:"text-sm text-red-600 mt-3",children:"Veuillez sélectionner une autre période ou contacter le propriétaire."})]}):e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-green-800 mb-2",children:[e.jsx(Na,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Période disponible"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"La période sélectionnée est disponible et peut être réservée."}),e.jsxs("div",{className:"mt-2 text-sm text-green-600",children:[e.jsxs("div",{children:["Du : ",new Date(r).toLocaleDateString("fr-FR")]}),e.jsxs("div",{children:["Au : ",new Date(n).toLocaleDateString("fr-FR")]}),e.jsxs("div",{className:"font-medium mt-1",children:["Durée : ",x(r,n)," jours"]})]})]}):e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-800 mb-2",children:[e.jsx(yc,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Période non disponible"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"La période sélectionnée n'est pas dans la disponibilité générale du bateau."}),e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Disponibilité : du ",new Date(i?.startDate).toLocaleDateString("fr-FR"),"au ",new Date(i?.endDate).toLocaleDateString("fr-FR")]})]})};function B_(){const{boatId:r}=hg();Zn();const[n,i]=j.useState(null),[o,c]=j.useState(!0),[d,m]=j.useState(!1),[y,x]=j.useState(!1),[w,N]=j.useState(""),[R,E]=j.useState([]),[O,B]=j.useState({isOpen:!1,title:"",message:"",type:"error",details:null}),[C,T]=j.useState({startDate:"",endDate:"",numberOfGuests:1,specialRequests:"",totalPrice:0});j.useEffect(()=>{r&&M()},[r]),j.useEffect(()=>{C.startDate&&C.endDate&&n&&F()},[C.startDate,C.endDate,C.numberOfGuests,n]),j.useEffect(()=>{if(C.startDate&&C.endDate&&n){const v=new Date(C.startDate),k=new Date(C.endDate),P=new Date;P.setHours(0,0,0,0),v<=k&&v>=P&&N("")}},[C.startDate,C.endDate,n]);const M=async()=>{try{c(!0);const v=await fetch(`http://localhost:3001/api/boats/${r}`);if(!v.ok)throw new Error("Bateau non trouvé");const k=await v.json();i(k);const P=await fetch(`http://localhost:3001/api/bookings/boat/${r}`);if(P.ok){const U=await P.json();U.success&&(E(U.data),console.log("Réservations existantes chargées:",U.data))}}catch(v){N(v.message)}finally{c(!1)}},F=()=>{if(!C.startDate||!C.endDate||!n)return;const v=new Date(C.startDate),k=new Date(C.endDate),U=Math.max(1,Math.ceil((k-v)/(1e3*60*60*24)))*n.prix_jour;T(I=>({...I,totalPrice:U}))},q=(v,k)=>{const P=new Date(v),U=new Date(k);P.setHours(0,0,0,0),U.setHours(0,0,0,0);const S=(U.getTime()-P.getTime())/(1e3*60*60*24);return Math.max(1,Math.ceil(S))},V=(v,k)=>{T(P=>({...P,[v]:k})),(v==="startDate"||v==="endDate")&&N("")},ee=(v,k)=>{T(P=>({...P,startDate:v||"",endDate:k||""})),N("")},te=v=>{B(v),v.title==="Période non disponible"&&N("Période non disponible - Veuillez sélectionner des dates valides")},A=async v=>{if(v.preventDefault(),!C.startDate||!C.endDate){N("Veuillez sélectionner les dates de début et de fin");return}const k=new Date(C.startDate),P=new Date(C.endDate);if(k>P){N("La date de fin doit être égale ou postérieure à la date de début");return}const U=new Date;if(U.setHours(0,0,0,0),k<U){N("La date de début ne peut pas être dans le passé");return}if(R&&R.length>0&&R.some(S=>{if(S.status==="cancelled")return!1;const Q=new Date(S.startDate),fe=new Date(S.endDate);return k.setHours(0,0,0,0),P.setHours(0,0,0,0),Q.setHours(0,0,0,0),fe.setHours(0,0,0,0),!(P<=Q||k>=fe)})){N("La période sélectionnée chevauche des réservations existantes. Veuillez choisir une autre période.");return}try{m(!0),N("");const I=localStorage.getItem("token")||sessionStorage.getItem("token");if(!I){N("Vous devez être connecté pour effectuer une réservation");return}const S=await fetch("http://localhost:3001/api/payment/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({boatId:r,startDate:C.startDate,endDate:C.endDate,numberOfGuests:C.numberOfGuests,specialRequests:C.specialRequests})});if(!S.ok){const fe=await S.json();throw new Error(fe.message||"Erreur lors de l’initiation du paiement")}const{url:Q}=await S.json();window.location.href=Q}catch(I){N(I.message)}finally{m(!1)}};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du bateau..."})]})}):w&&!n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(It,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:w}),e.jsx(me,{to:"/bateaux",className:"text-blue-600 hover:text-blue-700",children:"Retourner à la liste des bateaux"})]})}):y?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx(Na,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Réservation confirmée !"}),e.jsx("p",{className:"text-gray-600 mb-6",children:'Votre réservation a été créée avec succès ! Elle apparaîtra dans votre espace "Mes Réservations".'}),e.jsx("p",{className:"text-sm text-gray-500",children:'Redirection vers "Mes Réservations" dans quelques secondes...'})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs(me,{to:`/bateaux/${r}`,className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(Pc,{size:20}),e.jsx("span",{children:"Retour au bateau"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Réserver ce bateau"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Détails de la réservation"}),w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:w}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de début"}),e.jsx("input",{type:"date",value:C.startDate,onChange:v=>V("startDate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin"}),e.jsx("input",{type:"date",value:C.endDate,onChange:v=>V("endDate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes"}),e.jsx("select",{value:C.numberOfGuests,onChange:v=>V("numberOfGuests",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[...Array(n.capacite)].map((v,k)=>e.jsxs("option",{value:k+1,children:[k+1," personne",k+1>1?"s":""]},k+1))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),e.jsx("textarea",{value:C.specialRequests,onChange:v=>V("specialRequests",v.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Équipements supplémentaires, préférences particulières..."})]}),!w&&e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Js,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Redirection vers le paiement..."})]}):"Confirmer la réservation"})]}),C.startDate&&C.endDate&&e.jsx(F_,{startDate:C.startDate,endDate:C.endDate,boatAvailability:n?.availability,existingBookings:R,onConflictDetected:te})]}),n&&n.availability&&n.availability.startDate&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calendrier de disponibilité"}),e.jsx(z_,{boatAvailability:n.availability,existingBookings:R,onDateSelect:ee,selectedStartDate:C.startDate,selectedEndDate:C.endDate})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Résumé"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("img",{src:n.image,alt:n.nom,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.nom}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:n.type})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{size:16}),e.jsx("span",{children:n.localisation})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ti,{size:16}),e.jsxs("span",{children:["Capacité : ",n.capacite," personnes"]})]})]}),n.availability&&n.availability.startDate&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-green-800 mb-2",children:[e.jsx($t,{size:16}),e.jsx("span",{className:"font-medium text-sm",children:"Disponibilité"})]}),e.jsxs("div",{className:"text-xs text-green-700 space-y-1",children:[e.jsxs("div",{children:["Du ",new Date(n.availability.startDate).toLocaleDateString("fr-FR")]}),e.jsxs("div",{children:["Au ",new Date(n.availability.endDate).toLocaleDateString("fr-FR")]}),e.jsxs("div",{className:"font-medium",children:["Prix : ",n.availability.price,"€ par jour"]}),n.availability.notes&&e.jsx("div",{className:"italic",children:n.availability.notes})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Prix par jour"}),e.jsxs("span",{className:"font-medium",children:[n.prix_jour,"€"]})]}),C.startDate&&C.endDate&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Durée"}),e.jsxs("span",{className:"font-medium",children:[q(C.startDate,C.endDate)," jours"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Nombre de personnes"}),e.jsx("span",{className:"font-medium",children:C.numberOfGuests})]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-lg text-blue-600",children:[C.totalPrice,"€"]})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Informations importantes"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Réservation sécurisée"}),e.jsx("li",{children:"• Annulation gratuite jusqu'à 24h avant"}),e.jsx("li",{children:"• Paiement sécurisé"}),e.jsx("li",{children:"• Support client 24/7"})]})]})]})})]})}),e.jsx(i0,{isOpen:O.isOpen,onClose:()=>B({...O,isOpen:!1}),title:O.title,message:O.message,type:O.type,details:O.details})]})}function $_(){const[r,n]=j.useState([]),[i,o]=j.useState(!0),[c,d]=j.useState("");j.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const N=localStorage.getItem("token")||sessionStorage.getItem("token");if(!N){d("Vous devez être connecté pour voir vos réservations"),o(!1);return}const R=await fetch("http://localhost:3001/api/bookings/my-bookings",{headers:{Authorization:`Bearer ${N}`}});if(!R.ok)throw new Error("Erreur lors de la récupération des réservations");const E=await R.json();n(E.data||[])}catch(N){d(N.message)}finally{o(!1)}},y=N=>{switch(N){case"confirmed":return{icon:e.jsx(Gn,{size:20,className:"text-blue-600"}),label:"Confirmée",color:"bg-blue-100 text-blue-800 border-blue-200"};case"pending":return{icon:e.jsx(Gn,{size:20,className:"text-yellow-600"}),label:"En attente",color:"bg-yellow-100 text-yellow-800 border-yellow-200"};case"cancelled":return{icon:e.jsx(yc,{size:20,className:"text-red-600"}),label:"Annulée",color:"bg-red-100 text-red-800 border-red-200"};default:return{icon:e.jsx(jo,{size:20,className:"text-gray-600"}),label:N,color:"bg-gray-100 text-gray-800 border-gray-200"}}},x=N=>new Date(N).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),w=(N,R)=>{const E=new Date(N),O=new Date(R);E.setHours(0,0,0,0),O.setHours(0,0,0,0);const C=(O.getTime()-E.getTime())/(1e3*60*60*24);return Math.max(1,Math.ceil(C))};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de vos réservations..."})]})}):c?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx(jo,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erreur"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx(me,{to:"/connexion",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Se connecter"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Réservations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez et suivez toutes vos réservations de bateaux"})]}),e.jsx(me,{to:"/bateaux",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Réserver un bateau"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(It,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Aucune réservation pour le moment"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Vous n'avez pas encore de réservations. Commencez par explorer nos bateaux disponibles et réservez votre première sortie en mer !"}),e.jsx(me,{to:"/bateaux",className:"inline-block bg-orange-500 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-orange-600 transition-colors",children:"Découvrir nos bateaux"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($t,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Gn,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmées"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(N=>N.status==="confirmed").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Gn,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(N=>N.status==="pending").length})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Toutes vos réservations"}),r.map(N=>{const R=y(N.status),E=w(N.startDate,N.endDate);return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.boatId?.nom||"Bateau"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${R.color}`,children:[R.icon,e.jsx("span",{className:"ml-1",children:R.label})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Du ",x(N.startDate)," au ",x(N.endDate)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:[E," jour",E>1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:[N.numberOfGuests," personne",N.numberOfGuests>1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pc,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:[N.totalPrice,"€"]})]})]}),N.specialRequests&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Demandes spéciales :"})," ",N.specialRequests]})})]}),e.jsx("div",{className:"flex flex-col items-end space-y-2",children:e.jsx(me,{to:`/bateaux/${N.boatId?._id||N.boatId}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Voir le bateau"})})]})})},N._id)})]})]})})]})}const V_=()=>{const[r,n]=j.useState([]),[i,o]=j.useState(!0),[c,d]=j.useState("");j.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0),d("");const O=localStorage.getItem("token")||sessionStorage.getItem("token");if(!O)throw new Error("Token d'authentification manquant");const B=await fetch("http://localhost:3001/api/bookings/owner",{headers:{Authorization:`Bearer ${O}`}}),C=await B.json();if(!B.ok)throw new Error(C.message||`Erreur ${B.status}: ${B.statusText}`);if(C.success)n(C.data),C.message&&console.log(C.message);else throw new Error(C.message||"Erreur lors du chargement des réservations")}catch(O){console.error("Erreur loadOwnerBookings:",O),d(O.message)}finally{o(!1)}},y=async(O,B)=>{try{const C=localStorage.getItem("token")||sessionStorage.getItem("token");if(!C)throw new Error("Token d'authentification manquant");const T=await fetch(`http://localhost:3001/api/bookings/${O}/owner-action`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({action:B})}),M=await T.json();if(!T.ok)throw new Error(M.message||`Erreur ${T.status}: ${T.statusText}`);if(M.success)await m(),alert(M.message);else throw new Error(M.message||"Erreur lors de l'action")}catch(C){console.error("Erreur handleOwnerAction:",C),alert(`Erreur: ${C.message}`)}},x=O=>{switch(O){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Gn,{className:"h-3 w-3 mr-1"}),"En attente"]});case"confirmed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Na,{className:"h-3 w-3 mr-1"}),"Confirmée"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(yc,{className:"h-3 w-3 mr-1"}),"Annulée"]});case"completed":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Terminée"});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:O})}},w=O=>new Date(O).toLocaleDateString("fr-FR"),N=(O,B)=>{const C=new Date(O),T=new Date(B);C.setHours(0,0,0,0),T.setHours(0,0,0,0);const F=(T.getTime()-C.getTime())/(1e3*60*60*24);return Math.max(1,Math.ceil(F))};if(i)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Gn,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des réservations..."})]})});if(c)return e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-800",children:["Erreur: ",c]})});const R=r.filter(O=>O.status==="pending"),E=r.filter(O=>O.status!=="pending");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Gn,{className:"h-5 w-5 text-yellow-600 mr-2"}),"Réservations en attente de confirmation (",R.length,")"]}),R.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune réservation en attente"}):e.jsx("div",{className:"space-y-4",children:R.map(O=>e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Br,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[O.userId?.nom," ",O.userId?.prenom]}),e.jsx("p",{className:"text-sm text-gray-600",children:O.userId?.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(It,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:O.boatId?.nom})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx($t,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Du ",w(O.startDate)," au ",w(O.endDate)]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(pc,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Total: ",O.totalPrice,"€ (",N(O.startDate,O.endDate)," jours)"]})]}),O.numberOfGuests&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Nombre de personnes: ",O.numberOfGuests]}),O.specialRequests&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Demandes spéciales:"})," ",O.specialRequests]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[x(O.status),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>y(O._id,"confirm"),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(Na,{className:"h-4 w-4 mr-1"}),"Confirmer"]}),e.jsxs("button",{onClick:()=>y(O._id,"refuse"),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(yc,{className:"h-4 w-4 mr-1"}),"Refuser"]})]})]})]})},O._id))})]}),E.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autres réservations"}),e.jsx("div",{className:"space-y-4",children:E.map(O=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Br,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[O.userId?.nom," ",O.userId?.prenom]}),e.jsx("p",{className:"text-sm text-gray-600",children:O.userId?.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(It,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:O.boatId?.nom})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx($t,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Du ",w(O.startDate)," au ",w(O.endDate)]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(pc,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Total: ",O.totalPrice,"€"]})]})]}),e.jsx("div",{className:"ml-4",children:x(O.status)})]})},O._id))})]})]})};function H_(){const r=Zn();return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(Pc,{size:20}),e.jsx("span",{children:"Retour"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des réservations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez les réservations de vos bateaux et confirmez ou refusez les demandes"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[e.jsx(Gn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Comment ça fonctionne ?"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"1"})}),e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Client réserve et paie"}),e.jsx("p",{className:"text-sm text-blue-700",children:'Le client sélectionne ses dates, paie et la réservation passe en statut "En attente"'})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"2"})}),e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Dates bloquées"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Les dates sont automatiquement bloquées (rouge) pour éviter les conflits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"3"})}),e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Vous confirmez"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Vous confirmez ou refusez la réservation selon votre disponibilité"})]})]})]}),e.jsx(V_,{})]})]})}function q_(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 pt-20",children:e.jsx("section",{className:"relative py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:e.jsx(It,{className:"h-16 w-16 text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-12 h-12 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"!"})})]}),e.jsx("h1",{className:"text-8xl md:text-9xl font-bold text-blue-600 mb-4 tracking-wider",children:"404"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Page introuvable"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Oups ! Il semble que vous ayez navigué vers des eaux inconnues. Cette page n'existe pas ou a été déplacée."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-12 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[e.jsx(tp,{className:"h-8 w-8 text-blue-500"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Navigation perdue"})]}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Ne vous inquiétez pas, même les meilleurs navigateurs peuvent se perdre ! Utilisez la boussole ci-dessous pour retrouver votre route."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"🌊"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Océans explorés"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:"7"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"⚓"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ports visités"}),e.jsx("div",{className:"text-2xl font-bold text-green-800",children:"42"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"🧭"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Direction trouvée"}),e.jsx("div",{className:"text-2xl font-bold text-orange-800",children:"100%"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsxs(me,{to:"/",className:"inline-flex items-center space-x-3 bg-blue-600 text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[e.jsx(Xv,{size:24}),e.jsx("span",{children:"Retour à l'accueil"})]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center space-x-3 border-2 border-blue-600 text-blue-600 px-8 py-4 rounded-full font-bold text-lg hover:bg-blue-50 transition-all duration-300 transform hover:scale-105",children:[e.jsx(Pc,{size:24}),e.jsx("span",{children:"Page précédente"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Destinations populaires"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(me,{to:"/bateaux",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx(Fr,{className:"h-6 w-6 text-blue-500 group-hover:text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700 group-hover:text-blue-700",children:"Nos bateaux"})]}),e.jsxs(me,{to:"/a-propos",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx(It,{className:"h-6 w-6 text-blue-500 group-hover:text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700 group-hover:text-blue-700",children:"À propos"})]}),e.jsxs(me,{to:"/contact",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx(tp,{className:"h-6 w-6 text-blue-500 group-hover:text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700 group-hover:text-blue-700",children:"Contact"})]}),e.jsxs(me,{to:"/inscription",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx(Fr,{className:"h-6 w-6 text-blue-500 group-hover:text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700 group-hover:text-blue-700",children:"S'inscrire"})]})]})]}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["💡 ",e.jsx("strong",{children:"Conseil de navigateur :"}),"Gardez toujours un œil sur votre boussole !"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[e.jsx(Fr,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"SailingLoc - Votre boussole vers l'aventure"})]})]})]})})})}function W_(){const{pathname:r}=Qn();return j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r]),null}function G_(){const[r,n]=j.useState(!1);j.useEffect(()=>{try{(typeof window<"u"?window.localStorage.getItem("cookieConsent"):null)||n(!0)}catch{n(!0)}},[]),j.useEffect(()=>{if(!(typeof document>"u")&&r){const o=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}}},[r]);const i=o=>{try{typeof window<"u"&&(window.localStorage.setItem("cookieConsent",o),window.localStorage.setItem("cookieConsentAt",new Date().toISOString()))}catch{}n(!1)};return r?e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-consent-title",children:e.jsx("div",{className:"min-h-full flex items-end md:items-center justify-center p-4",children:e.jsxs("div",{className:"w-full md:max-w-3xl rounded-2xl bg-white shadow-2xl border border-gray-200 p-6 md:p-8",children:[e.jsx("h2",{id:"cookie-consent-title",className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Gestion des cookies"}),e.jsxs("p",{className:"text-base md:text-lg text-gray-700 leading-relaxed mb-4",children:["Nous utilisons des cookies pour assurer le bon fonctionnement du site, améliorer votre expérience, mesurer l'audience et sécuriser votre session. Vous pouvez"," ",e.jsx("span",{className:"font-semibold",children:"refuser"})," les cookies non essentiels ou ",e.jsx("span",{className:"font-semibold",children:"accepter"})," tous les cookies. Pour en savoir plus, consultez notre",e.jsxs(me,{to:"/politique-confidentialite",className:"text-blue-600 underline hover:text-blue-700",children:[" ","politique de confidentialité"]}),"."]}),e.jsxs("ul",{className:"text-sm md:text-base text-gray-600 list-disc pl-5 space-y-1 mb-6",children:[e.jsx("li",{children:"Cookies essentiels: nécessaires au fonctionnement et à la sécurité (toujours actifs)."}),e.jsx("li",{children:"Cookies de mesure d’audience et de personnalisation: activés uniquement si vous acceptez."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i("rejected"),className:"w-full sm:w-auto px-5 py-3 rounded-xl border border-gray-300 text-gray-800 bg-white hover:bg-gray-50 text-base font-medium",children:"Refuser"}),e.jsx("button",{type:"button",onClick:()=>i("accepted"),className:"w-full sm:w-auto px-5 py-3 rounded-xl bg-blue-600 text-white hover:bg-blue-700 text-base font-semibold",children:"Accepter"})]})]})})}):null}function K_(){const r=Qn();Zn();const[n,i]=j.useState(!0),[o,c]=j.useState(""),d=new URLSearchParams(r.search),m=d.get("boatId"),y=d.get("startDate"),x=d.get("endDate"),w=d.get("numberOfGuests")?parseInt(d.get("numberOfGuests"),10):1,N=d.get("specialRequests")||"",R=async()=>{try{i(!0),c("");const E=localStorage.getItem("token")||sessionStorage.getItem("token");if(!E)throw new Error("Vous devez être connecté pour payer.");if(!m||!y||!x)throw new Error("Paramètres de réservation manquants.");const O=await fetch("http://localhost:3001/api/payment/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({boatId:m,startDate:y,endDate:x,numberOfGuests:w,specialRequests:N})});if(!O.ok){const C=await O.json().catch(()=>({}));throw new Error(C.message||"Échec de l’initiation du paiement.")}const{url:B}=await O.json();window.location.href=B}catch(E){c(E.message)}finally{i(!1)}};return j.useEffect(()=>{m&&y&&x?R():(i(!1),c("Paramètres manquants. Veuillez recommencer la réservation."))},[]),n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Redirection vers le paiement sécurisé..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-8 max-w-md w-full text-center",children:[e.jsx(bg,{className:"h-12 w-12 text-blue-600 mx-auto mb-3"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Paiement"}),o?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsxs("div",{className:"space-x-3",children:[e.jsx(me,{to:"/bateaux",className:"text-blue-600 hover:text-blue-700",children:"Retour aux bateaux"}),m&&y&&x&&e.jsx("button",{onClick:R,className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Réessayer le paiement"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Cliquez sur le bouton ci-dessous si vous n’avez pas été redirigé automatiquement."}),e.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Continuer vers Stripe"})]})]})})}function X_(){const r=Zn(),[n,i]=j.useState("Validation du paiement en cours..."),[o,c]=j.useState("");return j.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("session_id"),y=localStorage.getItem("token")||sessionStorage.getItem("token");async function x(){try{if(!m)throw new Error("Identifiant de session Stripe manquant.");if(!y)throw new Error("Vous devez être connecté pour finaliser la réservation.");const w=await fetch("http://localhost:3001/api/payment/confirm",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({session_id:m})});if(!w.ok){const N=await w.json().catch(()=>({}));throw new Error(N.message||"Échec de la confirmation du paiement.")}i("Paiement confirmé ! Votre réservation est en attente de confirmation par le propriétaire."),setTimeout(()=>r("/mes-reservations"),4e3)}catch(w){c(w.message)}}x()},[r]),o?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx("button",{onClick:()=>r("/"),className:"text-blue-600 hover:text-blue-700",children:"Retour à l’accueil"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Na,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-800",children:n}),e.jsx(Js,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mt-4"}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>r("/mes-reservations"),className:"text-blue-600 hover:text-blue-700",children:"Aller à mes réservations"})})]})})}function J_(){const[r]=Mv(),n=Zn(),[i,o]=j.useState("Paiement annulé. Annulation de la réservation en cours..."),[c,d]=j.useState("");return j.useEffect(()=>{const m=r.get("bookingId"),y=localStorage.getItem("token")||sessionStorage.getItem("token");async function x(){try{if(!m){o("Paiement annulé.");return}if(!y){d("Veuillez vous connecter pour annuler la réservation.");return}const w=await fetch(`http://localhost:3001/api/bookings/${m}/cancel`,{method:"PUT",headers:{Authorization:`Bearer ${y}`}});if(!w.ok){const N=await w.json().catch(()=>({}));throw new Error(N.message||"Impossible d’annuler la réservation.")}o("Réservation annulée suite à l’annulation du paiement.")}catch(w){d(w.message)}}x()},[r]),e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-8 max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-3",children:"Paiement annulé"}),c?e.jsx("p",{className:"text-red-600 mb-6",children:c}):e.jsx("p",{className:"text-gray-700 mb-6",children:i}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>n(-1),className:"text-blue-600 hover:text-blue-700",children:"Revenir en arrière"}),e.jsx(me,{to:"/bateaux",className:"text-blue-600 hover:text-blue-700",children:"Voir les bateaux"})]})]})})}function Y_(){return e.jsxs(Rv,{children:[e.jsx(W_,{}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Ia,{}),e.jsx("main",{children:e.jsxs(lv,{children:[e.jsx(ot,{path:"/",element:e.jsx(Vb,{})}),e.jsx(ot,{path:"/bateaux",element:e.jsx(Hb,{})}),e.jsx(ot,{path:"/bateaux/:id",element:e.jsx(Jb,{})}),e.jsx(ot,{path:"/reservation/:boatId",element:e.jsx(B_,{})}),e.jsx(ot,{path:"/mes-reservations",element:e.jsx($_,{})}),e.jsx(ot,{path:"/payment",element:e.jsx(K_,{})}),e.jsx(ot,{path:"/payment/success",element:e.jsx(X_,{})}),e.jsx(ot,{path:"/payment/cancel",element:e.jsx(J_,{})}),e.jsx(ot,{path:"/a-propos",element:e.jsx(Wb,{})}),e.jsx(ot,{path:"/contact",element:e.jsx(Gb,{})}),e.jsx(ot,{path:"/connexion",element:e.jsx(Yb,{})}),e.jsx(ot,{path:"/inscription",element:e.jsx(Qb,{})}),e.jsx(ot,{path:"/favoris",element:e.jsx(Zb,{})}),e.jsx(ot,{path:"/gestion-bateaux",element:e.jsx(N_,{})}),e.jsx(ot,{path:"/gestion-reservations",element:e.jsx(H_,{})}),e.jsx(ot,{path:"/ajouter-bateau",element:e.jsx(__,{})}),e.jsx(ot,{path:"/admin",element:e.jsx(k_,{})}),e.jsx(ot,{path:"/politique-confidentialite",element:e.jsx(S_,{})}),e.jsx(ot,{path:"/profil",element:e.jsx(O_,{})}),e.jsx(ot,{path:"/cgu-cgv",element:e.jsx(M_,{})}),e.jsx(ot,{path:"/mentions-legales",element:e.jsx(U_,{})}),e.jsx(ot,{path:"*",element:e.jsx(q_,{})})]})}),e.jsx(Sg,{}),e.jsx(G_,{})]})]})}yy.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(Y_,{})}));
